const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/short-SjwPjgwN.js","assets/carcard8-CLTewSkQ.js","assets/short-DakKSkfm.css","assets/long-DADxjPOK.js","assets/carcard10-fJ-4C_RU.js","assets/long-Bq4xTdtx.css","assets/regsafari-BOPgz6p3.js","assets/regsafari-CRMSJ-Ig.css","assets/upsafari-DZisK2Oe.js","assets/upsafari-CRawg0Kl.css","assets/addon-D5gcUvWn.js","assets/addon-CJCVMgmz.css","assets/34nights-C8e_FVuv.js","assets/34nights-CHNlNVLp.css","assets/56nights-CPZB0aPa.js","assets/56nights-B0tz5rjR.css","assets/city12-CgLIXmbH.js","assets/city12-DjGtr1c4.css","assets/city34-Bgj4gJCW.js","assets/city34-BsnaF__Y.css","assets/sndcruise-8JzkE6KW.js","assets/sndcruise-Bkq4A6nZ.css","assets/sndcruise1-Cn0K54PA.js","assets/sndcruise1-DeCgw3cg.css","assets/city121-Dy-xSb5u.js","assets/city121-BIJtt3qM.css","assets/city341-IM1zhmd5.js","assets/city341-DNgqI79q.css","assets/short1-asyXQQDe.js","assets/short1-DBRR9rEm.css","assets/long1-BpUZ5giK.js","assets/long1-BD3MisiU.css","assets/addon1-J2uIQgM1.js","assets/addon1-B7Av4G1w.css","assets/regsafari1-D1N17UjA.js","assets/regsafari1-mnTb0giw.css","assets/upsafari1-BOoRnx2w.js","assets/upsafari1-DUYoM7yv.css","assets/34nights1-BO7U8kwR.js","assets/34nights1-BJpHmaWU.css","assets/56nights1-ZinxNGOg.js","assets/56nights1-DLL544oL.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const Qb=()=>{};var af={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Jb=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Gm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,h=i>>2,m=(i&3)<<4|a>>4;let g=(a&15)<<2|u>>6,_=u&63;c||(_=64,o||(g=64)),s.push(n[h],n[m],n[g],n[_])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||u==null||m==null)throw new Yb;const g=i<<2|a>>4;if(s.push(g),u!==64){const _=a<<4&240|u>>2;if(s.push(_),m!==64){const R=u<<6&192|m;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Yb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xb=function(t){const e=zm(t);return Gm.encodeByteArray(e,!0)},ya=function(t){return Xb(t).replace(/\./g,"")},Km=function(t){try{return Gm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=()=>Zb().__FIREBASE_DEFAULTS__,t1=()=>{if(typeof process>"u"||typeof af>"u")return;const t=af.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Km(t[1]);return e&&JSON.parse(e)},Ya=()=>{try{return Qb()||e1()||t1()||n1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qm=t=>{var e,n;return(n=(e=Ya())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Jm=t=>{const e=Qm(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ym=()=>{var t;return(t=Ya())==null?void 0:t.config},Xm=t=>{var e;return(e=Ya())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ou(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ya(JSON.stringify(n)),ya(JSON.stringify(o)),""].join(".")}const ki={};function r1(){const t={prod:[],emulator:[]};for(const e of Object.keys(ki))ki[e]?t.emulator.push(e):t.prod.push(e);return t}function i1(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lf=!1;function Lu(t,e){if(typeof window>"u"||typeof document>"u"||!qs(window.location.host)||ki[t]===e||ki[t]||lf)return;ki[t]=e;function n(g){return`__firebase__banner__${g}`}const s="__firebase__banner",i=r1().prod.length>0;function o(){const g=document.getElementById(s);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{lf=!0,o()},g}function h(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=i1(s),_=n("text"),R=document.getElementById(_)||document.createElement("span"),N=n("learnmore"),M=document.getElementById(N)||document.createElement("a"),D=n("preprendIcon"),x=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const F=g.element;a(F),h(M,N);const z=u();c(x,D),F.append(x,R,M,z),document.body.appendChild(F)}i?(R.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function a1(){var e;const t=(e=Ya())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d1(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function h1(){return!a1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f1(){try{return typeof indexedDB=="object"}catch{return!1}}function p1(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="FirebaseError";class Wn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=m1,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,po.prototype.create)}}class po{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?g1(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Wn(r,a,s)}}function g1(t,e){return t.replace(v1,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const v1=/\{\$([^}]+)}/g;function _1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ur(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(cf(i)&&cf(o)){if(!ur(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function cf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function y1(t,e){const n=new b1(t,e);return n.subscribe.bind(n)}class b1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");w1(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=gc),r.error===void 0&&(r.error=gc),r.complete===void 0&&(r.complete=gc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new s1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A1(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:T1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T1(t){return t===Zs?void 0:t}function A1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const C1={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},S1=Ae.INFO,R1={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},k1=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=R1[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uu{constructor(e){this.name=e,this._logLevel=S1,this._logHandler=k1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const P1=(t,e)=>e.some(n=>t instanceof n);let uf,df;function D1(){return uf||(uf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x1(){return df||(df=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eg=new WeakMap,Gc=new WeakMap,tg=new WeakMap,vc=new WeakMap,Fu=new WeakMap;function N1(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Is(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eg.set(n,t)}).catch(()=>{}),Fu.set(e,t),e}function M1(t){if(Gc.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Gc.set(t,e)}let Kc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V1(t){Kc=t(Kc)}function O1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(_c(this),e,...n);return tg.set(s,e.sort?e.sort():[e]),Is(s)}:x1().includes(t)?function(...e){return t.apply(_c(this),e),Is(eg.get(this))}:function(...e){return Is(t.apply(_c(this),e))}}function L1(t){return typeof t=="function"?O1(t):(t instanceof IDBTransaction&&M1(t),P1(t,D1())?new Proxy(t,Kc):t)}function Is(t){if(t instanceof IDBRequest)return N1(t);if(vc.has(t))return vc.get(t);const e=L1(t);return e!==t&&(vc.set(t,e),Fu.set(e,t)),e}const _c=t=>Fu.get(t);function U1(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Is(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Is(o.result),c.oldVersion,c.newVersion,Is(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const F1=["get","getKey","getAll","getAllKeys","count"],W1=["put","add","delete","clear"],yc=new Map;function hf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yc.get(e))return yc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=W1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||F1.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&c.done]))[0]};return yc.set(e,i),i}V1(t=>({...t,get:(e,n,s)=>hf(e,n)||t.get(e,n,s),has:(e,n)=>!!hf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function B1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qc="@firebase/app",ff="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Uu("@firebase/app"),j1="@firebase/app-compat",H1="@firebase/analytics-compat",$1="@firebase/analytics",z1="@firebase/app-check-compat",G1="@firebase/app-check",K1="@firebase/auth",Q1="@firebase/auth-compat",J1="@firebase/database",Y1="@firebase/data-connect",X1="@firebase/database-compat",Z1="@firebase/functions",ew="@firebase/functions-compat",tw="@firebase/installations",nw="@firebase/installations-compat",sw="@firebase/messaging",rw="@firebase/messaging-compat",iw="@firebase/performance",ow="@firebase/performance-compat",aw="@firebase/remote-config",lw="@firebase/remote-config-compat",cw="@firebase/storage",uw="@firebase/storage-compat",dw="@firebase/firestore",hw="@firebase/ai",fw="@firebase/firestore-compat",pw="firebase",mw="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="[DEFAULT]",gw={[Qc]:"fire-core",[j1]:"fire-core-compat",[$1]:"fire-analytics",[H1]:"fire-analytics-compat",[G1]:"fire-app-check",[z1]:"fire-app-check-compat",[K1]:"fire-auth",[Q1]:"fire-auth-compat",[J1]:"fire-rtdb",[Y1]:"fire-data-connect",[X1]:"fire-rtdb-compat",[Z1]:"fire-fn",[ew]:"fire-fn-compat",[tw]:"fire-iid",[nw]:"fire-iid-compat",[sw]:"fire-fcm",[rw]:"fire-fcm-compat",[iw]:"fire-perf",[ow]:"fire-perf-compat",[aw]:"fire-rc",[lw]:"fire-rc-compat",[cw]:"fire-gcs",[uw]:"fire-gcs-compat",[dw]:"fire-fst",[fw]:"fire-fst-compat",[hw]:"fire-vertex","fire-js":"fire-js",[pw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Map,vw=new Map,Yc=new Map;function pf(t,e){try{t.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dr(t){const e=t.name;if(Yc.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;Yc.set(e,t);for(const n of ba.values())pf(n,t);for(const n of vw.values())pf(n,t);return!0}function Xa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new po("app","Firebase",_w);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=mw;function ng(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Jc,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Cs.create("bad-app-name",{appName:String(r)});if(n||(n=Ym()),!n)throw Cs.create("no-options");const i=ba.get(r);if(i){if(ur(n,i.options)&&ur(s,i.config))return i;throw Cs.create("duplicate-app",{appName:r})}const o=new I1(r);for(const c of Yc.values())o.addComponent(c);const a=new yw(n,s,o);return ba.set(r,a),a}function Wu(t=Jc){const e=ba.get(t);if(!e&&t===Jc&&Ym())return ng();if(!e)throw Cs.create("no-app",{appName:t});return e}function kn(t,e,n){let s=gw[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(o.join(" "));return}dr(new xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="firebase-heartbeat-database",ww=1,Ki="firebase-heartbeat-store";let bc=null;function sg(){return bc||(bc=U1(bw,ww,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ki)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),bc}async function Ew(t){try{const n=(await sg()).transaction(Ki),s=await n.objectStore(Ki).get(rg(t));return await n.done,s}catch(e){if(e instanceof Wn)ts.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ts.warn(n.message)}}}async function mf(t,e){try{const s=(await sg()).transaction(Ki,"readwrite");await s.objectStore(Ki).put(e,rg(t)),await s.done}catch(n){if(n instanceof Wn)ts.warn(n.message);else{const s=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(s.message)}}}function rg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=1024,Aw=30;class Iw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gf();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>Aw){const o=Rw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ts.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gf(),{heartbeatsToSend:s,unsentEntries:r}=Cw(this._heartbeatsCache.heartbeats),i=ya(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ts.warn(n),""}}}function gf(){return new Date().toISOString().substring(0,10)}function Cw(t,e=Tw){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),vf(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),vf(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Sw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f1()?p1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ew(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return mf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return mf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vf(t){return ya(JSON.stringify({version:2,heartbeats:t})).length}function Rw(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){dr(new xs("platform-logger",e=>new q1(e),"PRIVATE")),dr(new xs("heartbeat",e=>new Iw(e),"PRIVATE")),kn(Qc,ff,t),kn(Qc,ff,"esm2020"),kn("fire-js","")}kw("");var Pw="firebase",Dw="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn(Pw,Dw,"app");var _f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,ig;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function y(){}y.prototype=b.prototype,C.D=b.prototype,C.prototype=new y,C.prototype.constructor=C,C.C=function(T,S,A){for(var w=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)w[xe-2]=arguments[xe];return b.prototype[S].apply(T,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,b,y){y||(y=0);var T=Array(16);if(typeof b=="string")for(var S=0;16>S;++S)T[S]=b.charCodeAt(y++)|b.charCodeAt(y++)<<8|b.charCodeAt(y++)<<16|b.charCodeAt(y++)<<24;else for(S=0;16>S;++S)T[S]=b[y++]|b[y++]<<8|b[y++]<<16|b[y++]<<24;b=C.g[0],y=C.g[1],S=C.g[2];var A=C.g[3],w=b+(A^y&(S^A))+T[0]+3614090360&4294967295;b=y+(w<<7&4294967295|w>>>25),w=A+(S^b&(y^S))+T[1]+3905402710&4294967295,A=b+(w<<12&4294967295|w>>>20),w=S+(y^A&(b^y))+T[2]+606105819&4294967295,S=A+(w<<17&4294967295|w>>>15),w=y+(b^S&(A^b))+T[3]+3250441966&4294967295,y=S+(w<<22&4294967295|w>>>10),w=b+(A^y&(S^A))+T[4]+4118548399&4294967295,b=y+(w<<7&4294967295|w>>>25),w=A+(S^b&(y^S))+T[5]+1200080426&4294967295,A=b+(w<<12&4294967295|w>>>20),w=S+(y^A&(b^y))+T[6]+2821735955&4294967295,S=A+(w<<17&4294967295|w>>>15),w=y+(b^S&(A^b))+T[7]+4249261313&4294967295,y=S+(w<<22&4294967295|w>>>10),w=b+(A^y&(S^A))+T[8]+1770035416&4294967295,b=y+(w<<7&4294967295|w>>>25),w=A+(S^b&(y^S))+T[9]+2336552879&4294967295,A=b+(w<<12&4294967295|w>>>20),w=S+(y^A&(b^y))+T[10]+4294925233&4294967295,S=A+(w<<17&4294967295|w>>>15),w=y+(b^S&(A^b))+T[11]+2304563134&4294967295,y=S+(w<<22&4294967295|w>>>10),w=b+(A^y&(S^A))+T[12]+1804603682&4294967295,b=y+(w<<7&4294967295|w>>>25),w=A+(S^b&(y^S))+T[13]+4254626195&4294967295,A=b+(w<<12&4294967295|w>>>20),w=S+(y^A&(b^y))+T[14]+2792965006&4294967295,S=A+(w<<17&4294967295|w>>>15),w=y+(b^S&(A^b))+T[15]+1236535329&4294967295,y=S+(w<<22&4294967295|w>>>10),w=b+(S^A&(y^S))+T[1]+4129170786&4294967295,b=y+(w<<5&4294967295|w>>>27),w=A+(y^S&(b^y))+T[6]+3225465664&4294967295,A=b+(w<<9&4294967295|w>>>23),w=S+(b^y&(A^b))+T[11]+643717713&4294967295,S=A+(w<<14&4294967295|w>>>18),w=y+(A^b&(S^A))+T[0]+3921069994&4294967295,y=S+(w<<20&4294967295|w>>>12),w=b+(S^A&(y^S))+T[5]+3593408605&4294967295,b=y+(w<<5&4294967295|w>>>27),w=A+(y^S&(b^y))+T[10]+38016083&4294967295,A=b+(w<<9&4294967295|w>>>23),w=S+(b^y&(A^b))+T[15]+3634488961&4294967295,S=A+(w<<14&4294967295|w>>>18),w=y+(A^b&(S^A))+T[4]+3889429448&4294967295,y=S+(w<<20&4294967295|w>>>12),w=b+(S^A&(y^S))+T[9]+568446438&4294967295,b=y+(w<<5&4294967295|w>>>27),w=A+(y^S&(b^y))+T[14]+3275163606&4294967295,A=b+(w<<9&4294967295|w>>>23),w=S+(b^y&(A^b))+T[3]+4107603335&4294967295,S=A+(w<<14&4294967295|w>>>18),w=y+(A^b&(S^A))+T[8]+1163531501&4294967295,y=S+(w<<20&4294967295|w>>>12),w=b+(S^A&(y^S))+T[13]+2850285829&4294967295,b=y+(w<<5&4294967295|w>>>27),w=A+(y^S&(b^y))+T[2]+4243563512&4294967295,A=b+(w<<9&4294967295|w>>>23),w=S+(b^y&(A^b))+T[7]+1735328473&4294967295,S=A+(w<<14&4294967295|w>>>18),w=y+(A^b&(S^A))+T[12]+2368359562&4294967295,y=S+(w<<20&4294967295|w>>>12),w=b+(y^S^A)+T[5]+4294588738&4294967295,b=y+(w<<4&4294967295|w>>>28),w=A+(b^y^S)+T[8]+2272392833&4294967295,A=b+(w<<11&4294967295|w>>>21),w=S+(A^b^y)+T[11]+1839030562&4294967295,S=A+(w<<16&4294967295|w>>>16),w=y+(S^A^b)+T[14]+4259657740&4294967295,y=S+(w<<23&4294967295|w>>>9),w=b+(y^S^A)+T[1]+2763975236&4294967295,b=y+(w<<4&4294967295|w>>>28),w=A+(b^y^S)+T[4]+1272893353&4294967295,A=b+(w<<11&4294967295|w>>>21),w=S+(A^b^y)+T[7]+4139469664&4294967295,S=A+(w<<16&4294967295|w>>>16),w=y+(S^A^b)+T[10]+3200236656&4294967295,y=S+(w<<23&4294967295|w>>>9),w=b+(y^S^A)+T[13]+681279174&4294967295,b=y+(w<<4&4294967295|w>>>28),w=A+(b^y^S)+T[0]+3936430074&4294967295,A=b+(w<<11&4294967295|w>>>21),w=S+(A^b^y)+T[3]+3572445317&4294967295,S=A+(w<<16&4294967295|w>>>16),w=y+(S^A^b)+T[6]+76029189&4294967295,y=S+(w<<23&4294967295|w>>>9),w=b+(y^S^A)+T[9]+3654602809&4294967295,b=y+(w<<4&4294967295|w>>>28),w=A+(b^y^S)+T[12]+3873151461&4294967295,A=b+(w<<11&4294967295|w>>>21),w=S+(A^b^y)+T[15]+530742520&4294967295,S=A+(w<<16&4294967295|w>>>16),w=y+(S^A^b)+T[2]+3299628645&4294967295,y=S+(w<<23&4294967295|w>>>9),w=b+(S^(y|~A))+T[0]+4096336452&4294967295,b=y+(w<<6&4294967295|w>>>26),w=A+(y^(b|~S))+T[7]+1126891415&4294967295,A=b+(w<<10&4294967295|w>>>22),w=S+(b^(A|~y))+T[14]+2878612391&4294967295,S=A+(w<<15&4294967295|w>>>17),w=y+(A^(S|~b))+T[5]+4237533241&4294967295,y=S+(w<<21&4294967295|w>>>11),w=b+(S^(y|~A))+T[12]+1700485571&4294967295,b=y+(w<<6&4294967295|w>>>26),w=A+(y^(b|~S))+T[3]+2399980690&4294967295,A=b+(w<<10&4294967295|w>>>22),w=S+(b^(A|~y))+T[10]+4293915773&4294967295,S=A+(w<<15&4294967295|w>>>17),w=y+(A^(S|~b))+T[1]+2240044497&4294967295,y=S+(w<<21&4294967295|w>>>11),w=b+(S^(y|~A))+T[8]+1873313359&4294967295,b=y+(w<<6&4294967295|w>>>26),w=A+(y^(b|~S))+T[15]+4264355552&4294967295,A=b+(w<<10&4294967295|w>>>22),w=S+(b^(A|~y))+T[6]+2734768916&4294967295,S=A+(w<<15&4294967295|w>>>17),w=y+(A^(S|~b))+T[13]+1309151649&4294967295,y=S+(w<<21&4294967295|w>>>11),w=b+(S^(y|~A))+T[4]+4149444226&4294967295,b=y+(w<<6&4294967295|w>>>26),w=A+(y^(b|~S))+T[11]+3174756917&4294967295,A=b+(w<<10&4294967295|w>>>22),w=S+(b^(A|~y))+T[2]+718787259&4294967295,S=A+(w<<15&4294967295|w>>>17),w=y+(A^(S|~b))+T[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(S+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+S&4294967295,C.g[3]=C.g[3]+A&4294967295}s.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var y=b-this.blockSize,T=this.B,S=this.h,A=0;A<b;){if(S==0)for(;A<=y;)r(this,C,A),A+=this.blockSize;if(typeof C=="string"){for(;A<b;)if(T[S++]=C.charCodeAt(A++),S==this.blockSize){r(this,T),S=0;break}}else for(;A<b;)if(T[S++]=C[A++],S==this.blockSize){r(this,T),S=0;break}}this.h=S,this.o+=b},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var y=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=y&255,y/=256;for(this.u(C),C=Array(16),b=y=0;4>b;++b)for(var T=0;32>T;T+=8)C[y++]=this.g[b]>>>T&255;return C};function i(C,b){var y=a;return Object.prototype.hasOwnProperty.call(y,C)?y[C]:y[C]=b(C)}function o(C,b){this.h=b;for(var y=[],T=!0,S=C.length-1;0<=S;S--){var A=C[S]|0;T&&A==b||(y[S]=A,T=!1)}this.g=y}var a={};function c(C){return-128<=C&&128>C?i(C,function(b){return new o([b|0],0>b?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return m;if(0>C)return M(u(-C));for(var b=[],y=1,T=0;C>=y;T++)b[T]=C/y|0,y*=4294967296;return new o(b,0)}function h(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return M(h(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(b,8)),T=m,S=0;S<C.length;S+=8){var A=Math.min(8,C.length-S),w=parseInt(C.substring(S,S+A),b);8>A?(A=u(Math.pow(b,A)),T=T.j(A).add(u(w))):(T=T.j(y),T=T.add(u(w)))}return T}var m=c(0),g=c(1),_=c(16777216);t=o.prototype,t.m=function(){if(N(this))return-M(this).m();for(var C=0,b=1,y=0;y<this.g.length;y++){var T=this.i(y);C+=(0<=T?T:4294967296+T)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R(this))return"0";if(N(this))return"-"+M(this).toString(C);for(var b=u(Math.pow(C,6)),y=this,T="";;){var S=z(y,b).g;y=D(y,S.j(b));var A=((0<y.g.length?y.g[0]:y.h)>>>0).toString(C);if(y=S,R(y))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function R(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function N(C){return C.h==-1}t.l=function(C){return C=D(this,C),N(C)?-1:R(C)?0:1};function M(C){for(var b=C.g.length,y=[],T=0;T<b;T++)y[T]=~C.g[T];return new o(y,~C.h).add(g)}t.abs=function(){return N(this)?M(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),y=[],T=0,S=0;S<=b;S++){var A=T+(this.i(S)&65535)+(C.i(S)&65535),w=(A>>>16)+(this.i(S)>>>16)+(C.i(S)>>>16);T=w>>>16,A&=65535,w&=65535,y[S]=w<<16|A}return new o(y,y[y.length-1]&-2147483648?-1:0)};function D(C,b){return C.add(M(b))}t.j=function(C){if(R(this)||R(C))return m;if(N(this))return N(C)?M(this).j(M(C)):M(M(this).j(C));if(N(C))return M(this.j(M(C)));if(0>this.l(_)&&0>C.l(_))return u(this.m()*C.m());for(var b=this.g.length+C.g.length,y=[],T=0;T<2*b;T++)y[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<C.g.length;S++){var A=this.i(T)>>>16,w=this.i(T)&65535,xe=C.i(S)>>>16,st=C.i(S)&65535;y[2*T+2*S]+=w*st,x(y,2*T+2*S),y[2*T+2*S+1]+=A*st,x(y,2*T+2*S+1),y[2*T+2*S+1]+=w*xe,x(y,2*T+2*S+1),y[2*T+2*S+2]+=A*xe,x(y,2*T+2*S+2)}for(T=0;T<b;T++)y[T]=y[2*T+1]<<16|y[2*T];for(T=b;T<2*b;T++)y[T]=0;return new o(y,0)};function x(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function F(C,b){this.g=C,this.h=b}function z(C,b){if(R(b))throw Error("division by zero");if(R(C))return new F(m,m);if(N(C))return b=z(M(C),b),new F(M(b.g),M(b.h));if(N(b))return b=z(C,M(b)),new F(M(b.g),b.h);if(30<C.g.length){if(N(C)||N(b))throw Error("slowDivide_ only works with positive integers.");for(var y=g,T=b;0>=T.l(C);)y=oe(y),T=oe(T);var S=fe(y,1),A=fe(T,1);for(T=fe(T,2),y=fe(y,2);!R(T);){var w=A.add(T);0>=w.l(C)&&(S=S.add(y),A=w),T=fe(T,1),y=fe(y,1)}return b=D(C,S.j(b)),new F(S,b)}for(S=m;0<=C.l(b);){for(y=Math.max(1,Math.floor(C.m()/b.m())),T=Math.ceil(Math.log(y)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=u(y),w=A.j(b);N(w)||0<w.l(C);)y-=T,A=u(y),w=A.j(b);R(A)&&(A=g),S=S.add(A),C=D(C,w)}return new F(S,C)}t.A=function(C){return z(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),y=[],T=0;T<b;T++)y[T]=this.i(T)&C.i(T);return new o(y,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),y=[],T=0;T<b;T++)y[T]=this.i(T)|C.i(T);return new o(y,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),y=[],T=0;T<b;T++)y[T]=this.i(T)^C.i(T);return new o(y,this.h^C.h)};function oe(C){for(var b=C.g.length+1,y=[],T=0;T<b;T++)y[T]=C.i(T)<<1|C.i(T-1)>>>31;return new o(y,C.h)}function fe(C,b){var y=b>>5;b%=32;for(var T=C.g.length-y,S=[],A=0;A<T;A++)S[A]=0<b?C.i(A+y)>>>b|C.i(A+y+1)<<32-b:C.i(A+y);return new o(S,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ig=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Ss=o}).apply(typeof _f<"u"?_f:typeof self<"u"?self:typeof window<"u"?window:{});var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var og,Ai,ag,ra,Xc,lg,cg,ug;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,p){return l==Array.prototype||l==Object.prototype||(l[d]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof zo=="object"&&zo];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=n(this);function r(l,d){if(d)e:{var p=s;l=l.split(".");for(var v=0;v<l.length-1;v++){var P=l[v];if(!(P in p))break e;p=p[P]}l=l[l.length-1],v=p[l],d=d(v),d!=v&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}function i(l,d){l instanceof String&&(l+="");var p=0,v=!1,P={next:function(){if(!v&&p<l.length){var V=p++;return{value:d(V,l[V]),done:!1}}return v=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}r("Array.prototype.values",function(l){return l||function(){return i(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,p){return l.call.apply(l.bind,arguments)}function m(l,d,p){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,v),l.apply(d,P)}}return function(){return l.apply(d,arguments)}}function g(l,d,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,g.apply(null,arguments)}function _(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function R(l,d){function p(){}p.prototype=d.prototype,l.aa=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(v,P,V){for(var J=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)J[Le-2]=arguments[Le];return d.prototype[P].apply(v,J)}}function N(l){const d=l.length;if(0<d){const p=Array(d);for(let v=0;v<d;v++)p[v]=l[v];return p}return[]}function M(l,d){for(let p=1;p<arguments.length;p++){const v=arguments[p];if(c(v)){const P=l.length||0,V=v.length||0;l.length=P+V;for(let J=0;J<V;J++)l[P+J]=v[J]}else l.push(v)}}class D{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function x(l){return/^[\s\xa0]*$/.test(l)}function F(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function z(l){return z[" "](l),l}z[" "]=function(){};var oe=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function fe(l,d,p){for(const v in l)d.call(p,l[v],v,l)}function C(l,d){for(const p in l)d.call(void 0,l[p],p,l)}function b(l){const d={};for(const p in l)d[p]=l[p];return d}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,d){let p,v;for(let P=1;P<arguments.length;P++){v=arguments[P];for(p in v)l[p]=v[p];for(let V=0;V<y.length;V++)p=y[V],Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}}function S(l){var d=1;l=l.split(":");const p=[];for(;0<d&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function A(l){a.setTimeout(()=>{throw l},0)}function w(){var l=Gt;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class xe{constructor(){this.h=this.g=null}add(d,p){const v=st.get();v.set(d,p),this.h?this.h.next=v:this.g=v,this.h=v}}var st=new D(()=>new Oe,l=>l.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,Te=!1,Gt=new xe,hn=()=>{const l=a.Promise.resolve(void 0);ge=()=>{l.then(en)}};var en=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(p){A(p)}var d=st;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}Te=!1};function Ge(){this.s=this.s,this.C=this.C}Ge.prototype.s=!1,Ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ke(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var ls=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return l}();function Tn(l,d){if(Ke.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(oe){e:{try{z(d.nodeName);var P=!0;break e}catch{}P=!1}P||(d=null)}}else p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:jt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Tn.aa.h.call(this)}}R(Tn,Ke);var jt={2:"touch",3:"pen",4:"mouse"};Tn.prototype.h=function(){Tn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),se=0;function Z(l,d,p,v,P){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!v,this.ha=P,this.key=++se,this.da=this.fa=!1}function ie(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Pe(l){this.src=l,this.g={},this.h=0}Pe.prototype.add=function(l,d,p,v,P){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var J=I(l,d,v,P);return-1<J?(d=l[J],p||(d.fa=!1)):(d=new Z(d,this.src,V,!!v,P),d.fa=p,l.push(d)),d};function E(l,d){var p=d.type;if(p in l.g){var v=l.g[p],P=Array.prototype.indexOf.call(v,d,void 0),V;(V=0<=P)&&Array.prototype.splice.call(v,P,1),V&&(ie(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function I(l,d,p,v){for(var P=0;P<l.length;++P){var V=l[P];if(!V.da&&V.listener==d&&V.capture==!!p&&V.ha==v)return P}return-1}var k="closure_lm_"+(1e6*Math.random()|0),B={};function $(l,d,p,v,P){if(Array.isArray(d)){for(var V=0;V<d.length;V++)$(l,d[V],p,v,P);return null}return p=me(p),l&&l[q]?l.K(d,p,u(v)?!!v.capture:!1,P):j(l,d,p,!1,v,P)}function j(l,d,p,v,P,V){if(!d)throw Error("Invalid event type");var J=u(P)?!!P.capture:!!P,Le=ee(l);if(Le||(l[k]=Le=new Pe(l)),p=Le.add(d,p,v,J,V),p.proxy)return p;if(v=X(),p.proxy=v,v.src=l,v.listener=p,l.addEventListener)ls||(P=J),P===void 0&&(P=!1),l.addEventListener(d.toString(),v,P);else if(l.attachEvent)l.attachEvent(G(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function X(){function l(p){return d.call(l.src,l.listener,p)}const d=de;return l}function Q(l,d,p,v,P){if(Array.isArray(d))for(var V=0;V<d.length;V++)Q(l,d[V],p,v,P);else v=u(v)?!!v.capture:!!v,p=me(p),l&&l[q]?(l=l.i,d=String(d).toString(),d in l.g&&(V=l.g[d],p=I(V,p,v,P),-1<p&&(ie(V[p]),Array.prototype.splice.call(V,p,1),V.length==0&&(delete l.g[d],l.h--)))):l&&(l=ee(l))&&(d=l.g[d.toString()],l=-1,d&&(l=I(d,p,v,P)),(p=-1<l?d[l]:null)&&K(p))}function K(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[q])E(d.i,l);else{var p=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(p,v,l.capture):d.detachEvent?d.detachEvent(G(p),v):d.addListener&&d.removeListener&&d.removeListener(v),(p=ee(d))?(E(p,l),p.h==0&&(p.src=null,d[k]=null)):ie(l)}}}function G(l){return l in B?B[l]:B[l]="on"+l}function de(l,d){if(l.da)l=!0;else{d=new Tn(d,this);var p=l.listener,v=l.ha||l.src;l.fa&&K(l),l=p.call(v,d)}return l}function ee(l){return l=l[k],l instanceof Pe?l:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(l){return typeof l=="function"?l:(l[ae]||(l[ae]=function(d){return l.handleEvent(d)}),l[ae])}function he(){Ge.call(this),this.i=new Pe(this),this.M=this,this.F=null}R(he,Ge),he.prototype[q]=!0,he.prototype.removeEventListener=function(l,d,p,v){Q(this,l,d,p,v)};function we(l,d){var p,v=l.F;if(v)for(p=[];v;v=v.F)p.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new Ke(d,l);else if(d instanceof Ke)d.target=d.target||l;else{var P=d;d=new Ke(v,l),T(d,P)}if(P=!0,p)for(var V=p.length-1;0<=V;V--){var J=d.g=p[V];P=Se(J,v,!0,d)&&P}if(J=d.g=l,P=Se(J,v,!0,d)&&P,P=Se(J,v,!1,d)&&P,p)for(V=0;V<p.length;V++)J=d.g=p[V],P=Se(J,v,!1,d)&&P}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var p=l.g[d],v=0;v<p.length;v++)ie(p[v]);delete l.g[d],l.h--}}this.F=null},he.prototype.K=function(l,d,p,v){return this.i.add(String(l),d,!1,p,v)},he.prototype.L=function(l,d,p,v){return this.i.add(String(l),d,!0,p,v)};function Se(l,d,p,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var P=!0,V=0;V<d.length;++V){var J=d[V];if(J&&!J.da&&J.capture==p){var Le=J.listener,bt=J.ha||J.src;J.fa&&E(l.i,J),P=Le.call(bt,v)!==!1&&P}}return P&&!v.defaultPrevented}function vt(l,d,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function _t(l){l.g=vt(()=>{l.g=null,l.i&&(l.i=!1,_t(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class tn extends Ge{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ct(l){Ge.call(this),this.h=l,this.g={}}R(Ct,Ge);var cs=[];function oi(l){fe(l.g,function(d,p){this.g.hasOwnProperty(p)&&K(d)},l),l.g={}}Ct.prototype.N=function(){Ct.aa.N.call(this),oi(this)},Ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yt=a.JSON.stringify,nn=a.JSON.parse,Po=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function wr(){}wr.prototype.h=null;function mh(l){return l.h||(l.h=l.i())}function gh(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nc(){Ke.call(this,"d")}R(nc,Ke);function sc(){Ke.call(this,"c")}R(sc,Ke);var $s={},vh=null;function Do(){return vh=vh||new he}$s.La="serverreachability";function _h(l){Ke.call(this,$s.La,l)}R(_h,Ke);function li(l){const d=Do();we(d,new _h(d))}$s.STAT_EVENT="statevent";function yh(l,d){Ke.call(this,$s.STAT_EVENT,l),this.stat=d}R(yh,Ke);function Lt(l){const d=Do();we(d,new yh(d,l))}$s.Ma="timingevent";function bh(l,d){Ke.call(this,$s.Ma,l),this.size=d}R(bh,Ke);function ci(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function ui(){this.g=!0}ui.prototype.xa=function(){this.g=!1};function Cb(l,d,p,v,P,V){l.info(function(){if(l.g)if(V)for(var J="",Le=V.split("&"),bt=0;bt<Le.length;bt++){var De=Le[bt].split("=");if(1<De.length){var St=De[0];De=De[1];var Rt=St.split("_");J=2<=Rt.length&&Rt[1]=="type"?J+(St+"="+De+"&"):J+(St+"=redacted&")}}else J=null;else J=V;return"XMLHTTP REQ ("+v+") [attempt "+P+"]: "+d+`
`+p+`
`+J})}function Sb(l,d,p,v,P,V,J){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+P+"]: "+d+`
`+p+`
`+V+" "+J})}function Er(l,d,p,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+kb(l,p)+(v?" "+v:"")})}function Rb(l,d){l.info(function(){return"TIMEOUT: "+d})}ui.prototype.info=function(){};function kb(l,d){if(!l.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var v=p[l];if(!(2>v.length)){var P=v[1];if(Array.isArray(P)&&!(1>P.length)){var V=P[0];if(V!="noop"&&V!="stop"&&V!="close")for(var J=1;J<P.length;J++)P[J]=""}}}}return yt(p)}catch{return d}}var xo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rc;function No(){}R(No,wr),No.prototype.g=function(){return new XMLHttpRequest},No.prototype.i=function(){return{}},rc=new No;function us(l,d,p,v){this.j=l,this.i=d,this.l=p,this.R=v||1,this.U=new Ct(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eh}function Eh(){this.i=null,this.g="",this.h=!1}var Th={},ic={};function oc(l,d,p){l.L=1,l.v=Lo(Bn(d)),l.m=p,l.P=!0,Ah(l,null)}function Ah(l,d){l.F=Date.now(),Mo(l),l.A=Bn(l.v);var p=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Uh(p.i,"t",v),l.C=0,p=l.j.J,l.h=new Eh,l.g=nf(l.j,p?d:null,!l.m),0<l.O&&(l.M=new tn(g(l.Y,l,l.g),l.O)),d=l.U,p=l.g,v=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(cs[0]=P.toString()),P=cs);for(var V=0;V<P.length;V++){var J=$(p,P[V],v||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),li(),Cb(l.i,l.u,l.A,l.l,l.R,l.m)}us.prototype.ca=function(l){l=l.target;const d=this.M;d&&jn(l)==3?d.j():this.Y(l)},us.prototype.Y=function(l){try{if(l==this.g)e:{const Rt=jn(this.g);var d=this.g.Ba();const Ir=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||$h(this.g)))){this.J||Rt!=4||d==7||(d==8||0>=Ir?li(3):li(2)),ac(this);var p=this.g.Z();this.X=p;t:if(Ih(this)){var v=$h(this.g);l="";var P=v.length,V=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zs(this),di(this);var J="";break t}this.h.i=new a.TextDecoder}for(d=0;d<P;d++)this.h.h=!0,l+=this.h.i.decode(v[d],{stream:!(V&&d==P-1)});v.length=0,this.h.g+=l,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=p==200,Sb(this.i,this.u,this.A,this.l,this.R,Rt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,bt=this.g;if((Le=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Le)){var De=Le;break t}}De=null}if(p=De)Er(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lc(this,p);else{this.o=!1,this.s=3,Lt(12),zs(this),di(this);break e}}if(this.P){p=!0;let fn;for(;!this.J&&this.C<J.length;)if(fn=Pb(this,J),fn==ic){Rt==4&&(this.s=4,Lt(14),p=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Th){this.s=4,Lt(15),Er(this.i,this.l,J,"[Invalid Chunk]"),p=!1;break}else Er(this.i,this.l,fn,null),lc(this,fn);if(Ih(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||J.length!=0||this.h.h||(this.s=1,Lt(16),p=!1),this.o=this.o&&p,!p)Er(this.i,this.l,J,"[Invalid Chunked Response]"),zs(this),di(this);else if(0<J.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),pc(St),St.M=!0,Lt(11))}}else Er(this.i,this.l,J,null),lc(this,J);Rt==4&&zs(this),this.o&&!this.J&&(Rt==4?Xh(this.j,this):(this.o=!1,Mo(this)))}else Gb(this.g),p==400&&0<J.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),zs(this),di(this)}}}catch{}finally{}};function Ih(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Pb(l,d){var p=l.C,v=d.indexOf(`
`,p);return v==-1?ic:(p=Number(d.substring(p,v)),isNaN(p)?Th:(v+=1,v+p>d.length?ic:(d=d.slice(v,v+p),l.C=v+p,d)))}us.prototype.cancel=function(){this.J=!0,zs(this)};function Mo(l){l.S=Date.now()+l.I,Ch(l,l.I)}function Ch(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ci(g(l.ba,l),d)}function ac(l){l.B&&(a.clearTimeout(l.B),l.B=null)}us.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Rb(this.i,this.A),this.L!=2&&(li(),Lt(17)),zs(this),this.s=2,di(this)):Ch(this,this.S-l)};function di(l){l.j.G==0||l.J||Xh(l.j,l)}function zs(l){ac(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,oi(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function lc(l,d){try{var p=l.j;if(p.G!=0&&(p.g==l||cc(p.h,l))){if(!l.K&&cc(p.h,l)&&p.G==3){try{var v=p.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var P=v;if(P[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)jo(p),qo(p);else break e;fc(p),Lt(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=ci(g(p.Za,p),6e3));if(1>=kh(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ks(p,11)}else if((l.K||p.g==l)&&jo(p),!x(d))for(P=p.Da.g.parse(d),d=0;d<P.length;d++){let De=P[d];if(p.T=De[0],De=De[1],p.G==2)if(De[0]=="c"){p.K=De[1],p.ia=De[2];const St=De[3];St!=null&&(p.la=St,p.j.info("VER="+p.la));const Rt=De[4];Rt!=null&&(p.Aa=Rt,p.j.info("SVER="+p.Aa));const Ir=De[5];Ir!=null&&typeof Ir=="number"&&0<Ir&&(v=1.5*Ir,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const fn=l.g;if(fn){const $o=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($o){var V=v.h;V.g||$o.indexOf("spdy")==-1&&$o.indexOf("quic")==-1&&$o.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(uc(V,V.h),V.h=null))}if(v.D){const mc=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;mc&&(v.ya=mc,He(v.I,v.D,mc))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var J=l;if(v.qa=tf(v,v.J?v.ia:null,v.W),J.K){Ph(v.h,J);var Le=J,bt=v.L;bt&&(Le.I=bt),Le.B&&(ac(Le),Mo(Le)),v.g=J}else Jh(v);0<p.i.length&&Bo(p)}else De[0]!="stop"&&De[0]!="close"||Ks(p,7);else p.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Ks(p,7):hc(p):De[0]!="noop"&&p.l&&p.l.ta(De),p.v=0)}}li(4)}catch{}}var Db=class{constructor(l,d){this.g=l,this.map=d}};function Sh(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rh(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function kh(l){return l.h?1:l.g?l.g.size:0}function cc(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function uc(l,d){l.g?l.g.add(d):l.h=d}function Ph(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Sh.prototype.cancel=function(){if(this.i=Dh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Dh(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const p of l.g.values())d=d.concat(p.D);return d}return N(l.i)}function xb(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],p=l.length,v=0;v<p;v++)d.push(l[v]);return d}d=[],p=0;for(v in l)d[p++]=l[v];return d}function Nb(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var p=0;p<l;p++)d.push(p);return d}d=[],p=0;for(const v in l)d[p++]=v;return d}}}function xh(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var p=Nb(l),v=xb(l),P=v.length,V=0;V<P;V++)d.call(void 0,v[V],p&&p[V],l)}var Nh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mb(l,d){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var v=l[p].indexOf("="),P=null;if(0<=v){var V=l[p].substring(0,v);P=l[p].substring(v+1)}else V=l[p];d(V,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Gs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Gs){this.h=l.h,Vo(this,l.j),this.o=l.o,this.g=l.g,Oo(this,l.s),this.l=l.l;var d=l.i,p=new pi;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Mh(this,p),this.m=l.m}else l&&(d=String(l).match(Nh))?(this.h=!1,Vo(this,d[1]||"",!0),this.o=hi(d[2]||""),this.g=hi(d[3]||"",!0),Oo(this,d[4]),this.l=hi(d[5]||"",!0),Mh(this,d[6]||"",!0),this.m=hi(d[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}Gs.prototype.toString=function(){var l=[],d=this.j;d&&l.push(fi(d,Vh,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(fi(d,Vh,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(fi(p,p.charAt(0)=="/"?Lb:Ob,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",fi(p,Fb)),l.join("")};function Bn(l){return new Gs(l)}function Vo(l,d,p){l.j=p?hi(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Oo(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Mh(l,d,p){d instanceof pi?(l.i=d,Wb(l.i,l.h)):(p||(d=fi(d,Ub)),l.i=new pi(d,l.h))}function He(l,d,p){l.i.set(d,p)}function Lo(l){return He(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function hi(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function fi(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,Vb),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Vb(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Vh=/[#\/\?@]/g,Ob=/[#\?:]/g,Lb=/[#\?]/g,Ub=/[#\?@]/g,Fb=/#/g;function pi(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function ds(l){l.g||(l.g=new Map,l.h=0,l.i&&Mb(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=pi.prototype,t.add=function(l,d){ds(this),this.i=null,l=Tr(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function Oh(l,d){ds(l),d=Tr(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Lh(l,d){return ds(l),d=Tr(l,d),l.g.has(d)}t.forEach=function(l,d){ds(this),this.g.forEach(function(p,v){p.forEach(function(P){l.call(d,P,v,this)},this)},this)},t.na=function(){ds(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let v=0;v<d.length;v++){const P=l[v];for(let V=0;V<P.length;V++)p.push(d[v])}return p},t.V=function(l){ds(this);let d=[];if(typeof l=="string")Lh(this,l)&&(d=d.concat(this.g.get(Tr(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)d=d.concat(l[p])}return d},t.set=function(l,d){return ds(this),this.i=null,l=Tr(this,l),Lh(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Uh(l,d,p){Oh(l,d),0<p.length&&(l.i=null,l.g.set(Tr(l,d),N(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var v=d[p];const V=encodeURIComponent(String(v)),J=this.V(v);for(v=0;v<J.length;v++){var P=V;J[v]!==""&&(P+="="+encodeURIComponent(String(J[v]))),l.push(P)}}return this.i=l.join("&")};function Tr(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Wb(l,d){d&&!l.j&&(ds(l),l.i=null,l.g.forEach(function(p,v){var P=v.toLowerCase();v!=P&&(Oh(this,v),Uh(this,P,p))},l)),l.j=d}function qb(l,d){const p=new ui;if(a.Image){const v=new Image;v.onload=_(hs,p,"TestLoadImage: loaded",!0,d,v),v.onerror=_(hs,p,"TestLoadImage: error",!1,d,v),v.onabort=_(hs,p,"TestLoadImage: abort",!1,d,v),v.ontimeout=_(hs,p,"TestLoadImage: timeout",!1,d,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function Bb(l,d){const p=new ui,v=new AbortController,P=setTimeout(()=>{v.abort(),hs(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(V=>{clearTimeout(P),V.ok?hs(p,"TestPingServer: ok",!0,d):hs(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),hs(p,"TestPingServer: error",!1,d)})}function hs(l,d,p,v,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),v(p)}catch{}}function jb(){this.g=new Po}function Hb(l,d,p){const v=p||"";try{xh(l,function(P,V){let J=P;u(P)&&(J=yt(P)),d.push(v+V+"="+encodeURIComponent(J))})}catch(P){throw d.push(v+"type="+encodeURIComponent("_badmap")),P}}function Uo(l){this.l=l.Ub||null,this.j=l.eb||!1}R(Uo,wr),Uo.prototype.g=function(){return new Fo(this.l,this.j)},Uo.prototype.i=function(l){return function(){return l}}({});function Fo(l,d){he.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Fo,he),t=Fo.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,gi(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fh(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fh(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?mi(this):gi(this),this.readyState==3&&Fh(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,mi(this))},t.Qa=function(l){this.g&&(this.response=l,mi(this))},t.ga=function(){this.g&&mi(this)};function mi(l){l.readyState=4,l.l=null,l.j=null,l.v=null,gi(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join(`\r
`)};function gi(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Wh(l){let d="";return fe(l,function(p,v){d+=v,d+=":",d+=p,d+=`\r
`}),d}function dc(l,d,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=Wh(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):He(l,d,p))}function Ye(l){he.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ye,he);var $b=/^https?$/i,zb=["POST","PUT"];t=Ye.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rc.g(),this.v=this.o?mh(this.o):mh(rc),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(V){qh(this,V);return}if(l=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var P in v)p.set(P,v[P]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const V of v.keys())p.set(V,v.get(V));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(V=>V.toLowerCase()=="content-type"),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zb,d,void 0))||v||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,J]of p)this.g.setRequestHeader(V,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hh(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){qh(this,V)}};function qh(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Bh(l),Wo(l)}function Bh(l){l.A||(l.A=!0,we(l,"complete"),we(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,we(this,"complete"),we(this,"abort"),Wo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wo(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jh(this):this.bb())},t.bb=function(){jh(this)};function jh(l){if(l.h&&typeof o<"u"&&(!l.v[1]||jn(l)!=4||l.Z()!=2)){if(l.u&&jn(l)==4)vt(l.Ea,0,l);else if(we(l,"readystatechange"),jn(l)==4){l.h=!1;try{const J=l.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var v;if(v=J===0){var P=String(l.D).match(Nh)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),v=!$b.test(P?P.toLowerCase():"")}p=v}if(p)we(l,"complete"),we(l,"success");else{l.m=6;try{var V=2<jn(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",Bh(l)}}finally{Wo(l)}}}}function Wo(l,d){if(l.g){Hh(l);const p=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||we(l,"ready");try{p.onreadystatechange=v}catch{}}}function Hh(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function jn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),nn(d)}};function $h(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Gb(l){const d={};l=(l.g&&2<=jn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(x(l[v]))continue;var p=S(l[v]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const V=d[P]||[];d[P]=V,V.push(p)}C(d,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function zh(l){this.Aa=0,this.i=[],this.j=new ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vi("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vi("baseRetryDelayMs",5e3,l),this.cb=vi("retryDelaySeedMs",1e4,l),this.Wa=vi("forwardChannelMaxRetries",2,l),this.wa=vi("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Sh(l&&l.concurrentRequestLimit),this.Da=new jb,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zh.prototype,t.la=8,t.G=1,t.connect=function(l,d,p,v){Lt(0),this.W=l,this.H=d||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=tf(this,null,this.W),Bo(this)};function hc(l){if(Gh(l),l.G==3){var d=l.U++,p=Bn(l.I);if(He(p,"SID",l.K),He(p,"RID",d),He(p,"TYPE","terminate"),_i(l,p),d=new us(l,l.j,d),d.L=2,d.v=Lo(Bn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=nf(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Mo(d)}ef(l)}function qo(l){l.g&&(pc(l),l.g.cancel(),l.g=null)}function Gh(l){qo(l),l.u&&(a.clearTimeout(l.u),l.u=null),jo(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Bo(l){if(!Rh(l.h)&&!l.s){l.s=!0;var d=l.Ga;ge||hn(),Te||(ge(),Te=!0),Gt.add(d,l),l.B=0}}function Kb(l,d){return kh(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ci(g(l.Ga,l,d),Zh(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const P=new us(this,this.j,l);let V=this.o;if(this.S&&(V?(V=b(V),T(V,this.S)):V=this.S),this.m!==null||this.O||(P.H=V,V=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Qh(this,P,d),p=Bn(this.I),He(p,"RID",l),He(p,"CVER",22),this.D&&He(p,"X-HTTP-Session-Id",this.D),_i(this,p),V&&(this.O?d="headers="+encodeURIComponent(String(Wh(V)))+"&"+d:this.m&&dc(p,this.m,V)),uc(this.h,P),this.Ua&&He(p,"TYPE","init"),this.P?(He(p,"$req",d),He(p,"SID","null"),P.T=!0,oc(P,p,null)):oc(P,p,d),this.G=2}}else this.G==3&&(l?Kh(this,l):this.i.length==0||Rh(this.h)||Kh(this))};function Kh(l,d){var p;d?p=d.l:p=l.U++;const v=Bn(l.I);He(v,"SID",l.K),He(v,"RID",p),He(v,"AID",l.T),_i(l,v),l.m&&l.o&&dc(v,l.m,l.o),p=new us(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Qh(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),uc(l.h,p),oc(p,v,d)}function _i(l,d){l.H&&fe(l.H,function(p,v){He(d,v,p)}),l.l&&xh({},function(p,v){He(d,v,p)})}function Qh(l,d,p){p=Math.min(l.i.length,p);var v=l.l?g(l.l.Na,l.l,l):null;e:{var P=l.i;let V=-1;for(;;){const J=["count="+p];V==-1?0<p?(V=P[0].g,J.push("ofs="+V)):V=0:J.push("ofs="+V);let Le=!0;for(let bt=0;bt<p;bt++){let De=P[bt].g;const St=P[bt].map;if(De-=V,0>De)V=Math.max(0,P[bt].g-100),Le=!1;else try{Hb(St,J,"req"+De+"_")}catch{v&&v(St)}}if(Le){v=J.join("&");break e}}}return l=l.i.splice(0,p),d.D=l,v}function Jh(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ge||hn(),Te||(ge(),Te=!0),Gt.add(d,l),l.v=0}}function fc(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ci(g(l.Fa,l),Zh(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Yh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ci(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),qo(this),Yh(this))};function pc(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Yh(l){l.g=new us(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Bn(l.qa);He(d,"RID","rpc"),He(d,"SID",l.K),He(d,"AID",l.T),He(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&He(d,"TO",l.ja),He(d,"TYPE","xmlhttp"),_i(l,d),l.m&&l.o&&dc(d,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Lo(Bn(d)),p.m=null,p.P=!0,Ah(p,l)}t.Za=function(){this.C!=null&&(this.C=null,qo(this),fc(this),Lt(19))};function jo(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Xh(l,d){var p=null;if(l.g==d){jo(l),pc(l),l.g=null;var v=2}else if(cc(l.h,d))p=d.D,Ph(l.h,d),v=1;else return;if(l.G!=0){if(d.o)if(v==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var P=l.B;v=Do(),we(v,new bh(v,p)),Bo(l)}else Jh(l);else if(P=d.s,P==3||P==0&&0<d.X||!(v==1&&Kb(l,d)||v==2&&fc(l)))switch(p&&0<p.length&&(d=l.h,d.i=d.i.concat(p)),P){case 1:Ks(l,5);break;case 4:Ks(l,10);break;case 3:Ks(l,6);break;default:Ks(l,2)}}}function Zh(l,d){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*d}function Ks(l,d){if(l.j.info("Error code "+d),d==2){var p=g(l.fb,l),v=l.Xa;const P=!v;v=new Gs(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vo(v,"https"),Lo(v),P?qb(v.toString(),p):Bb(v.toString(),p)}else Lt(2);l.G=0,l.l&&l.l.sa(d),ef(l),Gh(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function ef(l){if(l.G=0,l.ka=[],l.l){const d=Dh(l.h);(d.length!=0||l.i.length!=0)&&(M(l.ka,d),M(l.ka,l.i),l.h.i.length=0,N(l.i),l.i.length=0),l.l.ra()}}function tf(l,d,p){var v=p instanceof Gs?Bn(p):new Gs(p);if(v.g!="")d&&(v.g=d+"."+v.g),Oo(v,v.s);else{var P=a.location;v=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;var V=new Gs(null);v&&Vo(V,v),d&&(V.g=d),P&&Oo(V,P),p&&(V.l=p),v=V}return p=l.D,d=l.ya,p&&d&&He(v,p,d),He(v,"VER",l.la),_i(l,v),v}function nf(l,d,p){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ye(new Uo({eb:p})):new Ye(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sf(){}t=sf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ho(){}Ho.prototype.g=function(l,d){return new Kt(l,d)};function Kt(l,d){he.call(this),this.g=new zh(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!x(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!x(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Ar(this)}R(Kt,he),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){hc(this.g)},Kt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=yt(l),l=p);d.i.push(new Db(d.Ya++,l)),d.G==3&&Bo(d)},Kt.prototype.N=function(){this.g.l=null,delete this.j,hc(this.g),delete this.g,Kt.aa.N.call(this)};function rf(l){nc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}R(rf,nc);function of(){sc.call(this),this.status=1}R(of,sc);function Ar(l){this.g=l}R(Ar,sf),Ar.prototype.ua=function(){we(this.g,"a")},Ar.prototype.ta=function(l){we(this.g,new rf(l))},Ar.prototype.sa=function(l){we(this.g,new of)},Ar.prototype.ra=function(){we(this.g,"b")},Ho.prototype.createWebChannel=Ho.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,ug=function(){return new Ho},cg=function(){return Do()},lg=$s,Xc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xo.NO_ERROR=0,xo.TIMEOUT=8,xo.HTTP_ERROR=6,ra=xo,wh.COMPLETE="complete",ag=wh,gh.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",he.prototype.listen=he.prototype.K,Ai=gh,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,og=Ye}).apply(typeof zo<"u"?zo:typeof self<"u"?self:typeof window<"u"?window:{});const yf="@firebase/firestore",bf="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zr="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Uu("@firebase/firestore");function Rr(){return hr.logLevel}function re(t,...e){if(hr.logLevel<=Ae.DEBUG){const n=e.map(qu);hr.debug(`Firestore (${Zr}): ${t}`,...n)}}function ns(t,...e){if(hr.logLevel<=Ae.ERROR){const n=e.map(qu);hr.error(`Firestore (${Zr}): ${t}`,...n)}}function Hr(t,...e){if(hr.logLevel<=Ae.WARN){const n=e.map(qu);hr.warn(`Firestore (${Zr}): ${t}`,...n)}}function qu(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,dg(t,s,n)}function dg(t,e,n){let s=`FIRESTORE (${Zr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ns(s),new Error(s)}function Ve(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||dg(e,r,s)}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class Nw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mw{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Rs,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Rs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ve(typeof s.accessToken=="string",31837,{l:s}),new hg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class Vw{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ow{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Vw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lw{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const s=i=>{i.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wf(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=Uw(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Ie(t,e){return t<e?-1:t>e?1:0}function Zc(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return wc(r)===wc(i)?Ie(r,i):wc(r)?1:-1}return Ie(t.length,e.length)}const Fw=55296,Ww=57343;function wc(t){const e=t.charCodeAt(0);return e>=Fw&&e<=Ww}function $r(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="__name__";class Cn{constructor(e,n,s){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&pe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Cn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Cn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const s=Cn.isNumericId(e),r=Cn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Cn.extractNumericId(e).compare(Cn.extractNumericId(n)):Zc(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class je extends Cn{construct(e,n,s){return new je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new te(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new je(n)}static emptyPath(){return new je([])}}const qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends Cn{construct(e,n,s){return new Tt(e,n,s)}static isValidIdentifier(e){return qw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ef}static keyField(){return new Tt([Ef])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new te(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new te(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(je.fromString(e))}static fromName(e){return new le(je.fromString(e).popFirst(5))}static empty(){return new le(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e,n){if(!n)throw new te(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bw(t,e,n,s){if(e===!0&&s===!0)throw new te(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Tf(t){if(!le.isDocumentKey(t))throw new te(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Af(t){if(le.isDocumentKey(t))throw new te(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pg(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Za(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe(12329,{type:typeof t})}function mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Za(t);throw new te(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function jw(t,e){if(e<=0)throw new te(W.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function go(t,e){if(!pg(t))throw new te(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new te(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=-62135596800,Cf=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Cf);return new $e(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<If)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cf}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(go(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-If;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:ut("string",$e._jsonSchemaVersion),seconds:ut("number"),nanoseconds:ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new $e(0,0))}static max(){return new _e(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=-1;function Hw(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=_e.fromTimestamp(s===1e9?new $e(n+1,0):new $e(n,s));return new Ns(r,le.empty(),e)}function $w(t){return new Ns(t.readTime,t.key,Qi)}class Ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ns(_e.min(),le.empty(),Qi)}static max(){return new Ns(_e.max(),le.empty(),Qi)}}function zw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ei(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==Gw)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,s)=>{n(e)})}static reject(e){return new H((n,s)=>{s(e)})}static waitFor(e){return new H((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(e){let n=H.resolve(!1);for(const s of e)n=n.next(r=>r?H.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new H((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===i&&s(o)},h=>r(h))}})}static doWhile(e,n){return new H((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Qw(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ti(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}el.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=-1;function tl(t){return t==null}function wa(t){return t===0&&1/t==-1/0}function Jw(t){return typeof t=="number"&&Number.isInteger(t)&&!wa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="";function Yw(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Sf(e)),e=Xw(t.get(n),e);return Sf(e)}function Xw(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case mg:n+="";break;default:n+=i}}return n}function Sf(t){return t+mg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Go(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Go(this.root,e,this.comparator,!1)}getReverseIterator(){return new Go(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Go(this.root,e,this.comparator,!0)}}class Go{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??wt.RED,this.left=r??wt.EMPTY,this.right=i??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new wt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return wt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kf(this.data.getIterator())}getIteratorFrom(e){return new kf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class kf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new ht(Tt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $r(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vg("Invalid base64 string: "+i):i}}(e);return new At(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const Zw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=Zw.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="server_timestamp",yg="__type__",bg="__previous_value__",wg="__local_write_time__";function Hu(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yg])==null?void 0:s.stringValue)===_g}function nl(t){const e=t.mapValue.fields[bg];return Hu(e)?nl(e):e}function Ji(t){const e=Ms(t.mapValue.fields[wg].timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,s,r,i,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Ea="(default)";class Yi{constructor(e,n){this.projectId=e,this.database=n||Ea}static empty(){return new Yi("","")}get isDefaultDatabase(){return this.database===Ea}isEqual(e){return e instanceof Yi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="__type__",tE="__max__",Ko={mapValue:{}},Tg="__vector__",Ta="value";function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hu(t)?4:sE(t)?9007199254740991:nE(t)?10:11:pe(28295,{value:t})}function Ln(t,e){if(t===e)return!0;const n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ji(t).isEqual(Ji(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Ms(r.timestampValue),a=Ms(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Vs(r.bytesValue).isEqual(Vs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return it(r.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(r.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return it(r.integerValue)===it(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=it(r.doubleValue),a=it(i.doubleValue);return o===a?wa(o)===wa(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $r(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(Rf(o)!==Rf(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ln(o[c],a[c])))return!1;return!0}(t,e);default:return pe(52216,{left:t})}}function Xi(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function zr(t,e){if(t===e)return 0;const n=Os(t),s=Os(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=it(i.integerValue||i.doubleValue),c=it(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Pf(t.timestampValue,e.timestampValue);case 4:return Pf(Ji(t),Ji(e));case 5:return Zc(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Vs(i),c=Vs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=Ie(a[u],c[u]);if(h!==0)return h}return Ie(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(it(i.latitude),it(o.latitude));return a!==0?a:Ie(it(i.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Df(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,_,R,N;const a=i.fields||{},c=o.fields||{},u=(g=a[Ta])==null?void 0:g.arrayValue,h=(_=c[Ta])==null?void 0:_.arrayValue,m=Ie(((R=u==null?void 0:u.values)==null?void 0:R.length)||0,((N=h==null?void 0:h.values)==null?void 0:N.length)||0);return m!==0?m:Df(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ko.mapValue&&o===Ko.mapValue)return 0;if(i===Ko.mapValue)return 1;if(o===Ko.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const g=Zc(c[m],h[m]);if(g!==0)return g;const _=zr(a[c[m]],u[h[m]]);if(_!==0)return _}return Ie(c.length,h.length)}(t.mapValue,e.mapValue);default:throw pe(23264,{he:n})}}function Pf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Ms(t),s=Ms(e),r=Ie(n.seconds,s.seconds);return r!==0?r:Ie(n.nanos,s.nanos)}function Df(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=zr(n[r],s[r]);if(i)return i}return Ie(n.length,s.length)}function Gr(t){return eu(t)}function eu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ms(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=eu(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${eu(n.fields[o])}`;return r+"}"}(t.mapValue):pe(61005,{value:t})}function ia(t){switch(Os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nl(t);return e?16+ia(e):16;case 5:return 2*t.stringValue.length;case 6:return Vs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+ia(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return Bs(s.fields,(i,o)=>{r+=i.length+ia(o)}),r}(t.mapValue);default:throw pe(13486,{value:t})}}function xf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tu(t){return!!t&&"integerValue"in t}function $u(t){return!!t&&"arrayValue"in t}function Nf(t){return!!t&&"nullValue"in t}function Mf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oa(t){return!!t&&"mapValue"in t}function nE(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Eg])==null?void 0:s.stringValue)===Tg}function Pi(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Pi(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pi(t.arrayValue.values[n]);return e}return{...t}}function sE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!oa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pi(n)}setAll(e){let n=Tt.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Pi(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());oa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];oa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Bs(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new $t(Pi(this.value))}}function Ag(t){const e=[];return Bs(t.fields,(n,s)=>{const r=new Tt([n]);if(oa(s)){const i=Ag(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xt(e,0,_e.min(),_e.min(),_e.min(),$t.empty(),0)}static newFoundDocument(e,n,s,r){return new xt(e,1,n,_e.min(),s,r,0)}static newNoDocument(e,n){return new xt(e,2,n,_e.min(),_e.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,_e.min(),_e.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.position=e,this.inclusive=n}}function Vf(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=le.comparator(le.fromName(o.referenceValue),n.key):s=zr(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Of(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n="asc"){this.field=e,this.dir=n}}function rE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{}class ct extends Ig{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new oE(e,n,s):n==="array-contains"?new cE(e,s):n==="in"?new uE(e,s):n==="not-in"?new dE(e,s):n==="array-contains-any"?new hE(e,s):new ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new aE(e,s):new lE(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zr(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(zr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends Ig{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yn(e,n)}matches(e){return Cg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cg(t){return t.op==="and"}function Sg(t){return iE(t)&&Cg(t)}function iE(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function nu(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Gr(t.value);if(Sg(t))return t.filters.map(e=>nu(e)).join(",");{const e=t.filters.map(n=>nu(n)).join(",");return`${t.op}(${e})`}}function Rg(t,e){return t instanceof ct?function(s,r){return r instanceof ct&&s.op===r.op&&s.field.isEqual(r.field)&&Ln(s.value,r.value)}(t,e):t instanceof yn?function(s,r){return r instanceof yn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,a)=>i&&Rg(o,r.filters[a]),!0):!1}(t,e):void pe(19439)}function kg(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Gr(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(kg).join(" ,")+"}"}(t):"Filter"}class oE extends ct{constructor(e,n,s){super(e,n,s),this.key=le.fromName(s.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class aE extends ct{constructor(e,n){super(e,"in",n),this.keys=Pg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lE extends ct{constructor(e,n){super(e,"not-in",n),this.keys=Pg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Pg(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>le.fromName(s.referenceValue))}class cE extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $u(n)&&Xi(n.arrayValue,this.value)}}class uE extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xi(this.value.arrayValue,n)}}class dE extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xi(this.value.arrayValue,n)}}class hE extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$u(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xi(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Lf(t,e=null,n=[],s=[],r=null,i=null,o=null){return new fE(t,e,n,s,r,i,o)}function zu(t){const e=be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>nu(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),tl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Gr(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Gr(s)).join(",")),e.Te=n}return e.Te}function Gu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Rg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Of(t.startAt,e.startAt)&&Of(t.endAt,e.endAt)}function su(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pE(t,e,n,s,r,i,o,a){return new ni(t,e,n,s,r,i,o,a)}function sl(t){return new ni(t)}function Uf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dg(t){return t.collectionGroup!==null}function Di(t){const e=be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(Tt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Zi(i,s))}),n.has(Tt.keyField().canonicalString())||e.Ie.push(new Zi(Tt.keyField(),s))}return e.Ie}function Pn(t){const e=be(t);return e.Ee||(e.Ee=mE(e,Di(t))),e.Ee}function mE(t,e){if(t.limitType==="F")return Lf(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Zi(r.field,i)});const n=t.endAt?new Aa(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Aa(t.startAt.position,t.startAt.inclusive):null;return Lf(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ru(t,e){const n=t.filters.concat([e]);return new ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ia(t,e,n){return new ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rl(t,e){return Gu(Pn(t),Pn(e))&&t.limitType===e.limitType}function xg(t){return`${zu(Pn(t))}|lt:${t.limitType}`}function kr(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>kg(r)).join(", ")}]`),tl(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Gr(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Gr(r)).join(",")),`Target(${s})`}(Pn(t))}; limitType=${t.limitType})`}function il(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):le.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of Di(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,a,c){const u=Vf(o,a,c);return o.inclusive?u<=0:u<0}(s.startAt,Di(s),r)||s.endAt&&!function(o,a,c){const u=Vf(o,a,c);return o.inclusive?u>=0:u>0}(s.endAt,Di(s),r))}(t,e)}function gE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ng(t){return(e,n)=>{let s=!1;for(const r of Di(t)){const i=vE(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function vE(t,e,n){const s=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?zr(c,u):pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return gg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Je(le.comparator);function ss(){return _E}const Mg=new Je(le.comparator);function Ii(...t){let e=Mg;for(const n of t)e=e.insert(n.key,n);return e}function Vg(t){let e=Mg;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function sr(){return xi()}function Og(){return xi()}function xi(){return new _r(t=>t.toString(),(t,e)=>t.isEqual(e))}const yE=new Je(le.comparator),bE=new ht(le.comparator);function Ce(...t){let e=bE;for(const n of t)e=e.add(n);return e}const wE=new ht(Ie);function EE(){return wE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wa(e)?"-0":e}}function Lg(t){return{integerValue:""+t}}function TE(t,e){return Jw(e)?Lg(e):Ku(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this._=void 0}}function AE(t,e,n){return t instanceof eo?function(r,i){const o={fields:{[yg]:{stringValue:_g},[wg]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Hu(i)&&(i=nl(i)),i&&(o.fields[bg]=i),{mapValue:o}}(n,e):t instanceof to?Fg(t,e):t instanceof no?Wg(t,e):function(r,i){const o=Ug(r,i),a=Ff(o)+Ff(r.Ae);return tu(o)&&tu(r.Ae)?Lg(a):Ku(r.serializer,a)}(t,e)}function IE(t,e,n){return t instanceof to?Fg(t,e):t instanceof no?Wg(t,e):n}function Ug(t,e){return t instanceof Ca?function(s){return tu(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class eo extends ol{}class to extends ol{constructor(e){super(),this.elements=e}}function Fg(t,e){const n=qg(e);for(const s of t.elements)n.some(r=>Ln(r,s))||n.push(s);return{arrayValue:{values:n}}}class no extends ol{constructor(e){super(),this.elements=e}}function Wg(t,e){let n=qg(e);for(const s of t.elements)n=n.filter(r=>!Ln(r,s));return{arrayValue:{values:n}}}class Ca extends ol{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ff(t){return it(t.integerValue||t.doubleValue)}function qg(t){return $u(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.field=e,this.transform=n}}function SE(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof to&&r instanceof to||s instanceof no&&r instanceof no?$r(s.elements,r.elements,Ln):s instanceof Ca&&r instanceof Ca?Ln(s.Ae,r.Ae):s instanceof eo&&r instanceof eo}(t.transform,e.transform)}class RE{constructor(e,n){this.version=e,this.transformResults=n}}class gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function aa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class al{}function Bg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hg(t.key,gn.none()):new vo(t.key,t.data,gn.none());{const n=t.data,s=$t.empty();let r=new ht(Tt.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new js(t.key,s,new Jt(r.toArray()),gn.none())}}function kE(t,e,n){t instanceof vo?function(r,i,o){const a=r.value.clone(),c=qf(r.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof js?function(r,i,o){if(!aa(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=qf(r.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(jg(r)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ni(t,e,n,s){return t instanceof vo?function(i,o,a,c){if(!aa(i.precondition,o))return a;const u=i.value.clone(),h=Bf(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof js?function(i,o,a,c){if(!aa(i.precondition,o))return a;const u=Bf(i.fieldTransforms,c,o),h=o.data;return h.setAll(jg(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,s):function(i,o,a){return aa(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function PE(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=Ug(s.transform,r||null);i!=null&&(n===null&&(n=$t.empty()),n.set(s.field,i))}return n||null}function Wf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&$r(s,r,(i,o)=>SE(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vo extends al{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class js extends al{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function qf(t,e,n){const s=new Map;Ve(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,IE(o,a,n[r]))}return s}function Bf(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,AE(i,o,e))}return s}class Hg extends al{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DE extends al{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&kE(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ni(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ni(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Og();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const c=Bg(o,a);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&$r(this.mutations,e.mutations,(n,s)=>Wf(n,s))&&$r(this.baseMutations,e.baseMutations,(n,s)=>Wf(n,s))}}class Qu{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ve(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return yE}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Qu(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Re;function VE(t){switch(t){case W.OK:return pe(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return pe(15467,{code:t})}}function $g(t){if(t===void 0)return ns("GRPC error has no .code"),W.UNKNOWN;switch(t){case lt.OK:return W.OK;case lt.CANCELLED:return W.CANCELLED;case lt.UNKNOWN:return W.UNKNOWN;case lt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case lt.INTERNAL:return W.INTERNAL;case lt.UNAVAILABLE:return W.UNAVAILABLE;case lt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case lt.NOT_FOUND:return W.NOT_FOUND;case lt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case lt.ABORTED:return W.ABORTED;case lt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case lt.DATA_LOSS:return W.DATA_LOSS;default:return pe(39323,{code:t})}}(Re=lt||(lt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Ss([4294967295,4294967295],0);function jf(t){const e=OE().encode(t),n=new ig;return n.update(e),new Uint8Array(n.digest())}function Hf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ss([n,s],0),new Ss([r,i],0)]}class Ju{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ci(`Invalid padding: ${n}`);if(s<0)throw new Ci(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ci(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ci(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ss.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Ss.fromNumber(s)));return r.compare(LE)===1&&(r=new Ss([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jf(e),[s,r]=Hf(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ju(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=jf(e),[s,r]=Hf(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ci extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ll(_e.min(),r,new Je(Ie),ss(),Ce())}}class _o{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _o(s,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class zg{constructor(e,n){this.targetId=e,this.Ce=n}}class Gg{constructor(e,n,s=At.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class $f{constructor(){this.ve=0,this.Fe=zf(),this.Me=At.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),n=Ce(),s=Ce();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:pe(38017,{changeType:i})}}),new _o(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=zf()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UE{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=Qo(),this.He=Qo(),this.Ye=new Je(Ie)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(su(i))if(s===0){const o=new le(i.path);this.et(n,o,xt.newNoDocument(o,_e.min()))}else Ve(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,a;try{o=Vs(s).toUint8Array()}catch(c){if(c instanceof vg)return Hr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Ju(o,r,i)}catch(c){return Hr(c instanceof Ci?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&su(a.target)){const c=new le(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,xt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let s=Ce();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const r=new ll(e,n,this.Ye,this.je,s);return this.je=ss(),this.Je=Qo(),this.He=Qo(),this.Ye=new Je(Ie),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $f,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ht(Ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ht(Ie),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $f),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qo(){return new Je(le.comparator)}function zf(){return new Je(le.comparator)}const FE={asc:"ASCENDING",desc:"DESCENDING"},WE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qE={and:"AND",or:"OR"};class BE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iu(t,e){return t.useProto3Json||tl(e)?e:{value:e}}function Sa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kg(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jE(t,e){return Sa(t,e.toTimestamp())}function Dn(t){return Ve(!!t,49232),_e.fromTimestamp(function(n){const s=Ms(n);return new $e(s.seconds,s.nanos)}(t))}function Yu(t,e){return ou(t,e).canonicalString()}function ou(t,e){const n=function(r){return new je(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Qg(t){const e=je.fromString(t);return Ve(ev(e),10190,{key:e.toString()}),e}function au(t,e){return Yu(t.databaseId,e.path)}function Ec(t,e){const n=Qg(e);if(n.get(1)!==t.databaseId.projectId)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(Yg(n))}function Jg(t,e){return Yu(t.databaseId,e)}function HE(t){const e=Qg(t);return e.length===4?je.emptyPath():Yg(e)}function lu(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Yg(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Gf(t,e,n){return{name:au(t,e),fields:n.value.mapValue.fields}}function $E(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:pe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),At.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),At.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?W.UNKNOWN:$g(u.code);return new te(h,u.message||"")}(o);n=new Gg(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Ec(t,s.document.name),i=Dn(s.document.updateTime),o=s.document.createTime?Dn(s.document.createTime):_e.min(),a=new $t({mapValue:{fields:s.document.fields}}),c=xt.newFoundDocument(r,i,o,a),u=s.targetIds||[],h=s.removedTargetIds||[];n=new la(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Ec(t,s.document),i=s.readTime?Dn(s.readTime):_e.min(),o=xt.newNoDocument(r,i),a=s.removedTargetIds||[];n=new la([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Ec(t,s.document),i=s.removedTargetIds||[];n=new la([],i,r,null)}else{if(!("filter"in e))return pe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new ME(r,i),a=s.targetId;n=new zg(a,o)}}return n}function zE(t,e){let n;if(e instanceof vo)n={update:Gf(t,e.key,e.value)};else if(e instanceof Hg)n={delete:au(t,e.key)};else if(e instanceof js)n={update:Gf(t,e.key,e.data),updateMask:tT(e.fieldMask)};else{if(!(e instanceof DE))return pe(16599,{Vt:e.type});n={verify:au(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,o){const a=o.transform;if(a instanceof eo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof to)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof no)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ca)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw pe(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:jE(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:pe(27497)}(t,e.precondition)),n}function GE(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(r,i){let o=r.updateTime?Dn(r.updateTime):Dn(i);return o.isEqual(_e.min())&&(o=Dn(i)),new RE(o,r.transformResults||[])}(n,e))):[]}function KE(t,e){return{documents:[Jg(t,e.path)]}}function QE(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Jg(t,r);const i=function(u){if(u.length!==0)return Zg(yn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:Pr(g.field),direction:XE(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=iu(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:r}}function JE(t){let e=HE(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ve(s===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(m){const g=Xg(m);return g instanceof yn&&Sg(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(R){return new Zi(Dr(R.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(m){let g;return g=typeof m=="object"?m.value:m,tl(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){const g=!!m.before,_=m.values||[];return new Aa(_,g)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const g=!m.before,_=m.values||[];return new Aa(_,g)}(n.endAt)),pE(e,r,o,i,a,"F",c,u)}function YE(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Xg(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Dr(n.unaryFilter.field);return ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Dr(n.unaryFilter.field);return ct.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Dr(n.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Dr(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Dr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(s=>Xg(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return pe(1026)}}(n.compositeFilter.op))}(t):pe(30097,{filter:t})}function XE(t){return FE[t]}function ZE(t){return WE[t]}function eT(t){return qE[t]}function Pr(t){return{fieldPath:t.canonicalString()}}function Dr(t){return Tt.fromServerFormat(t.fieldPath)}function Zg(t){return t instanceof ct?function(n){if(n.op==="=="){if(Mf(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NAN"}};if(Nf(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mf(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NOT_NAN"}};if(Nf(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pr(n.field),op:ZE(n.op),value:n.value}}}(t):t instanceof yn?function(n){const s=n.getFilters().map(r=>Zg(r));return s.length===1?s[0]:{compositeFilter:{op:eT(n.op),filters:s}}}(t):pe(54877,{filter:t})}function tT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ev(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,s,r,i=_e.min(),o=_e.min(),a=At.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.yt=e}}function sT(t){const e=JE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ia(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.Cn=new iT}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ns.min())}updateCollectionGroup(e,n,s){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class iT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ht(je.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ht(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tv=41943040;class Ht{static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(tv,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Kr(0)}static cr(){return new Kr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="LruGarbageCollector",oT=1048576;function Jf([t,e],[n,s]){const r=Ie(t,n);return r===0?Ie(e,s):r}class aT{constructor(e){this.Ir=e,this.buffer=new ht(Jf),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Jf(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(Qf,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ti(n)?re(Qf,"Ignoring IndexedDB error during garbage collection: ",n):await ei(n)}await this.Vr(3e5)})}}class cT{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return H.resolve(el.ce);const s=new aT(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(Kf)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kf):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,o=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(s=m,a=Date.now(),this.removeTargets(e,s,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(m=>(u=Date.now(),Rr()<=Ae.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:m})))}}function uT(t,e){return new cT(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.changes=new _r(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?H.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Ni(s.mutation,r,Jt.empty(),$e.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ce()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ce()){const r=sr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Ii();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=sr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ce()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=ss();const o=xi(),a=function(){return xi()}();return n.forEach((c,u)=>{const h=s.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof js)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Ni(h.mutation,u,h.mutation.getFieldMask(),$e.now())):o.set(u.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new hT(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const s=xi();let r=new Je((o,a)=>o-a),i=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=s.get(c)||Jt.empty();h=a.applyToLocalView(u,h),s.set(c,h);const m=(r.get(a.batchId)||Ce()).add(c);r=r.insert(a.batchId,m)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,m=Og();h.forEach(g=>{if(!i.has(g)){const _=Bg(n.get(g),s.get(g));_!==null&&m.set(g,_),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return H.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Dg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):H.resolve(sr());let a=Qi,c=i;return o.next(u=>H.forEach(u,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Ce())).next(h=>({batchId:a,changes:Vg(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(s=>{let r=Ii();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=Ii();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,c=>{const u=function(m,g){return new ni(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,s,r).next(h=>{h.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,xt.newInvalidDocument(h)))});let a=Ii();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&Ni(h.mutation,u,Jt.empty(),$e.now()),il(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Dn(r.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:sT(r.bundledQuery),readTime:Dn(r.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.overlays=new Je(le.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const s=sr();return H.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),H.resolve()}getOverlaysForCollection(e,n,s){const r=sr(),i=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return H.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Je((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let h=i.get(u.largestBatchId);h===null&&(h=sr(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=sr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return H.resolve(a)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new NE(n,s));let i=this.qr.get(n);i===void 0&&(i=Ce(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.Qr=new ht(pt.$r),this.Ur=new ht(pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new pt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new le(new je([])),s=new pt(n,e),r=new pt(n,e+1),i=[];return this.Ur.forEachInRange([s,r],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new le(new je([])),s=new pt(n,e),r=new pt(n,e+1);let i=Ce();return this.Ur.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return le.comparator(e.key,n.key)||Ie(e.Yr,n.Yr)}static Kr(e,n){return Ie(e.Yr,n.Yr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ht(pt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xE(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Zr=this.Zr.add(new pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?ju:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new pt(n,0),r=new pt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],o=>{const a=this.Xr(o.Yr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ht(Ie);return n.forEach(r=>{const i=new pt(r,0),o=new pt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{s=s.add(a.Yr)})}),H.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;le.isDocumentKey(i)||(i=i.child(""));const o=new pt(new le(i),0);let a=new ht(Ie);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.Yr)),!0)},o),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return H.forEach(n.mutations,r=>{const i=new pt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new pt(n,0),r=this.Zr.firstAfterOrEqual(s);return H.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.ri=e,this.docs=function(){return new Je(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return H.resolve(s?s.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let s=ss();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():xt.newInvalidDocument(r))}),H.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=ss();const o=n.path,a=new le(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zw($w(h),s)<=0||(r.has(h.key)||il(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,s,r){pe(9500)}ii(e,n){return H.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new yT(this)}getSize(e){return H.resolve(this.size)}}class yT extends dT{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.persistence=e,this.si=new _r(n=>zu(n),Gu),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new Xu,this.targetCount=0,this.ai=Kr.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Kr(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),H.waitFor(i).next(()=>r)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return H.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),H.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return H.resolve(s)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.ui={},this.overlays={},this.ci=new el(0),this.li=!1,this.li=!0,this.hi=new gT,this.referenceDelegate=e(this),this.Pi=new bT(this),this.indexManager=new rT,this.remoteDocumentCache=function(r){return new _T(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new nT(n),this.Ii=new pT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new vT(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){re("MemoryPersistence","Starting transaction:",e);const r=new wT(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return H.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class wT extends Kw{constructor(e){super(),this.currentSequenceNumber=e}}class Zu{constructor(e){this.persistence=e,this.Ri=new Xu,this.Vi=null}static mi(e){return new Zu(e)}get fi(){if(this.Vi)return this.Vi;throw pe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),H.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,s=>{const r=le.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,_e.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ra{constructor(e,n){this.persistence=e,this.pi=new _r(s=>Yw(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=uT(this,n)}static mi(e,n){return new Ra(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?H.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,n).next(a=>{a||(s++,i.removeEntry(o,_e.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),H.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ia(e.data.value)),n}br(e,n,s){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return H.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=Ce(),r=Ce();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ed(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return h1()?8:Qw(Vt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new ET;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(Rr()<=Ae.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",kr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(Rr()<=Ae.DEBUG&&re("QueryEngine","Query:",kr(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Rr()<=Ae.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",kr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(n))):H.resolve())}ys(e,n){if(Uf(n))return H.resolve(null);let s=Pn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ia(n,null,"F"),s=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=Ce(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,Ia(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,s,r){return Uf(n)||r.isEqual(_e.min())?H.resolve(null):this.ps.getDocuments(e,s).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,s,r)?H.resolve(null):(Rr()<=Ae.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kr(n)),this.vs(e,o,n,Hw(r,Qi)).next(a=>a))})}Ds(e,n){let s=new ht(Ng(e));return n.forEach((r,i)=>{il(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return Rr()<=Ae.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",kr(n)),this.ps.getDocumentsMatchingQuery(e,n,Ns.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="LocalStore",AT=3e8;class IT{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Je(Ie),this.xs=new _r(i=>zu(i),Gu),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function CT(t,e,n,s){return new IT(t,e,n,s)}async function sv(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let c=Ce();for(const u of r){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function ST(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const m=u.batch,g=m.keys();let _=H.resolve();return g.forEach(R=>{_=_.next(()=>h.getEntry(c,R)).next(N=>{const M=u.docVersions.get(R);Ve(M!==null,48541),N.version.compareTo(M)<0&&(m.applyToRemoteDocument(N,u),N.isValidDocument()&&(N.setReadTime(u.commitVersion),h.addEntry(N)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(a){let c=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function rv(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function RT(t,e){const n=be(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const a=[];e.targetChanges.forEach((h,m)=>{const g=r.get(m);if(!g)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,m)));let _=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(At.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,s)),r=r.insert(m,_),function(N,M,D){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=AT?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(g,_,h)&&a.push(n.Pi.updateTargetData(i,_))});let c=ss(),u=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(kT(i,o,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!s.isEqual(_e.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(h)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=r,i))}function kT(t,e,n){let s=Ce(),r=Ce();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=ss();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(_e.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):re(td,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:r}})}function PT(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ju),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function DT(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,H.resolve(r)):n.Pi.allocateTargetId(s).next(o=>(r=new As(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function cu(t,e,n){const s=be(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ti(o))throw o;re(td,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function Yf(t,e,n){const s=be(t);let r=_e.min(),i=Ce();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const m=be(c),g=m.xs.get(h);return g!==void 0?H.resolve(m.Ms.get(g)):m.Pi.getTargetData(u,h)}(s,o,Pn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:_e.min(),n?i:Ce())).next(a=>(xT(s,gE(e),a),{documents:a,Qs:i})))}function xT(t,e,n){let s=t.Os.get(e)||_e.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class Xf{constructor(){this.activeTargetIds=EE()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NT{constructor(){this.Mo=new Xf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xf,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="ConnectivityMonitor";class ep{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(Zf,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(Zf,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo=null;function uu(){return Jo===null?Jo=function(){return 268435456+Math.round(2147483648*Math.random())}():Jo++,"0x"+Jo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="RestConnection",VT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OT{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Ea?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const o=uu(),a=this.zo(e,n.toUriEncodedString());re(Tc,`Sending RPC '${e}' ${o}:`,a,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,i);const{host:u}=new URL(a),h=qs(u);return this.Jo(e,a,c,s,h).then(m=>(re(Tc,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Hr(Tc,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",s),m})}Ho(e,n,s,r,i,o){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=VT[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class UT extends OT{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const o=uu();return new Promise((a,c)=>{const u=new og;u.setWithCredentials(!0),u.listenOnce(ag.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ra.NO_ERROR:const m=u.getResponseJson();re(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case ra.TIMEOUT:re(kt,`RPC '${e}' ${o} timed out`),c(new te(W.DEADLINE_EXCEEDED,"Request time out"));break;case ra.HTTP_ERROR:const g=u.getStatus();if(re(kt,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);const R=_==null?void 0:_.error;if(R&&R.status&&R.message){const N=function(D){const x=D.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(x)>=0?x:W.UNKNOWN}(R.status);c(new te(N,R.message))}else c(new te(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new te(W.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{re(kt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);re(kt,`RPC '${e}' ${o} sending request:`,r),u.send(n,"POST",h,s,15)})}T_(e,n,s){const r=uu(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ug(),a=cg(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=i.join("");re(kt,`Creating RPC '${e}' stream ${r}: ${h}`,c);const m=o.createWebChannel(h,c);this.I_(m);let g=!1,_=!1;const R=new LT({Yo:M=>{_?re(kt,`Not sending because RPC '${e}' stream ${r} is closed:`,M):(g||(re(kt,`Opening RPC '${e}' stream ${r} transport.`),m.open(),g=!0),re(kt,`RPC '${e}' stream ${r} sending:`,M),m.send(M))},Zo:()=>m.close()}),N=(M,D,x)=>{M.listen(D,F=>{try{x(F)}catch(z){setTimeout(()=>{throw z},0)}})};return N(m,Ai.EventType.OPEN,()=>{_||(re(kt,`RPC '${e}' stream ${r} transport opened.`),R.o_())}),N(m,Ai.EventType.CLOSE,()=>{_||(_=!0,re(kt,`RPC '${e}' stream ${r} transport closed`),R.a_(),this.E_(m))}),N(m,Ai.EventType.ERROR,M=>{_||(_=!0,Hr(kt,`RPC '${e}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),R.a_(new te(W.UNAVAILABLE,"The operation could not be completed")))}),N(m,Ai.EventType.MESSAGE,M=>{var D;if(!_){const x=M.data[0];Ve(!!x,16349);const F=x,z=(F==null?void 0:F.error)||((D=F[0])==null?void 0:D.error);if(z){re(kt,`RPC '${e}' stream ${r} received error:`,z);const oe=z.status;let fe=function(y){const T=lt[y];if(T!==void 0)return $g(T)}(oe),C=z.message;fe===void 0&&(fe=W.INTERNAL,C="Unknown error status: "+oe+" with message "+z.message),_=!0,R.a_(new te(fe,C)),m.close()}else re(kt,`RPC '${e}' stream ${r} received:`,x),R.u_(x)}}),N(a,lg.STAT_EVENT,M=>{M.stat===Xc.PROXY?re(kt,`RPC '${e}' stream ${r} detected buffering proxy`):M.stat===Xc.NOPROXY&&re(kt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.__()},0),R}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ac(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){return new BE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="PersistentStream";class ov{constructor(e,n,s,r,i,o,a,c){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new te(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(tp,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(re(tp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FT extends ov{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$E(this.serializer,e),s=function(i){if(!("targetChange"in i))return _e.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Dn(o.readTime):_e.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=lu(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=su(c)?{documents:KE(i,c)}:{query:QE(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Kg(i,o.resumeToken);const u=iu(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=Sa(i,o.snapshotVersion.toTimestamp());const u=iu(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const s=YE(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=lu(this.serializer),n.removeTarget=e,this.q_(n)}}class WT extends ov{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GE(e.writeResults,e.commitTime),s=Dn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=lu(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>zE(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{}class BT extends qT{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,ou(n,s),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(W.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,ou(n,s),r,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(W.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="RemoteStore";class HT{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{yr(this)&&(re(fr,"Restarting streams for network reachability change."),await async function(c){const u=be(c);u.Ea.add(4),await yo(u),u.Ra.set("Unknown"),u.Ea.delete(4),await ul(u)}(this))})}),this.Ra=new jT(s,r)}}async function ul(t){if(yr(t))for(const e of t.da)await e(!0)}async function yo(t){for(const e of t.da)await e(!1)}function av(t,e){const n=be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),id(n)?rd(n):si(n).O_()&&sd(n,e))}function nd(t,e){const n=be(t),s=si(n);n.Ia.delete(e),s.O_()&&lv(n,e),n.Ia.size===0&&(s.O_()?s.L_():yr(n)&&n.Ra.set("Unknown"))}function sd(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}si(t).Y_(e)}function lv(t,e){t.Va.Ue(e),si(t).Z_(e)}function rd(t){t.Va=new UE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),si(t).start(),t.Ra.ua()}function id(t){return yr(t)&&!si(t).x_()&&t.Ia.size>0}function yr(t){return be(t).Ea.size===0}function cv(t){t.Va=void 0}async function $T(t){t.Ra.set("Online")}async function zT(t){t.Ia.forEach((e,n)=>{sd(t,e)})}async function GT(t,e){cv(t),id(t)?(t.Ra.ha(e),rd(t)):t.Ra.set("Unknown")}async function KT(t,e,n){if(t.Ra.set("Online"),e instanceof Gg&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r.Ia.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.Ia.delete(a),r.Va.removeTarget(a))}(t,e)}catch(s){re(fr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ka(t,s)}else if(e instanceof la?t.Va.Ze(e):e instanceof zg?t.Va.st(e):t.Va.tt(e),!n.isEqual(_e.min()))try{const s=await rv(t.localStore);n.compareTo(s)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(At.EMPTY_BYTE_STRING,h.snapshotVersion)),lv(i,c);const m=new As(h.target,c,u,h.sequenceNumber);sd(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(s){re(fr,"Failed to raise snapshot:",s),await ka(t,s)}}async function ka(t,e,n){if(!ti(e))throw e;t.Ea.add(1),await yo(t),t.Ra.set("Offline"),n||(n=()=>rv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(fr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ul(t)})}function uv(t,e){return e().catch(n=>ka(t,n,e))}async function dl(t){const e=be(t),n=Ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ju;for(;QT(e);)try{const r=await PT(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,JT(e,r)}catch(r){await ka(e,r)}dv(e)&&hv(e)}function QT(t){return yr(t)&&t.Ta.length<10}function JT(t,e){t.Ta.push(e);const n=Ls(t);n.O_()&&n.X_&&n.ea(e.mutations)}function dv(t){return yr(t)&&!Ls(t).x_()&&t.Ta.length>0}function hv(t){Ls(t).start()}async function YT(t){Ls(t).ra()}async function XT(t){const e=Ls(t);for(const n of t.Ta)e.ea(n.mutations)}async function ZT(t,e,n){const s=t.Ta.shift(),r=Qu.from(s,e,n);await uv(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await dl(t)}async function e0(t,e){e&&Ls(t).X_&&await async function(s,r){if(function(o){return VE(o)&&o!==W.ABORTED}(r.code)){const i=s.Ta.shift();Ls(s).B_(),await uv(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await dl(s)}}(t,e),dv(t)&&hv(t)}async function np(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),re(fr,"RemoteStore received new credentials");const s=yr(n);n.Ea.add(3),await yo(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ul(n)}async function t0(t,e){const n=be(t);e?(n.Ea.delete(2),await ul(n)):e||(n.Ea.add(2),await yo(n),n.Ra.set("Unknown"))}function si(t){return t.ma||(t.ma=function(n,s,r){const i=be(n);return i.sa(),new FT(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:$T.bind(null,t),t_:zT.bind(null,t),r_:GT.bind(null,t),H_:KT.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),id(t)?rd(t):t.Ra.set("Unknown")):(await t.ma.stop(),cv(t))})),t.ma}function Ls(t){return t.fa||(t.fa=function(n,s,r){const i=be(n);return i.sa(),new WT(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:YT.bind(null,t),r_:e0.bind(null,t),ta:XT.bind(null,t),na:ZT.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await dl(t)):(await t.fa.stop(),t.Ta.length>0&&(re(fr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new od(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ad(t,e){if(ns("AsyncQueue",`${e}: ${t}`),ti(t))return new te(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{static emptySet(e){return new Mr(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||le.comparator(n.key,s.key):(n,s)=>le.comparator(n.key,s.key),this.keyedMap=Ii(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Mr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this.ga=new Je(le.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Qr{constructor(e,n,s,r,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qr(e,n,Mr.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class s0{constructor(){this.queries=rp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=be(n),i=r.queries;r.queries=rp(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(s)})})(this,new te(W.ABORTED,"Firestore shutting down"))}}function rp(){return new _r(t=>xg(t),rl)}async function fv(t,e){const n=be(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new n0,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=ad(o,`Initialization of query '${kr(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&ld(n)}async function pv(t,e){const n=be(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function r0(t,e){const n=be(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(r)&&(s=!0);o.wa=r}}s&&ld(n)}function i0(t,e,n){const s=be(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function ld(t){t.Ca.forEach(e=>{e.next()})}var du,ip;(ip=du||(du={})).Ma="default",ip.Cache="cache";class mv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Qr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==du.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this.key=e}}class vv{constructor(e){this.key=e}}class o0{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=Ng(e),this.tu=new Mr(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new sp,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,m)=>{const g=r.get(h),_=il(this.query,m)?m:null,R=!!g&&this.mutatedKeys.has(g.key),N=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let M=!1;g&&_?g.data.isEqual(_.data)?R!==N&&(s.track({type:3,doc:_}),M=!0):this.su(g,_)||(s.track({type:2,doc:_}),M=!0,(c&&this.eu(_,c)>0||u&&this.eu(_,u)<0)&&(a=!0)):!g&&_?(s.track({type:0,doc:_}),M=!0):g&&!_&&(s.track({type:1,doc:g}),M=!0,(c||u)&&(a=!0)),M&&(_?(o=o.add(_),i=N?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),s.track({type:1,doc:h})}return{tu:o,iu:s,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,m)=>function(_,R){const N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Rt:M})}};return N(_)-N(R)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(s),r=r??!1;const a=n&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new Qr(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ce(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new vv(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new gv(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cd="SyncEngine";class a0{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class l0{constructor(e){this.key=e,this.hu=!1}}class c0{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new _r(a=>xg(a),rl),this.Iu=new Map,this.Eu=new Set,this.du=new Je(le.comparator),this.Au=new Map,this.Ru=new Xu,this.Vu={},this.mu=new Map,this.fu=Kr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function u0(t,e,n=!0){const s=Tv(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await _v(s,e,n,!0),r}async function d0(t,e){const n=Tv(t);await _v(n,e,!0,!1)}async function _v(t,e,n,s){const r=await DT(t.localStore,Pn(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return s&&(a=await h0(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&av(t.remoteStore,r),a}async function h0(t,e,n,s,r){t.pu=(m,g,_)=>async function(N,M,D,x){let F=M.view.ru(D);F.Cs&&(F=await Yf(N.localStore,M.query,!1).then(({documents:C})=>M.view.ru(C,F)));const z=x&&x.targetChanges.get(M.targetId),oe=x&&x.targetMismatches.get(M.targetId)!=null,fe=M.view.applyChanges(F,N.isPrimaryClient,z,oe);return ap(N,M.targetId,fe.au),fe.snapshot}(t,m,g,_);const i=await Yf(t.localStore,e,!0),o=new o0(e,i.Qs),a=o.ru(i.documents),c=_o.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,c);ap(t,n,u.au);const h=new a0(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function f0(t,e,n){const s=be(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(o=>!rl(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await cu(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&nd(s.remoteStore,r.targetId),hu(s,r.targetId)}).catch(ei)):(hu(s,r.targetId),await cu(s.localStore,r.targetId,!0))}async function p0(t,e){const n=be(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),nd(n.remoteStore,s.targetId))}async function m0(t,e,n){const s=E0(t);try{const r=await function(o,a){const c=be(o),u=$e.now(),h=a.reduce((_,R)=>_.add(R.key),Ce());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let R=ss(),N=Ce();return c.Ns.getEntries(_,h).next(M=>{R=M,R.forEach((D,x)=>{x.isValidDocument()||(N=N.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,R)).next(M=>{m=M;const D=[];for(const x of a){const F=PE(x,m.get(x.key).overlayedDocument);F!=null&&D.push(new js(x.key,F,Ag(F.value.mapValue),gn.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,D,a)}).next(M=>{g=M;const D=M.applyToLocalDocumentSet(m,N);return c.documentOverlayCache.saveOverlays(_,M.batchId,D)})}).then(()=>({batchId:g.batchId,changes:Vg(m)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Je(Ie)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(s,r.batchId,n),await bo(s,r.changes),await dl(s.remoteStore)}catch(r){const i=ad(r,"Failed to persist write");n.reject(i)}}async function yv(t,e){const n=be(t);try{const s=await RT(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.Au.get(i);o&&(Ve(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Ve(o.hu,14607):r.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await bo(n,s,e)}catch(s){await ei(s)}}function op(t,e,n){const s=be(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const c=be(o);c.onlineState=a;let u=!1;c.queries.forEach((h,m)=>{for(const g of m.Sa)g.va(a)&&(u=!0)}),u&&ld(c)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function g0(t,e,n){const s=be(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let o=new Je(le.comparator);o=o.insert(i,xt.newNoDocument(i,_e.min()));const a=Ce().add(i),c=new ll(_e.min(),new Map,new Je(Ie),o,a);await yv(s,c),s.du=s.du.remove(i),s.Au.delete(e),ud(s)}else await cu(s.localStore,e,!1).then(()=>hu(s,e,n)).catch(ei)}async function v0(t,e){const n=be(t),s=e.batch.batchId;try{const r=await ST(n.localStore,e);wv(n,s,null),bv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bo(n,r)}catch(r){await ei(r)}}async function _0(t,e,n){const s=be(t);try{const r=await function(o,a){const c=be(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(m=>(Ve(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(s.localStore,e);wv(s,e,n),bv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await bo(s,r)}catch(r){await ei(r)}}function bv(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function wv(t,e,n){const s=be(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function hu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||Ev(t,s)})}function Ev(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(nd(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ud(t))}function ap(t,e,n){for(const s of n)s instanceof gv?(t.Ru.addReference(s.key,e),y0(t,s)):s instanceof vv?(re(cd,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||Ev(t,s.key)):pe(19791,{wu:s})}function y0(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(re(cd,"New document in limbo: "+n),t.Eu.add(s),ud(t))}function ud(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new le(je.fromString(e)),s=t.fu.next();t.Au.set(s,new l0(n)),t.du=t.du.insert(n,s),av(t.remoteStore,new As(Pn(sl(n.path)),s,"TargetPurposeLimboResolution",el.ce))}}async function bo(t,e,n){const s=be(t),r=[],i=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((a,c)=>{o.push(s.pu(c,e,n).then(u=>{var h;if((u||n)&&s.isPrimaryClient){const m=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){r.push(u);const m=ed.As(c.targetId,u);i.push(m)}}))}),await Promise.all(o),s.Pu.H_(r),await async function(c,u){const h=be(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(u,g=>H.forEach(g.Es,_=>h.persistence.referenceDelegate.addReference(m,g.targetId,_)).next(()=>H.forEach(g.ds,_=>h.persistence.referenceDelegate.removeReference(m,g.targetId,_)))))}catch(m){if(!ti(m))throw m;re(td,"Failed to update sequence numbers: "+m)}for(const m of u){const g=m.targetId;if(!m.fromCache){const _=h.Ms.get(g),R=_.snapshotVersion,N=_.withLastLimboFreeSnapshotVersion(R);h.Ms=h.Ms.insert(g,N)}}}(s.localStore,i))}async function b0(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){re(cd,"User change. New user:",e.toKey());const s=await sv(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new te(W.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bo(n,s.Ls)}}function w0(t,e){const n=be(t),s=n.Au.get(e);if(s&&s.hu)return Ce().add(s.key);{let r=Ce();const i=n.Iu.get(e);if(!i)return r;for(const o of i){const a=n.Tu.get(o);r=r.unionWith(a.view.nu)}return r}}function Tv(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g0.bind(null,e),e.Pu.H_=r0.bind(null,e.eventManager),e.Pu.yu=i0.bind(null,e.eventManager),e}function E0(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_0.bind(null,e),e}class Pa{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return CT(this.persistence,new TT,e.initialUser,this.serializer)}Cu(e){return new nv(Zu.mi,this.serializer)}Du(e){return new NT}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pa.provider={build:()=>new Pa};class T0 extends Pa{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ve(this.persistence.referenceDelegate instanceof Ra,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lT(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new nv(s=>Ra.mi(s,n),this.serializer)}}class fu{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>op(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=b0.bind(null,this.syncEngine),await t0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s0}()}createDatastore(e){const n=cl(e.databaseInfo.databaseId),s=function(i){return new UT(i)}(e.databaseInfo);return function(i,o,a,c){return new BT(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,o,a){return new HT(s,r,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>op(this.syncEngine,n,0),function(){return ep.v()?new ep:new MT}())}createSyncEngine(e,n){return function(r,i,o,a,c,u,h){const m=new c0(r,i,o,a,c,u);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=be(r);re(fr,"RemoteStore shutting down."),i.Ea.add(5),await yo(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}fu.provider={build:()=>new fu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class A0{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Dt.UNAUTHENTICATED,this.clientId=Bu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{re(Us,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(re(Us,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ad(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ic(t,e){t.asyncQueue.verifyOperationInProgress(),re(Us,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await sv(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I0(t);re(Us,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>np(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>np(e.remoteStore,r)),t._onlineComponents=e}async function I0(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(Us,"Using user provided OfflineComponentProvider");try{await Ic(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===W.FAILED_PRECONDITION||r.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Hr("Error using user provided cache. Falling back to memory cache: "+n),await Ic(t,new Pa)}}else re(Us,"Using default OfflineComponentProvider"),await Ic(t,new T0(void 0));return t._offlineComponents}async function Iv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(Us,"Using user provided OnlineComponentProvider"),await lp(t,t._uninitializedComponentsProvider._online)):(re(Us,"Using default OnlineComponentProvider"),await lp(t,new fu))),t._onlineComponents}function C0(t){return Iv(t).then(e=>e.syncEngine)}async function pu(t){const e=await Iv(t),n=e.eventManager;return n.onListen=u0.bind(null,e.syncEngine),n.onUnlisten=f0.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d0.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p0.bind(null,e.syncEngine),n}function S0(t,e,n={}){const s=new Rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const h=new Av({next:g=>{h.Nu(),o.enqueueAndForget(()=>pv(i,m));const _=g.docs.has(a);!_&&g.fromCache?u.reject(new te(W.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&c&&c.source==="server"?u.reject(new te(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new mv(sl(a.path),h,{includeMetadataChanges:!0,qa:!0});return fv(i,m)}(await pu(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="firestore.googleapis.com",up=!0;class dp{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sv,this.ssl=up}else this.host=e.host,this.ssl=e.ssl??up;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oT)throw new te(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cv(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hl{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new xw;switch(s.type){case"firstParty":return new Ow(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new te(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=cp.get(n);s&&(re("ComponentProvider","Removing Datastore"),cp.delete(n),s.terminate())}(this),Promise.resolve()}}function R0(t,e,n,s={}){var u;t=mn(t,hl);const r=qs(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;r&&(Ou(`https://${a}`),Lu("Firestore",!0)),i.host!==Sv&&i.host!==a&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:r,emulatorOptions:s};if(!ur(c,o)&&(t._setSettings(c),s.mockUserToken)){let h,m;if(typeof s.mockUserToken=="string")h=s.mockUserToken,m=Dt.MOCK_USER;else{h=Zm(s.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new te(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Dt(g)}t._authCredentials=new Nw(new hg(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Hs(this.firestore,e,this._query)}}class Ze{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(go(n,Ze._jsonSchema))return new Ze(e,s||null,new le(je.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:ut("string",Ze._jsonSchemaVersion),referencePath:ut("string")};class ks extends Hs{constructor(e,n,s){super(e,n,sl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new le(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function dd(t,e,...n){if(t=et(t),fg("collection","path",e),t instanceof hl){const s=je.fromString(e,...n);return Af(s),new ks(t,null,s)}{if(!(t instanceof Ze||t instanceof ks))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(je.fromString(e,...n));return Af(s),new ks(t.firestore,null,s)}}function fl(t,e,...n){if(t=et(t),arguments.length===1&&(e=Bu.newId()),fg("doc","path",e),t instanceof hl){const s=je.fromString(e,...n);return Tf(s),new Ze(t,null,new le(s))}{if(!(t instanceof Ze||t instanceof ks))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(je.fromString(e,...n));return Tf(s),new Ze(t.firestore,t instanceof ks?t.converter:null,new le(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="AsyncQueue";class fp{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iv(this,"async_queue_retry"),this._c=()=>{const s=Ac();s&&re(hp,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ac();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ac();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Rs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ti(e))throw e;re(hp,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",pp(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=od.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&pe(47125,{Pc:pp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pp(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const i of s)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class pr extends hl{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new fp,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fp(e),this._firestoreClient=void 0,await e}}}function k0(t,e){const n=typeof t=="object"?t:Wu(),s=typeof t=="string"?t:Ea,r=Xa(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=Jm("firestore");i&&R0(r,...i)}return r}function hd(t){if(t._terminated)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P0(t),t._firestoreClient}function P0(t){var s,r,i;const e=t._freezeSettings(),n=function(a,c,u,h){return new eE(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Cv(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new A0(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this._byteString=e}static fromBase64String(e){try{return new on(At.fromBase64String(e))}catch(n){throw new te(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new on(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:on._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(go(e,on._jsonSchema))return on.fromBase64String(e.bytes)}}on._jsonSchemaVersion="firestore/bytes/1.0",on._jsonSchema={type:ut("string",on._jsonSchemaVersion),bytes:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xn._jsonSchemaVersion}}static fromJSON(e){if(go(e,xn._jsonSchema))return new xn(e.latitude,e.longitude)}}xn._jsonSchemaVersion="firestore/geoPoint/1.0",xn._jsonSchema={type:ut("string",xn._jsonSchemaVersion),latitude:ut("number"),longitude:ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Nn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(go(e,Nn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Nn(e.vectorValues);throw new te(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nn._jsonSchemaVersion="firestore/vectorValue/1.0",Nn._jsonSchema={type:ut("string",Nn._jsonSchemaVersion),vectorValues:ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=/^__.*__$/;class x0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new vo(e,this.data,n,this.fieldTransforms)}}class Rv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{Ac:t})}}class fd{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Da(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kv(this.Ac)&&D0.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N0{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cl(e)}Cc(e,n,s,r=!1){return new fd({Ac:e,methodName:n,Dc:s,path:Tt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gl(t){const e=t._freezeSettings(),n=cl(t._databaseId);return new N0(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pv(t,e,n,s,r,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);md("Data must be an object, but it was:",o,s);const a=Dv(s,o);let c,u;if(i.merge)c=new Jt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const m of i.mergeFields){const g=mu(e,m,n);if(!o.contains(g))throw new te(W.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Nv(h,g)||h.push(g)}c=new Jt(h),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new x0(new $t(a),c,u)}class vl extends ml{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vl}}class pd extends ml{_toFieldTransform(e){return new CE(e.path,new eo)}isEqual(e){return e instanceof pd}}function M0(t,e,n,s){const r=t.Cc(1,e,n);md("Data must be an object, but it was:",r,s);const i=[],o=$t.empty();Bs(s,(c,u)=>{const h=gd(e,c,n);u=et(u);const m=r.yc(h);if(u instanceof vl)i.push(h);else{const g=wo(u,m);g!=null&&(i.push(h),o.set(h,g))}});const a=new Jt(i);return new Rv(o,a,r.fieldTransforms)}function V0(t,e,n,s,r,i){const o=t.Cc(1,e,n),a=[mu(e,s,n)],c=[r];if(i.length%2!=0)throw new te(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(mu(e,i[g])),c.push(i[g+1]);const u=[],h=$t.empty();for(let g=a.length-1;g>=0;--g)if(!Nv(u,a[g])){const _=a[g];let R=c[g];R=et(R);const N=o.yc(_);if(R instanceof vl)u.push(_);else{const M=wo(R,N);M!=null&&(u.push(_),h.set(_,M))}}const m=new Jt(u);return new Rv(h,m,o.fieldTransforms)}function O0(t,e,n,s=!1){return wo(n,t.Cc(s?4:3,e))}function wo(t,e){if(xv(t=et(t)))return md("Unsupported field value:",e,t),Dv(t,e);if(t instanceof ml)return function(s,r){if(!kv(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const i=[];let o=0;for(const a of s){let c=wo(a,r.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return TE(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=$e.fromDate(s);return{timestampValue:Sa(r.serializer,i)}}if(s instanceof $e){const i=new $e(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sa(r.serializer,i)}}if(s instanceof xn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof on)return{bytesValue:Kg(r.serializer,s._byteString)};if(s instanceof Ze){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Yu(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Nn)return function(o,a){return{mapValue:{fields:{[Eg]:{stringValue:Tg},[Ta]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Ku(a.serializer,u)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${Za(s)}`)}(t,e)}function Dv(t,e){const n={};return gg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(s,r)=>{const i=wo(r,e.mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function xv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof xn||t instanceof on||t instanceof Ze||t instanceof ml||t instanceof Nn)}function md(t,e,n){if(!xv(n)||!pg(n)){const s=Za(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function mu(t,e,n){if((e=et(e))instanceof pl)return e._internalPath;if(typeof e=="string")return gd(t,e);throw Da("Field path arguments must be of type string or ",t,!1,void 0,n)}const L0=new RegExp("[~\\*/\\[\\]]");function gd(t,e,n){if(e.search(L0)>=0)throw Da(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pl(...e.split("."))._internalPath}catch{throw Da(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Da(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new te(W.INVALID_ARGUMENT,a+t+c)}function Nv(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U0 extends Mv{data(){return super.data()}}function vd(t,e){return typeof e=="string"?gd(t,e):e instanceof pl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _d{}class yd extends _d{}function W0(t,e,...n){let s=[];e instanceof _d&&s.push(e),s=s.concat(n),function(i){const o=i.filter(c=>c instanceof wd).length,a=i.filter(c=>c instanceof bd).length;if(o>1||o>0&&a>0)throw new te(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class bd extends yd{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new bd(e,n,s)}_apply(e){const n=this._parse(e);return Vv(e._query,n),new Hs(e.firestore,e.converter,ru(e._query,n))}_parse(e){const n=gl(e.firestore);return function(i,o,a,c,u,h,m){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new te(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){vp(m,h);const R=[];for(const N of m)R.push(gp(c,i,N));g={arrayValue:{values:R}}}else g=gp(c,i,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||vp(m,h),g=O0(a,o,m,h==="in"||h==="not-in");return ct.create(u,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wd extends _d{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wd(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const a=i.getFlattenedFilters();for(const c of a)Vv(o,c),o=ru(o,c)}(e._query,n),new Hs(e.firestore,e.converter,ru(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ed extends yd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ed(e,n)}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new te(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new te(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zi(i,o)}(e._query,this._field,this._direction);return new Hs(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new ni(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function q0(t,e="asc"){const n=e,s=vd("orderBy",t);return Ed._create(s,n)}class Td extends yd{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Td(e,n,s)}_apply(e){return new Hs(e.firestore,e.converter,Ia(e._query,this._limit,this._limitType))}}function B0(t){return jw("limit",t),Td._create("limit",t,"F")}function gp(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dg(e)&&n.indexOf("/")!==-1)throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(je.fromString(n));if(!le.isDocumentKey(s))throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xf(t,new le(s))}if(n instanceof Ze)return xf(t,n._key);throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Za(n)}.`)}function vp(t,e){if(!Array.isArray(t)||t.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vv(t,e){const n=function(r,i){for(const o of r)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class j0{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Bs(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[Ta].arrayValue)==null?void 0:r.values)==null?void 0:i.map(o=>it(o.doubleValue));return new Nn(n)}convertGeoPoint(e){return new xn(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nl(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ji(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=je.fromString(e);Ve(ev(s),9688,{name:e});const r=new Yi(s.get(1),s.get(3)),i=new le(s.popFirst(5));return r.isEqual(n)||ns(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Si{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ir extends Mv{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(vd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ir._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",ir._jsonSchema={type:ut("string",ir._jsonSchemaVersion),bundleSource:ut("string","DocumentSnapshot"),bundleName:ut("string"),bundle:ut("string")};class ca extends ir{data(e={}){return super.data(e)}}class Vr{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Si(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ca(this._firestore,this._userDataWriter,s.key,s,new Si(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const c=new ca(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Si(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new ca(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Si(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:H0(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function H0(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){t=mn(t,Ze);const e=mn(t.firestore,pr);return S0(hd(e),t._key).then(n=>Wv(e,t,n))}Vr._jsonSchemaVersion="firestore/querySnapshot/1.0",Vr._jsonSchema={type:ut("string",Vr._jsonSchemaVersion),bundleSource:ut("string","QuerySnapshot"),bundleName:ut("string"),bundle:ut("string")};class Lv extends j0{constructor(e){super(),this.firestore=e}convertBytes(e){return new on(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function z0(t,e,n){t=mn(t,Ze);const s=mn(t.firestore,pr),r=Ov(t.converter,e,n);return Id(s,[Pv(gl(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,gn.none())])}function Uv(t,e,n,...s){t=mn(t,Ze);const r=mn(t.firestore,pr),i=gl(r);let o;return o=typeof(e=et(e))=="string"||e instanceof pl?V0(i,"updateDoc",t._key,e,n,s):M0(i,"updateDoc",t._key,e),Id(r,[o.toMutation(t._key,gn.exists(!0))])}function Fv(t,e){const n=mn(t.firestore,pr),s=fl(t),r=Ov(t.converter,e);return Id(n,[Pv(gl(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,gn.exists(!1))]).then(()=>s)}function Ad(t,...e){var c,u,h;t=et(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||mp(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(mp(e[s])){const m=e[s];e[s]=(c=m.next)==null?void 0:c.bind(m),e[s+1]=(u=m.error)==null?void 0:u.bind(m),e[s+2]=(h=m.complete)==null?void 0:h.bind(m)}let i,o,a;if(t instanceof Ze)o=mn(t.firestore,pr),a=sl(t._key.path),i={next:m=>{e[s]&&e[s](Wv(o,t,m))},error:e[s+1],complete:e[s+2]};else{const m=mn(t,Hs);o=mn(m.firestore,pr),a=m._query;const g=new Lv(o);i={next:_=>{e[s]&&e[s](new Vr(o,g,m,_))},error:e[s+1],complete:e[s+2]},F0(t._query)}return function(g,_,R,N){const M=new Av(N),D=new mv(_,M,R);return g.asyncQueue.enqueueAndForget(async()=>fv(await pu(g),D)),()=>{M.Nu(),g.asyncQueue.enqueueAndForget(async()=>pv(await pu(g),D))}}(hd(o),a,r,i)}function Id(t,e){return function(s,r){const i=new Rs;return s.asyncQueue.enqueueAndForget(async()=>m0(await C0(s),r,i)),i.promise}(hd(t),e)}function Wv(t,e,n){const s=n.docs.get(e._key),r=new Lv(t);return new ir(t,r,e._key,s,new Si(n.hasPendingWrites,n.fromCache),e.converter)}function Cd(){return new pd("serverTimestamp")}(function(e,n=!0){(function(r){Zr=r})(vr),dr(new xs("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),a=new pr(new Mw(s.getProvider("auth-internal")),new Lw(o,s.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yi(u.options.projectId,h)}(o,r),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),kn(yf,bf,e),kn(yf,bf,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="firebasestorage.googleapis.com",Bv="storageBucket",G0=2*60*1e3,K0=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends Wn{constructor(e,n,s=0){super(Cc(e),`Firebase Storage: ${n} (${Cc(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tt||(tt={}));function Cc(t){return"storage/"+t}function Sd(){const t="An unknown error occurred, please check the error payload for server response.";return new nt(tt.UNKNOWN,t)}function Q0(t){return new nt(tt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function J0(t){return new nt(tt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y0(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt(tt.UNAUTHENTICATED,t)}function X0(){return new nt(tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Z0(t){return new nt(tt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function eA(){return new nt(tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tA(){return new nt(tt.CANCELED,"User canceled the upload/download.")}function nA(t){return new nt(tt.INVALID_URL,"Invalid URL '"+t+"'.")}function sA(t){return new nt(tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function rA(){return new nt(tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Bv+"' property when initializing the app?")}function iA(){return new nt(tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oA(){return new nt(tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aA(t){return new nt(tt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gu(t){return new nt(tt.INVALID_ARGUMENT,t)}function jv(){return new nt(tt.APP_DELETED,"The Firebase app was deleted.")}function lA(t){return new nt(tt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mi(t,e){return new nt(tt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function yi(t){throw new nt(tt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Yt.makeFromUrl(e,n)}catch{return new Yt(e,"")}if(s.path==="")return s;throw sA(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function i(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function u(z){z.path_=decodeURIComponent(z.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${m}/${h}/b/${r}/o${g}`,"i"),R={bucket:1,path:3},N=n===qv?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",D=new RegExp(`^https?://${N}/${r}/${M}`,"i"),F=[{regex:a,indices:c,postModify:i},{regex:_,indices:R,postModify:u},{regex:D,indices:{bucket:1,path:2},postModify:u}];for(let z=0;z<F.length;z++){const oe=F[z],fe=oe.regex.exec(e);if(fe){const C=fe[oe.indices.bucket];let b=fe[oe.indices.path];b||(b=""),s=new Yt(C,b),oe.postModify(s);break}}if(s==null)throw nA(e);return s}}class cA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t,e,n){let s=1,r=null,i=null,o=!1,a=0;function c(){return a===2}let u=!1;function h(...M){u||(u=!0,e.apply(null,M))}function m(M){r=setTimeout(()=>{r=null,t(_,c())},M)}function g(){i&&clearTimeout(i)}function _(M,...D){if(u){g();return}if(M){g(),h.call(null,M,...D);return}if(c()||o){g(),h.call(null,M,...D);return}s<64&&(s*=2);let F;a===1?(a=2,F=0):F=(s+Math.random())*1e3,m(F)}let R=!1;function N(M){R||(R=!0,g(),!u&&(r!==null?(M||(a=2),clearTimeout(r),m(0)):M||(a=1)))}return m(0),i=setTimeout(()=>{o=!0,N(!0)},n),N}function dA(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){return t!==void 0}function fA(t){return typeof t=="object"&&!Array.isArray(t)}function Rd(t){return typeof t=="string"||t instanceof String}function _p(t){return kd()&&t instanceof Blob}function kd(){return typeof Blob<"u"}function yp(t,e,n,s){if(s<e)throw gu(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw gu(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function Hv(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var or;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(or||(or={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,s,r,i,o,a,c,u,h,m,g=!0,_=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=m,this.retry=g,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,N)=>{this.resolve_=R,this.reject_=N,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new Yo(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===or.NO_ERROR,c=i.getStatus();if(!a||pA(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===or.ABORT;s(!1,new Yo(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new Yo(u,i))})},n=(s,r)=>{const i=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());hA(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=Sd();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(r.canceled){const c=this.appDelete_?jv():tA();o(c)}else{const c=eA();o(c)}};this.canceled_?n(!1,new Yo(!1,null,!0)):this.backoffId_=uA(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yo{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function gA(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vA(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _A(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yA(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bA(t,e,n,s,r,i,o=!0,a=!1){const c=Hv(t.urlParams),u=t.url+c,h=Object.assign({},t.headers);return _A(h,e),gA(h,n),vA(h,i),yA(h,s),new mA(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function EA(...t){const e=wA();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(kd())return new Blob(t);throw new nt(tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TA(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){if(typeof atob>"u")throw aA("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sc{constructor(e,n){this.data=e,this.contentType=n||null}}function IA(t,e){switch(t){case Rn.RAW:return new Sc($v(e));case Rn.BASE64:case Rn.BASE64URL:return new Sc(zv(t,e));case Rn.DATA_URL:return new Sc(SA(e),RA(e))}throw Sd()}function $v(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=s,o=t.charCodeAt(++n);s=65536|(i&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function CA(t){let e;try{e=decodeURIComponent(t)}catch{throw Mi(Rn.DATA_URL,"Malformed data URL.")}return $v(e)}function zv(t,e){switch(t){case Rn.BASE64:{const r=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(r||i)throw Mi(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Rn.BASE64URL:{const r=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(r||i)throw Mi(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AA(e)}catch(r){throw r.message.includes("polyfill")?r:Mi(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}class Gv{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Mi(Rn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=kA(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function SA(t){const e=new Gv(t);return e.base64?zv(Rn.BASE64,e.rest):CA(e.rest)}function RA(t){return new Gv(t).contentType}function kA(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){let s=0,r="";_p(e)?(this.data_=e,s=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(_p(this.data_)){const s=this.data_,r=TA(s,e,n);return r===null?null:new bs(r)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new bs(s,!0)}}static getBlob(...e){if(kd()){const n=e.map(s=>s instanceof bs?s.data_:s);return new bs(EA.apply(null,n))}else{const n=e.map(o=>Rd(o)?IA(Rn.RAW,o).data:o.data_);let s=0;n.forEach(o=>{s+=o.byteLength});const r=new Uint8Array(s);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[i++]=o[a]}),new bs(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){let e;try{e=JSON.parse(t)}catch{return null}return fA(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function DA(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function Qv(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e){return e}class Ut{constructor(e,n,s,r){this.server=e,this.local=n||e,this.writable=!!s,this.xform=r||xA}}let Xo=null;function NA(t){return!Rd(t)||t.length<2?t:Qv(t)}function Jv(){if(Xo)return Xo;const t=[];t.push(new Ut("bucket")),t.push(new Ut("generation")),t.push(new Ut("metageneration")),t.push(new Ut("name","fullPath",!0));function e(i,o){return NA(o)}const n=new Ut("name");n.xform=e,t.push(n);function s(i,o){return o!==void 0?Number(o):o}const r=new Ut("size");return r.xform=s,t.push(r),t.push(new Ut("timeCreated")),t.push(new Ut("updated")),t.push(new Ut("md5Hash",null,!0)),t.push(new Ut("cacheControl",null,!0)),t.push(new Ut("contentDisposition",null,!0)),t.push(new Ut("contentEncoding",null,!0)),t.push(new Ut("contentLanguage",null,!0)),t.push(new Ut("contentType",null,!0)),t.push(new Ut("metadata","customMetadata",!0)),Xo=t,Xo}function MA(t,e){function n(){const s=t.bucket,r=t.fullPath,i=new Yt(s,r);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function VA(t,e,n){const s={};s.type="file";const r=n.length;for(let i=0;i<r;i++){const o=n[i];s[o.local]=o.xform(s,e[o.server])}return MA(s,t),s}function Yv(t,e,n){const s=Kv(e);return s===null?null:VA(t,s,n)}function OA(t,e,n,s){const r=Kv(e);if(r===null||!Rd(r.downloadTokens))return null;const i=r.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,m=t.fullPath,g="/b/"+o(h)+"/o/"+o(m),_=Pd(g,n,s),R=Hv({alt:"media",token:u});return _+R})[0]}function LA(t,e){const n={},s=e.length;for(let r=0;r<s;r++){const i=e[r];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Xv{constructor(e,n,s,r){this.url=e,this.method=n,this.handler=s,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){if(!t)throw Sd()}function UA(t,e){function n(s,r){const i=Yv(t,r,e);return Zv(i!==null),i}return n}function FA(t,e){function n(s,r){const i=Yv(t,r,e);return Zv(i!==null),OA(i,r,t.host,t._protocol)}return n}function e_(t){function e(n,s){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=X0():r=Y0():n.getStatus()===402?r=J0(t.bucket):n.getStatus()===403?r=Z0(t.path):r=s,r.status=n.getStatus(),r.serverResponse=s.serverResponse,r}return e}function WA(t){const e=e_(t);function n(s,r){let i=e(s,r);return s.getStatus()===404&&(i=Q0(t.path)),i.serverResponse=r.serverResponse,i}return n}function qA(t,e,n){const s=e.fullServerUrl(),r=Pd(s,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Xv(r,i,FA(t,n),o);return a.errorHandler=WA(e),a}function BA(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function jA(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=BA(null,e)),s}function HA(t,e,n,s,r){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let F="";for(let z=0;z<2;z++)F=F+Math.random().toString().slice(2);return F}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const u=jA(e,s,r),h=LA(u,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+c+"--",_=bs.getBlob(m,s,g);if(_===null)throw iA();const R={name:u.fullPath},N=Pd(i,t.host,t._protocol),M="POST",D=t.maxUploadRetryTime,x=new Xv(N,M,UA(t,n),D);return x.urlParams=R,x.headers=o,x.body=_.uploadData(),x.errorHandler=e_(e),x}class $A{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=or.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=or.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=or.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,r,i){if(this.sent_)throw yi("cannot .send() more than once");if(qs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yi("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zA extends $A{initXhr(){this.xhr_.responseType="text"}}function t_(){return new zA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){this._service=e,n instanceof Yt?this._location=n:this._location=Yt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mr(e,n)}get root(){const e=new Yt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qv(this._location.path)}get storage(){return this._service}get parent(){const e=PA(this._location.path);if(e===null)return null;const n=new Yt(this._location.bucket,e);return new mr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lA(e)}}function GA(t,e,n){t._throwIfRoot("uploadBytes");const s=HA(t.storage,t._location,Jv(),new bs(e,!0),n);return t.storage.makeRequestWithTokens(s,t_).then(r=>({metadata:r,ref:t}))}function KA(t){t._throwIfRoot("getDownloadURL");const e=qA(t.storage,t._location,Jv());return t.storage.makeRequestWithTokens(e,t_).then(n=>{if(n===null)throw oA();return n})}function QA(t,e){const n=DA(t._location.path,e),s=new Yt(t._location.bucket,n);return new mr(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t){return/^[A-Za-z]+:\/\//.test(t)}function YA(t,e){return new mr(t,e)}function n_(t,e){if(t instanceof Dd){const n=t;if(n._bucket==null)throw rA();const s=new mr(n,n._bucket);return e!=null?n_(s,e):s}else return e!==void 0?QA(t,e):t}function XA(t,e){if(e&&JA(e)){if(t instanceof Dd)return YA(t,e);throw gu("To use ref(service, url), the first argument must be a Storage instance.")}else return n_(t,e)}function bp(t,e){const n=e==null?void 0:e[Bv];return n==null?null:Yt.makeFromBucketSpec(n,t)}function ZA(t,e,n,s={}){t.host=`${e}:${n}`;const r=qs(e);r&&(Ou(`https://${t.host}/b`),Lu("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:Zm(i,t.app.options.projectId))}class Dd{constructor(e,n,s,r,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=qv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=G0,this._maxUploadRetryTime=K0,this._requests=new Set,r!=null?this._bucket=Yt.makeFromBucketSpec(r,this._host):this._bucket=bp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yt.makeFromBucketSpec(this._url,e):this._bucket=bp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mr(this,e)}_makeRequest(e,n,s,r,i=!0){if(this._deleted)return new cA(jv());{const o=bA(e,this._appId,s,r,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const wp="@firebase/storage",Ep="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="storage";function eI(t,e,n){return t=et(t),GA(t,e,n)}function tI(t){return t=et(t),KA(t)}function nI(t,e){return t=et(t),XA(t,e)}function sI(t=Wu(),e){t=et(t);const s=Xa(t,s_).getImmediate({identifier:e}),r=Jm("storage");return r&&rI(s,...r),s}function rI(t,e,n,s={}){ZA(t,e,n,s)}function iI(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Dd(n,s,r,e,vr)}function oI(){dr(new xs(s_,iI,"PUBLIC").setMultipleInstances(!0)),kn(wp,Ep,""),kn(wp,Ep,"esm2020")}oI();function r_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aI=r_,i_=new po("auth","Firebase",r_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Uu("@firebase/auth");function lI(t,...e){xa.logLevel<=Ae.WARN&&xa.warn(`Auth (${vr}): ${t}`,...e)}function ua(t,...e){xa.logLevel<=Ae.ERROR&&xa.error(`Auth (${vr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw Nd(t,...e)}function vn(t,...e){return Nd(t,...e)}function xd(t,e,n){const s={...aI(),[e]:n};return new po("auth","Firebase",s).create(e,{appName:t.name})}function ar(t){return xd(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cI(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Un(t,"argument-error"),xd(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nd(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return i_.create(t,...e)}function ve(t,e,...n){if(!t)throw Nd(e,...n)}function Xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ua(e),new Error(e)}function rs(t,e){t||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function uI(){return Tp()==="http:"||Tp()==="https:"}function Tp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uI()||c1()||"connection"in navigator)?navigator.onLine:!0}function hI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=o1()||u1()}get(){return dI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mI=new Eo(3e4,6e4);function Vd(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ri(t,e,n,s,r={}){return a_(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const a=mo({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return l1()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&qs(t.emulatorConfig.host)&&(u.credentials="include"),o_.fetch()(await l_(t,t.config.apiHost,n,a),u)})}async function a_(t,e,n){t._canInitEmulator=!1;const s={...fI,...e};try{const r=new vI(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Zo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zo(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Zo(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Zo(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xd(t,h,u);Un(t,h)}}catch(r){if(r instanceof Wn)throw r;Un(t,"network-request-failed",{message:String(r)})}}async function gI(t,e,n,s,r={}){const i=await ri(t,e,n,s,r);return"mfaPendingCredential"in i&&Un(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function l_(t,e,n,s){const r=`${e}${n}?${s}`,i=t,o=i.config.emulator?Md(t.config,r):`${t.config.apiScheme}://${r}`;return pI.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class vI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vn(this.auth,"network-request-failed")),mI.get())})}}function Zo(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=vn(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(t,e){return ri(t,"POST","/v1/accounts:delete",e)}async function Na(t,e){return ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yI(t,e=!1){const n=et(t),s=await n.getIdToken(e),r=Od(s);ve(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Vi(Rc(r.auth_time)),issuedAtTime:Vi(Rc(r.iat)),expirationTime:Vi(Rc(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Rc(t){return Number(t)*1e3}function Od(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ua("JWT malformed, contained fewer than 3 sections"),null;try{const r=Km(n);return r?JSON.parse(r):(ua("Failed to decode base64 JWT payload"),null)}catch(r){return ua("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Ap(t){const e=Od(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Wn&&bI(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function bI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vi(this.lastLoginAt),this.creationTime=Vi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t){var m;const e=t.auth,n=await t.getIdToken(),s=await so(t,Na(e,{idToken:n}));ve(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=(m=r.providerUserInfo)!=null&&m.length?c_(r.providerUserInfo):[],o=TI(t.providerData,i),a=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new _u(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function EI(t){const e=et(t);await Ma(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TI(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function c_(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(t,e){const n=await a_(t,{},async()=>{const s=mo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await l_(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:s};return t.emulatorConfig&&qs(t.emulatorConfig.host)&&(c.credentials="include"),o_.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function II(t,e){return ri(t,"POST","/v2/accounts:revokeToken",Vd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ap(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Ap(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await AI(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new Or;return s&&(ve(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(ve(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(ve(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Or,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pn{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new wI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new _u(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await so(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yI(this,e)}reload(){return EI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ma(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rn(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await so(this,_I(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:_,providerData:R,stsTokenManager:N}=n;ve(m&&N,e,"internal-error");const M=Or.fromJSON(this.name,N);ve(typeof m=="string",e,"internal-error"),fs(s,e.name),fs(r,e.name),ve(typeof g=="boolean",e,"internal-error"),ve(typeof _=="boolean",e,"internal-error"),fs(i,e.name),fs(o,e.name),fs(a,e.name),fs(c,e.name),fs(u,e.name),fs(h,e.name);const D=new pn({uid:m,auth:e,email:r,emailVerified:g,displayName:s,isAnonymous:_,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:M,createdAt:u,lastLoginAt:h});return R&&Array.isArray(R)&&(D.providerData=R.map(x=>({...x}))),c&&(D._redirectEventId=c),D}static async _fromIdTokenResponse(e,n,s=!1){const r=new Or;r.updateFromServerResponse(n);const i=new pn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Ma(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];ve(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?c_(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),a=new Or;a.updateFromIdToken(s);const c=new pn({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new _u(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new Map;function Zn(t){rs(t instanceof Function,"Expected a class definition");let e=Ip.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ip.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}u_.type="NONE";const Cp=u_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t,e,n){return`firebase:${t}:${e}:${n}`}class Lr{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=da(this.userKey,r.apiKey,i),this.fullPersistenceKey=da("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Na(this.auth,{idToken:e}).catch(()=>{});return n?pn._fromGetAccountInfoResponse(this.auth,n,e):null}return pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Lr(Zn(Cp),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=r[0]||Zn(Cp);const o=da(s,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let m;if(typeof h=="string"){const g=await Na(e,{idToken:h}).catch(()=>{});if(!g)break;m=await pn._fromGetAccountInfoResponse(e,g,h)}else m=pn._fromJSON(e,h);u!==i&&(a=m),i=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Lr(i,e,s):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Lr(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g_(e))return"Blackberry";if(v_(e))return"Webos";if(h_(e))return"Safari";if((e.includes("chrome/")||f_(e))&&!e.includes("edge/"))return"Chrome";if(m_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function d_(t=Vt()){return/firefox\//i.test(t)}function h_(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f_(t=Vt()){return/crios\//i.test(t)}function p_(t=Vt()){return/iemobile/i.test(t)}function m_(t=Vt()){return/android/i.test(t)}function g_(t=Vt()){return/blackberry/i.test(t)}function v_(t=Vt()){return/webos/i.test(t)}function Ld(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CI(t=Vt()){var e;return Ld(t)&&!!((e=window.navigator)!=null&&e.standalone)}function SI(){return d1()&&document.documentMode===10}function __(t=Vt()){return Ld(t)||m_(t)||v_(t)||g_(t)||/windows phone/i.test(t)||p_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t,e=[]){let n;switch(t){case"Browser":n=Sp(Vt());break;case"Worker":n=`${Sp(Vt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(t,e={}){return ri(t,"GET","/v2/passwordPolicy",Vd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=6;class DI{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rp(this),this.idTokenSubscription=new Rp(this),this.beforeStateQueue=new RI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await Lr.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Na(this,{idToken:e}),s=await pn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ma(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rn(this.app))return Promise.reject(ar(this));const n=e?et(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kI(this),n=new DI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new po("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await II(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zn(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Lr.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&lI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _l(t){return et(t)}class Rp{constructor(e){this.auth=e,this.observer=null,this.addObserver=y1(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NI(t){Ud=t}function MI(t){return Ud.loadJS(t)}function VI(){return Ud.gapiScript}function OI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t,e){const n=Xa(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(ur(i,e??{}))return r;Un(r,"already-initialized")}return n.initialize({options:e})}function UI(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function FI(t,e,n){const s=_l(t);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=b_(e),{host:o,port:a}=WI(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ur(u,s.config.emulator)&&ur(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,qs(o)?(Ou(`${i}//${o}${c}`),Lu("Auth",!0)):qI()}function b_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WI(t){const e=b_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:kp(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:kp(o)}}}function kp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,n){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ur(t,e){return gI(t,"POST","/v1/accounts:signInWithIdp",Vd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="http://localhost";class gr extends w_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const o=new gr(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ur(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ur(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ur(e,n)}buildRequest(){const e={requestUri:BI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Fd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends To{constructor(){super("facebook.com")}static credential(e){return gr._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends To{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gr._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qn.credential(n,s)}catch{return null}}}Qn.GOOGLE_SIGN_IN_METHOD="google.com";Qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends To{constructor(){super("github.com")}static credential(e){return gr._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends To{constructor(){super("twitter.com")}static credential(e,n){return gr._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ts.credential(n,s)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await pn._fromIdTokenResponse(e,s,r),o=Pp(s);return new Jr({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Pp(s);return new Jr({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Pp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Wn{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Va.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Va(e,n,s,r)}}function E_(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Va._fromErrorAndOperation(t,i,e,s):i})}async function jI(t,e,n=!1){const s=await so(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jr._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(t,e,n=!1){const{auth:s}=t;if(rn(s.app))return Promise.reject(ar(s));const r="reauthenticate";try{const i=await so(t,E_(s,r,e,t),n);ve(i.idToken,s,"internal-error");const o=Od(i.idToken);ve(o,s,"internal-error");const{sub:a}=o;return ve(t.uid===a,s,"user-mismatch"),Jr._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Un(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(t,e,n=!1){if(rn(t.app))return Promise.reject(ar(t));const s="signIn",r=await E_(t,s,e),i=await Jr._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}function zI(t,e,n,s){return et(t).onIdTokenChanged(e,n,s)}function GI(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function KI(t,e,n,s){return et(t).onAuthStateChanged(e,n,s)}function QI(t){return et(t).signOut()}const Oa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oa,"1"),this.storage.removeItem(Oa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=1e3,YI=10;class A_ extends T_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=__(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);SI()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,YI):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},JI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}A_.type="LOCAL";const XI=A_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_ extends T_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}I_.type="SESSION";const C_=I_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new yl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await ZI(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Wd("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function tC(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function nC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function rC(){return S_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="firebaseLocalStorageDb",iC=1,La="firebaseLocalStorage",k_="fbase_key";class Ao{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bl(t,e){return t.transaction([La],e?"readwrite":"readonly").objectStore(La)}function oC(){const t=indexedDB.deleteDatabase(R_);return new Ao(t).toPromise()}function yu(){const t=indexedDB.open(R_,iC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(La,{keyPath:k_})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(La)?e(s):(s.close(),await oC(),e(await yu()))})})}async function Dp(t,e,n){const s=bl(t,!0).put({[k_]:e,value:n});return new Ao(s).toPromise()}async function aC(t,e){const n=bl(t,!1).get(e),s=await new Ao(n).toPromise();return s===void 0?null:s.value}function xp(t,e){const n=bl(t,!0).delete(e);return new Ao(n).toPromise()}const lC=800,cC=3;class P_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>cC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yl._getInstance(rC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await nC(),!this.activeServiceWorker)return;this.sender=new eC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yu();return await Dp(e,Oa,"1"),await xp(e,Oa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Dp(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>aC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xp(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=bl(r,!1).getAll();return new Ao(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P_.type="LOCAL";const uC=P_;new Eo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e){return e?Zn(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends w_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ur(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ur(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ur(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dC(t){return $I(t.auth,new qd(t),t.bypassAuthState)}function hC(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),HI(n,new qd(t),t.bypassAuthState)}async function fC(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),jI(n,new qd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dC;case"linkViaPopup":case"linkViaRedirect":return fC;case"reauthViaPopup":case"reauthViaRedirect":return hC;default:Un(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new Eo(2e3,1e4);async function mC(t,e,n){if(rn(t.app))return Promise.reject(vn(t,"operation-not-supported-in-this-environment"));const s=_l(t);cI(t,e,Fd);const r=D_(s,n);return new rr(s,"signInViaPopup",e,r).executeNotNull()}class rr extends x_{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,rr.currentPopupAction&&rr.currentPopupAction.cancel(),rr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=Wd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pC.get())};e()}}rr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="pendingRedirect",ha=new Map;class vC extends x_{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ha.get(this.auth._key());if(!e){try{const s=await _C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ha.set(this.auth._key(),e)}return this.bypassAuthState||ha.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _C(t,e){const n=wC(e),s=bC(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function yC(t,e){ha.set(t._key(),e)}function bC(t){return Zn(t._redirectPersistence)}function wC(t){return da(gC,t.config.apiKey,t.name)}async function EC(t,e,n=!1){if(rn(t.app))return Promise.reject(ar(t));const s=_l(t),r=D_(s,e),o=await new vC(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=10*60*1e3;class AC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!N_(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(vn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Np(e))}saveEventToCache(e){this.cachedEventUids.add(Np(e)),this.lastProcessedEventTime=Date.now()}}function Np(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function N_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(t,e={}){return ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RC=/^https?/;async function kC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CC(t);for(const n of e)try{if(PC(n))return}catch{}Un(t,"unauthorized-domain")}function PC(t){const e=vu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!RC.test(n))return!1;if(SC.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new Eo(3e4,6e4);function Mp(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xC(t){return new Promise((e,n)=>{var r,i,o;function s(){Mp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mp(),n(vn(t,"network-request-failed"))},timeout:DC.get()})}if((i=(r=Mn().gapi)==null?void 0:r.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Mn().gapi)!=null&&o.load)s();else{const a=OI("iframefcb");return Mn()[a]=()=>{gapi.load?s():n(vn(t,"network-request-failed"))},MI(`${VI()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw fa=null,e})}let fa=null;function NC(t){return fa=fa||xC(t),fa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new Eo(5e3,15e3),VC="__/auth/iframe",OC="emulator/auth/iframe",LC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FC(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Md(e,OC):`https://${t.config.authDomain}/${VC}`,s={apiKey:e.apiKey,appName:t.name,v:vr},r=UC.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${mo(s).slice(1)}`}async function WC(t){const e=await NC(t),n=Mn().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:FC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LC,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=vn(t,"network-request-failed"),a=Mn().setTimeout(()=>{i(o)},MC.get());function c(){Mn().clearTimeout(a),r(s)}s.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BC=500,jC=600,HC="_blank",$C="http://localhost";class Vp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zC(t,e,n,s=BC,r=jC){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const c={...qC,width:s.toString(),height:r.toString(),top:i,left:o},u=Vt().toLowerCase();n&&(a=f_(u)?HC:n),d_(u)&&(e=e||$C,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[_,R])=>`${g}${_}=${R},`,"");if(CI(u)&&a!=="_self")return GC(e||"",a),new Vp(null);const m=window.open(e||"",a,h);ve(m,t,"popup-blocked");try{m.focus()}catch{}return new Vp(m)}function GC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="__/auth/handler",QC="emulator/auth/handler",JC=encodeURIComponent("fac");async function Op(t,e,n,s,r,i){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:vr,eventId:r};if(e instanceof Fd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof To){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${JC}=${encodeURIComponent(c)}`:"";return`${YC(t)}?${mo(a).slice(1)}${u}`}function YC({config:t}){return t.emulator?Md(t,QC):`https://${t.authDomain}/${KC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="webStorageSupport";class XC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C_,this._completeRedirectFn=EC,this._overrideRedirectResult=yC}async _openPopup(e,n,s,r){var o;rs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Op(e,n,s,vu(),r);return zC(e,i,Wd())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await Op(e,n,s,vu(),r);return tC(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(rs(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await WC(e),s=new AC(e);return n.register("authEvent",r=>(ve(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kc,{type:kc},r=>{var o;const i=(o=r==null?void 0:r[0])==null?void 0:o[kc];i!==void 0&&n(!!i),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return __()||h_()||Ld()}}const ZC=XC;var Lp="@firebase/auth",Up="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nS(t){dr(new xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y_(t)},u=new xI(s,r,i,c);return UI(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),dr(new xs("auth-internal",e=>{const n=_l(e.getProvider("auth").getImmediate());return(s=>new eS(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(Lp,Up,tS(t)),kn(Lp,Up,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=5*60,rS=Xm("authIdTokenMaxAge")||sS;let Fp=null;const iS=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rS)return;const r=n==null?void 0:n.token;Fp!==r&&(Fp=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function oS(t=Wu()){const e=Xa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LI(t,{popupRedirectResolver:ZC,persistence:[uC,XI,C_]}),s=Xm("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=iS(i.toString());GI(n,o,()=>o(n.currentUser)),zI(n,a=>o(a))}}const r=Qm("auth");return r&&FI(n,`http://${r}`),n}function aS(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}NI({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=vn("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",aS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nS("Browser");const lS={apiKey:"AIzaSyARLC8IjRmP6Ql8n0ANWIoEJnh6CGr464Y",authDomain:"wanderwonderworld-dubai.firebaseapp.com",projectId:"wanderwonderworld-dubai",storageBucket:"wanderwonderworld-dubai.appspot.com",messagingSenderId:"876940740226",appId:"1:876940740226:web:6f41fda5138417445e169b",measurementId:"G-S72DXQQ3KP"},Bd=ng(lS),ii=k0(Bd),cS=sI(Bd),jd=oS(Bd),uS=new Qn,dS=()=>mC(jd,uS),hS=()=>QI(jd),fS=t=>KI(jd,t),M_=fl(ii,"site","content");async function Wp(){const t=await $0(M_);return t.exists()?t.data():{}}async function Pc(t){await z0(M_,{...t,updatedAt:Cd()},{merge:!0})}async function pS(t,e){const n=nI(cS,e);return await eI(n,t),tI(n)}const V_=dd(ii,"news");function mS(t){return Ad(V_,t)}async function gS(t){return Fv(V_,{...t,startAt:t.startAt?new Date(t.startAt):null,endAt:t.endAt?new Date(t.endAt):null,createdAt:Cd()})}async function vS(t,e){return Uv(fl(ii,"news",t),e)}const O_=dd(ii,"enquiries");function _S(t,{size:e=200}={}){const n=W0(O_,q0("createdAt","desc"),B0(e));return Ad(n,t)}async function L_(t){return Fv(O_,{...t,status:"new",createdAt:Cd()})}async function yS(t,e){return Uv(fl(ii,"enquiries",t),e)}/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Hd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Fe={},Fr=[],Vn=()=>{},U_=()=>!1,wl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$d=t=>t.startsWith("onUpdate:"),gt=Object.assign,zd=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},bS=Object.prototype.hasOwnProperty,Me=(t,e)=>bS.call(t,e),ue=Array.isArray,Wr=t=>Io(t)==="[object Map]",El=t=>Io(t)==="[object Set]",qp=t=>Io(t)==="[object Date]",ye=t=>typeof t=="function",at=t=>typeof t=="string",Fn=t=>typeof t=="symbol",qe=t=>t!==null&&typeof t=="object",F_=t=>(qe(t)||ye(t))&&ye(t.then)&&ye(t.catch),W_=Object.prototype.toString,Io=t=>W_.call(t),wS=t=>Io(t).slice(8,-1),q_=t=>Io(t)==="[object Object]",Gd=t=>at(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Oi=Hd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ES=/-\w/g,ln=Tl(t=>t.replace(ES,e=>e.slice(1).toUpperCase())),TS=/\B([A-Z])/g,br=Tl(t=>t.replace(TS,"-$1").toLowerCase()),Al=Tl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Dc=Tl(t=>t?`on${Al(t)}`:""),Ps=(t,e)=>!Object.is(t,e),pa=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},B_=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},bu=t=>{const e=parseFloat(t);return isNaN(e)?t:e},AS=t=>{const e=at(t)?Number(t):NaN;return isNaN(e)?t:e};let Bp;const Il=()=>Bp||(Bp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Kd(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=at(s)?RS(s):Kd(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(at(t)||qe(t))return t}const IS=/;(?![^(]*\))/g,CS=/:([^]+)/,SS=/\/\*[^]*?\*\//g;function RS(t){const e={};return t.replace(SS,"").split(IS).forEach(n=>{if(n){const s=n.split(CS);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function mt(t){let e="";if(at(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const s=mt(t[n]);s&&(e+=s+" ")}else if(qe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const kS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",PS=Hd(kS);function j_(t){return!!t||t===""}function DS(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Cl(t[s],e[s]);return n}function Cl(t,e){if(t===e)return!0;let n=qp(t),s=qp(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Fn(t),s=Fn(e),n||s)return t===e;if(n=ue(t),s=ue(e),n||s)return n&&s?DS(t,e):!1;if(n=qe(t),s=qe(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Cl(t[o],e[o]))return!1}}return String(t)===String(e)}function H_(t,e){return t.findIndex(n=>Cl(n,e))}const $_=t=>!!(t&&t.__v_isRef===!0),Y=t=>at(t)?t:t==null?"":ue(t)||qe(t)&&(t.toString===W_||!ye(t.toString))?$_(t)?Y(t.value):JSON.stringify(t,z_,2):String(t),z_=(t,e)=>$_(e)?z_(t,e.value):Wr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[xc(s,i)+" =>"]=r,n),{})}:El(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>xc(n))}:Fn(e)?xc(e):qe(e)&&!ue(e)&&!q_(e)?String(e):e,xc=(t,e="")=>{var n;return Fn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pt;class G_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pt,!e&&Pt&&(this.index=(Pt.scopes||(Pt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Pt;try{return Pt=this,e()}finally{Pt=n}}}on(){++this._on===1&&(this.prevScope=Pt,Pt=this)}off(){this._on>0&&--this._on===0&&(Pt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function K_(t){return new G_(t)}function Q_(){return Pt}function xS(t,e=!1){Pt&&Pt.cleanups.push(t)}let Be;const Nc=new WeakSet;class J_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pt&&Pt.active&&Pt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Nc.has(this)&&(Nc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||X_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jp(this),Z_(this);const e=Be,n=_n;Be=this,_n=!0;try{return this.fn()}finally{ey(this),Be=e,_n=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Yd(e);this.deps=this.depsTail=void 0,jp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Nc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wu(this)&&this.run()}get dirty(){return wu(this)}}let Y_=0,Li,Ui;function X_(t,e=!1){if(t.flags|=8,e){t.next=Ui,Ui=t;return}t.next=Li,Li=t}function Qd(){Y_++}function Jd(){if(--Y_>0)return;if(Ui){let e=Ui;for(Ui=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Li;){let e=Li;for(Li=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Z_(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ey(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Yd(s),NS(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function wu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ty(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ty(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ro)||(t.globalVersion=ro,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!wu(t))))return;t.flags|=2;const e=t.dep,n=Be,s=_n;Be=t,_n=!0;try{Z_(t);const r=t.fn(t._value);(e.version===0||Ps(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Be=n,_n=s,ey(t),t.flags&=-3}}function Yd(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Yd(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function NS(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let _n=!0;const ny=[];function is(){ny.push(_n),_n=!1}function os(){const t=ny.pop();_n=t===void 0?!0:t}function jp(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Be;Be=void 0;try{e()}finally{Be=n}}}let ro=0;class MS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Be||!_n||Be===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Be)n=this.activeLink=new MS(Be,this),Be.deps?(n.prevDep=Be.depsTail,Be.depsTail.nextDep=n,Be.depsTail=n):Be.deps=Be.depsTail=n,sy(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Be.depsTail,n.nextDep=void 0,Be.depsTail.nextDep=n,Be.depsTail=n,Be.deps===n&&(Be.deps=s)}return n}trigger(e){this.version++,ro++,this.notify(e)}notify(e){Qd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Jd()}}}function sy(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)sy(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ua=new WeakMap,lr=Symbol(""),Eu=Symbol(""),io=Symbol("");function Nt(t,e,n){if(_n&&Be){let s=Ua.get(t);s||Ua.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Xd),r.map=s,r.key=n),r.track()}}function Jn(t,e,n,s,r,i){const o=Ua.get(t);if(!o){ro++;return}const a=c=>{c&&c.trigger()};if(Qd(),e==="clear")o.forEach(a);else{const c=ue(t),u=c&&Gd(n);if(c&&n==="length"){const h=Number(s);o.forEach((m,g)=>{(g==="length"||g===io||!Fn(g)&&g>=h)&&a(m)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(io)),e){case"add":c?u&&a(o.get("length")):(a(o.get(lr)),Wr(t)&&a(o.get(Eu)));break;case"delete":c||(a(o.get(lr)),Wr(t)&&a(o.get(Eu)));break;case"set":Wr(t)&&a(o.get(lr));break}}Jd()}function VS(t,e){const n=Ua.get(t);return n&&n.get(e)}function Cr(t){const e=ke(t);return e===t?e:(Nt(e,"iterate",io),an(t)?e:e.map(Et))}function Sl(t){return Nt(t=ke(t),"iterate",io),t}const OS={__proto__:null,[Symbol.iterator](){return Mc(this,Symbol.iterator,Et)},concat(...t){return Cr(this).concat(...t.map(e=>ue(e)?Cr(e):e))},entries(){return Mc(this,"entries",t=>(t[1]=Et(t[1]),t))},every(t,e){return Hn(this,"every",t,e,void 0,arguments)},filter(t,e){return Hn(this,"filter",t,e,n=>n.map(Et),arguments)},find(t,e){return Hn(this,"find",t,e,Et,arguments)},findIndex(t,e){return Hn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Hn(this,"findLast",t,e,Et,arguments)},findLastIndex(t,e){return Hn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Hn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Vc(this,"includes",t)},indexOf(...t){return Vc(this,"indexOf",t)},join(t){return Cr(this).join(t)},lastIndexOf(...t){return Vc(this,"lastIndexOf",t)},map(t,e){return Hn(this,"map",t,e,void 0,arguments)},pop(){return bi(this,"pop")},push(...t){return bi(this,"push",t)},reduce(t,...e){return Hp(this,"reduce",t,e)},reduceRight(t,...e){return Hp(this,"reduceRight",t,e)},shift(){return bi(this,"shift")},some(t,e){return Hn(this,"some",t,e,void 0,arguments)},splice(...t){return bi(this,"splice",t)},toReversed(){return Cr(this).toReversed()},toSorted(t){return Cr(this).toSorted(t)},toSpliced(...t){return Cr(this).toSpliced(...t)},unshift(...t){return bi(this,"unshift",t)},values(){return Mc(this,"values",Et)}};function Mc(t,e,n){const s=Sl(t),r=s[e]();return s!==t&&!an(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const LS=Array.prototype;function Hn(t,e,n,s,r,i){const o=Sl(t),a=o!==t&&!an(t),c=o[e];if(c!==LS[e]){const m=c.apply(t,i);return a?Et(m):m}let u=n;o!==t&&(a?u=function(m,g){return n.call(this,Et(m),g,t)}:n.length>2&&(u=function(m,g){return n.call(this,m,g,t)}));const h=c.call(o,u,s);return a&&r?r(h):h}function Hp(t,e,n,s){const r=Sl(t);let i=n;return r!==t&&(an(t)?n.length>3&&(i=function(o,a,c){return n.call(this,o,a,c,t)}):i=function(o,a,c){return n.call(this,o,Et(a),c,t)}),r[e](i,...s)}function Vc(t,e,n){const s=ke(t);Nt(s,"iterate",io);const r=s[e](...n);return(r===-1||r===!1)&&th(n[0])?(n[0]=ke(n[0]),s[e](...n)):r}function bi(t,e,n=[]){is(),Qd();const s=ke(t)[e].apply(t,n);return Jd(),os(),s}const US=Hd("__proto__,__v_isRef,__isVue"),ry=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Fn));function FS(t){Fn(t)||(t=String(t));const e=ke(this);return Nt(e,"has",t),e.hasOwnProperty(t)}class iy{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?QS:cy:i?ly:ay).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ue(e);if(!r){let c;if(o&&(c=OS[n]))return c;if(n==="hasOwnProperty")return FS}const a=Reflect.get(e,n,ot(e)?e:s);return(Fn(n)?ry.has(n):US(n))||(r||Nt(e,"get",n),i)?a:ot(a)?o&&Gd(n)?a:a.value:qe(a)?r?dy(a):Co(a):a}}class oy extends iy{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const c=Fs(i);if(!an(s)&&!Fs(s)&&(i=ke(i),s=ke(s)),!ue(e)&&ot(i)&&!ot(s))return c||(i.value=s),!0}const o=ue(e)&&Gd(n)?Number(n)<e.length:Me(e,n),a=Reflect.set(e,n,s,ot(e)?e:r);return e===ke(r)&&(o?Ps(s,i)&&Jn(e,"set",n,s):Jn(e,"add",n,s)),a}deleteProperty(e,n){const s=Me(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&Jn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Fn(n)||!ry.has(n))&&Nt(e,"has",n),s}ownKeys(e){return Nt(e,"iterate",ue(e)?"length":lr),Reflect.ownKeys(e)}}class WS extends iy{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const qS=new oy,BS=new WS,jS=new oy(!0);const Tu=t=>t,ea=t=>Reflect.getPrototypeOf(t);function HS(t,e,n){return function(...s){const r=this.__v_raw,i=ke(r),o=Wr(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=r[t](...s),h=n?Tu:e?Fa:Et;return!e&&Nt(i,"iterate",c?Eu:lr),{next(){const{value:m,done:g}=u.next();return g?{value:m,done:g}:{value:a?[h(m[0]),h(m[1])]:h(m),done:g}},[Symbol.iterator](){return this}}}}function ta(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function $S(t,e){const n={get(r){const i=this.__v_raw,o=ke(i),a=ke(r);t||(Ps(r,a)&&Nt(o,"get",r),Nt(o,"get",a));const{has:c}=ea(o),u=e?Tu:t?Fa:Et;if(c.call(o,r))return u(i.get(r));if(c.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Nt(ke(r),"iterate",lr),r.size},has(r){const i=this.__v_raw,o=ke(i),a=ke(r);return t||(Ps(r,a)&&Nt(o,"has",r),Nt(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,c=ke(a),u=e?Tu:t?Fa:Et;return!t&&Nt(c,"iterate",lr),a.forEach((h,m)=>r.call(i,u(h),u(m),o))}};return gt(n,t?{add:ta("add"),set:ta("set"),delete:ta("delete"),clear:ta("clear")}:{add(r){!e&&!an(r)&&!Fs(r)&&(r=ke(r));const i=ke(this);return ea(i).has.call(i,r)||(i.add(r),Jn(i,"add",r,r)),this},set(r,i){!e&&!an(i)&&!Fs(i)&&(i=ke(i));const o=ke(this),{has:a,get:c}=ea(o);let u=a.call(o,r);u||(r=ke(r),u=a.call(o,r));const h=c.call(o,r);return o.set(r,i),u?Ps(i,h)&&Jn(o,"set",r,i):Jn(o,"add",r,i),this},delete(r){const i=ke(this),{has:o,get:a}=ea(i);let c=o.call(i,r);c||(r=ke(r),c=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return c&&Jn(i,"delete",r,void 0),u},clear(){const r=ke(this),i=r.size!==0,o=r.clear();return i&&Jn(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=HS(r,t,e)}),n}function Zd(t,e){const n=$S(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Me(n,r)&&r in s?n:s,r,i)}const zS={get:Zd(!1,!1)},GS={get:Zd(!1,!0)},KS={get:Zd(!0,!1)};const ay=new WeakMap,ly=new WeakMap,cy=new WeakMap,QS=new WeakMap;function JS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function YS(t){return t.__v_skip||!Object.isExtensible(t)?0:JS(wS(t))}function Co(t){return Fs(t)?t:eh(t,!1,qS,zS,ay)}function uy(t){return eh(t,!1,jS,GS,ly)}function dy(t){return eh(t,!0,BS,KS,cy)}function eh(t,e,n,s,r){if(!qe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=YS(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?s:n);return r.set(t,a),a}function Ds(t){return Fs(t)?Ds(t.__v_raw):!!(t&&t.__v_isReactive)}function Fs(t){return!!(t&&t.__v_isReadonly)}function an(t){return!!(t&&t.__v_isShallow)}function th(t){return t?!!t.__v_raw:!1}function ke(t){const e=t&&t.__v_raw;return e?ke(e):t}function nh(t){return!Me(t,"__v_skip")&&Object.isExtensible(t)&&B_(t,"__v_skip",!0),t}const Et=t=>qe(t)?Co(t):t,Fa=t=>qe(t)?dy(t):t;function ot(t){return t?t.__v_isRef===!0:!1}function So(t){return hy(t,!1)}function XS(t){return hy(t,!0)}function hy(t,e){return ot(t)?t:new ZS(t,e)}class ZS{constructor(e,n){this.dep=new Xd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ke(e),this._value=n?e:Et(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||an(e)||Fs(e);e=s?e:ke(e),Ps(e,n)&&(this._rawValue=e,this._value=s?e:Et(e),this.dep.trigger())}}function qr(t){return ot(t)?t.value:t}const eR={get:(t,e,n)=>e==="__v_raw"?t:qr(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return ot(r)&&!ot(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function fy(t){return Ds(t)?t:new Proxy(t,eR)}function tR(t){const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=sR(t,n);return e}class nR{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return VS(ke(this._object),this._key)}}function sR(t,e,n){const s=t[e];return ot(s)?s:new nR(t,e,n)}class rR{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Xd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ro-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return X_(this,!0),!0}get value(){const e=this.dep.track();return ty(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function iR(t,e,n=!1){let s,r;return ye(t)?s=t:(s=t.get,r=t.set),new rR(s,r,n)}const na={},Wa=new WeakMap;let er;function oR(t,e=!1,n=er){if(n){let s=Wa.get(n);s||Wa.set(n,s=[]),s.push(t)}}function aR(t,e,n=Fe){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:c}=n,u=z=>r?z:an(z)||r===!1||r===0?Yn(z,1):Yn(z);let h,m,g,_,R=!1,N=!1;if(ot(t)?(m=()=>t.value,R=an(t)):Ds(t)?(m=()=>u(t),R=!0):ue(t)?(N=!0,R=t.some(z=>Ds(z)||an(z)),m=()=>t.map(z=>{if(ot(z))return z.value;if(Ds(z))return u(z);if(ye(z))return c?c(z,2):z()})):ye(t)?e?m=c?()=>c(t,2):t:m=()=>{if(g){is();try{g()}finally{os()}}const z=er;er=h;try{return c?c(t,3,[_]):t(_)}finally{er=z}}:m=Vn,e&&r){const z=m,oe=r===!0?1/0:r;m=()=>Yn(z(),oe)}const M=Q_(),D=()=>{h.stop(),M&&M.active&&zd(M.effects,h)};if(i&&e){const z=e;e=(...oe)=>{z(...oe),D()}}let x=N?new Array(t.length).fill(na):na;const F=z=>{if(!(!(h.flags&1)||!h.dirty&&!z))if(e){const oe=h.run();if(r||R||(N?oe.some((fe,C)=>Ps(fe,x[C])):Ps(oe,x))){g&&g();const fe=er;er=h;try{const C=[oe,x===na?void 0:N&&x[0]===na?[]:x,_];x=oe,c?c(e,3,C):e(...C)}finally{er=fe}}}else h.run()};return a&&a(F),h=new J_(m),h.scheduler=o?()=>o(F,!1):F,_=z=>oR(z,!1,h),g=h.onStop=()=>{const z=Wa.get(h);if(z){if(c)c(z,4);else for(const oe of z)oe();Wa.delete(h)}},e?s?F(!0):x=h.run():o?o(F.bind(null,!0),!0):h.run(),D.pause=h.pause.bind(h),D.resume=h.resume.bind(h),D.stop=D,D}function Yn(t,e=1/0,n){if(e<=0||!qe(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,ot(t))Yn(t.value,e,n);else if(ue(t))for(let s=0;s<t.length;s++)Yn(t[s],e,n);else if(El(t)||Wr(t))t.forEach(s=>{Yn(s,e,n)});else if(q_(t)){for(const s in t)Yn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Yn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ro(t,e,n,s){try{return s?t(...s):t()}catch(r){Rl(r,e,n)}}function bn(t,e,n,s){if(ye(t)){const r=Ro(t,e,n,s);return r&&F_(r)&&r.catch(i=>{Rl(i,e,n)}),r}if(ue(t)){const r=[];for(let i=0;i<t.length;i++)r.push(bn(t[i],e,n,s));return r}}function Rl(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Fe;if(e){let a=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let m=0;m<h.length;m++)if(h[m](t,c,u)===!1)return}a=a.parent}if(i){is(),Ro(i,null,10,[t,c,u]),os();return}}lR(t,n,r,s,o)}function lR(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Wt=[];let In=-1;const Br=[];let vs=null,xr=0;const py=Promise.resolve();let qa=null;function sh(t){const e=qa||py;return t?e.then(this?t.bind(this):t):e}function cR(t){let e=In+1,n=Wt.length;for(;e<n;){const s=e+n>>>1,r=Wt[s],i=oo(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function rh(t){if(!(t.flags&1)){const e=oo(t),n=Wt[Wt.length-1];!n||!(t.flags&2)&&e>=oo(n)?Wt.push(t):Wt.splice(cR(e),0,t),t.flags|=1,my()}}function my(){qa||(qa=py.then(vy))}function uR(t){ue(t)?Br.push(...t):vs&&t.id===-1?vs.splice(xr+1,0,t):t.flags&1||(Br.push(t),t.flags|=1),my()}function $p(t,e,n=In+1){for(;n<Wt.length;n++){const s=Wt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Wt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function gy(t){if(Br.length){const e=[...new Set(Br)].sort((n,s)=>oo(n)-oo(s));if(Br.length=0,vs){vs.push(...e);return}for(vs=e,xr=0;xr<vs.length;xr++){const n=vs[xr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}vs=null,xr=0}}const oo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function vy(t){try{for(In=0;In<Wt.length;In++){const e=Wt[In];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ro(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;In<Wt.length;In++){const e=Wt[In];e&&(e.flags&=-2)}In=-1,Wt.length=0,gy(),qa=null,(Wt.length||Br.length)&&vy()}}let Xt=null,_y=null;function Ba(t){const e=Xt;return Xt=t,_y=t&&t.type.__scopeId||null,e}function Qe(t,e=Xt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&$a(-1);const i=Ba(e);let o;try{o=t(...r)}finally{Ba(i),s._d&&$a(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ue(t,e){if(Xt===null)return t;const n=Nl(Xt),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,c=Fe]=e[r];i&&(ye(i)&&(i={mounted:i,updated:i}),i.deep&&Yn(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Qs(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(is(),bn(c,n,8,[t.el,a,t,e]),os())}}const dR=Symbol("_vte"),yy=t=>t.__isTeleport,Kn=Symbol("_leaveCb"),sa=Symbol("_enterCb");function hR(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ry(()=>{t.isMounted=!0}),ky(()=>{t.isUnmounting=!0}),t}const sn=[Function,Array],by={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:sn,onEnter:sn,onAfterEnter:sn,onEnterCancelled:sn,onBeforeLeave:sn,onLeave:sn,onAfterLeave:sn,onLeaveCancelled:sn,onBeforeAppear:sn,onAppear:sn,onAfterAppear:sn,onAppearCancelled:sn},wy=t=>{const e=t.subTree;return e.component?wy(e.component):e},fR={name:"BaseTransition",props:by,setup(t,{slots:e}){const n=lh(),s=hR();return()=>{const r=e.default&&Ay(e.default(),!0);if(!r||!r.length)return;const i=Ey(r),o=ke(t),{mode:a}=o;if(s.isLeaving)return Oc(i);const c=zp(i);if(!c)return Oc(i);let u=Au(c,o,s,n,m=>u=m);c.type!==qt&&ao(c,u);let h=n.subTree&&zp(n.subTree);if(h&&h.type!==qt&&!tr(h,c)&&wy(n).type!==qt){let m=Au(h,o,s,n);if(ao(h,m),a==="out-in"&&c.type!==qt)return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,h=void 0},Oc(i);a==="in-out"&&c.type!==qt?m.delayLeave=(g,_,R)=>{const N=Ty(s,h);N[String(h.key)]=h,g[Kn]=()=>{_(),g[Kn]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{R(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function Ey(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==qt){e=n;break}}return e}const pR=fR;function Ty(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Au(t,e,n,s,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:m,onBeforeLeave:g,onLeave:_,onAfterLeave:R,onLeaveCancelled:N,onBeforeAppear:M,onAppear:D,onAfterAppear:x,onAppearCancelled:F}=e,z=String(t.key),oe=Ty(n,t),fe=(y,T)=>{y&&bn(y,s,9,T)},C=(y,T)=>{const S=T[1];fe(y,T),ue(y)?y.every(A=>A.length<=1)&&S():y.length<=1&&S()},b={mode:o,persisted:a,beforeEnter(y){let T=c;if(!n.isMounted)if(i)T=M||c;else return;y[Kn]&&y[Kn](!0);const S=oe[z];S&&tr(t,S)&&S.el[Kn]&&S.el[Kn](),fe(T,[y])},enter(y){let T=u,S=h,A=m;if(!n.isMounted)if(i)T=D||u,S=x||h,A=F||m;else return;let w=!1;const xe=y[sa]=st=>{w||(w=!0,st?fe(A,[y]):fe(S,[y]),b.delayedLeave&&b.delayedLeave(),y[sa]=void 0)};T?C(T,[y,xe]):xe()},leave(y,T){const S=String(t.key);if(y[sa]&&y[sa](!0),n.isUnmounting)return T();fe(g,[y]);let A=!1;const w=y[Kn]=xe=>{A||(A=!0,T(),xe?fe(N,[y]):fe(R,[y]),y[Kn]=void 0,oe[S]===t&&delete oe[S])};oe[S]=t,_?C(_,[y,w]):w()},clone(y){const T=Au(y,e,n,s,r);return r&&r(T),T}};return b}function Oc(t){if(kl(t))return t=Ws(t),t.children=null,t}function zp(t){if(!kl(t))return yy(t.type)&&t.children?Ey(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ye(n.default))return n.default()}}function ao(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ao(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ay(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===We?(o.patchFlag&128&&r++,s=s.concat(Ay(o.children,e,a))):(e||o.type!==qt)&&s.push(a!=null?Ws(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function Iy(t,e){return ye(t)?gt({name:t.name},e,{setup:t}):t}function Cy(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ja=new WeakMap;function Fi(t,e,n,s,r=!1){if(ue(t)){t.forEach((R,N)=>Fi(R,e&&(ue(e)?e[N]:e),n,s,r));return}if(Wi(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Fi(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Nl(s.component):s.el,o=r?null:i,{i:a,r:c}=t,u=e&&e.r,h=a.refs===Fe?a.refs={}:a.refs,m=a.setupState,g=ke(m),_=m===Fe?U_:R=>Me(g,R);if(u!=null&&u!==c){if(Gp(e),at(u))h[u]=null,_(u)&&(m[u]=null);else if(ot(u)){u.value=null;const R=e;R.k&&(h[R.k]=null)}}if(ye(c))Ro(c,a,12,[o,h]);else{const R=at(c),N=ot(c);if(R||N){const M=()=>{if(t.f){const D=R?_(c)?m[c]:h[c]:c.value;if(r)ue(D)&&zd(D,i);else if(ue(D))D.includes(i)||D.push(i);else if(R)h[c]=[i],_(c)&&(m[c]=h[c]);else{const x=[i];c.value=x,t.k&&(h[t.k]=x)}}else R?(h[c]=o,_(c)&&(m[c]=o)):N&&(c.value=o,t.k&&(h[t.k]=o))};if(o){const D=()=>{M(),ja.delete(t)};D.id=-1,ja.set(t,D),Qt(D,n)}else Gp(t),M()}}}function Gp(t){const e=ja.get(t);e&&(e.flags|=8,ja.delete(t))}Il().requestIdleCallback;Il().cancelIdleCallback;const Wi=t=>!!t.type.__asyncLoader,kl=t=>t.type.__isKeepAlive;function mR(t,e){Sy(t,"a",e)}function gR(t,e){Sy(t,"da",e)}function Sy(t,e,n=Mt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Pl(e,s,n),n){let r=n.parent;for(;r&&r.parent;)kl(r.parent.vnode)&&vR(s,e,n,r),r=r.parent}}function vR(t,e,n,s){const r=Pl(e,t,s,!0);Py(()=>{zd(s[e],r)},n)}function Pl(t,e,n=Mt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{is();const a=ko(n),c=bn(e,n,t,o);return a(),os(),c});return s?r.unshift(i):r.push(i),i}}const as=t=>(e,n=Mt)=>{(!co||t==="sp")&&Pl(t,(...s)=>e(...s),n)},_R=as("bm"),Ry=as("m"),yR=as("bu"),bR=as("u"),ky=as("bum"),Py=as("um"),wR=as("sp"),ER=as("rtg"),TR=as("rtc");function AR(t,e=Mt){Pl("ec",t,e)}const IR="components";function dt(t,e){return SR(IR,t,!0,e)||t}const CR=Symbol.for("v-ndc");function SR(t,e,n=!0,s=!1){const r=Xt||Mt;if(r){const i=r.type;{const a=mk(i,!1);if(a&&(a===e||a===ln(e)||a===Al(ln(e))))return i}const o=Kp(r[t]||i[t],e)||Kp(r.appContext[t],e);return!o&&s?i:o}}function Kp(t,e){return t&&(t[e]||t[ln(e)]||t[Al(ln(e))])}function It(t,e,n,s){let r;const i=n,o=ue(t);if(o||at(t)){const a=o&&Ds(t);let c=!1,u=!1;a&&(c=!an(t),u=Fs(t),t=Sl(t)),r=new Array(t.length);for(let h=0,m=t.length;h<m;h++)r[h]=e(c?u?Fa(Et(t[h])):Et(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(qe(t))if(t[Symbol.iterator])r=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const h=a[c];r[c]=e(t[h],h,c,i)}}else r=[];return r}const Iu=t=>t?Jy(t)?Nl(t):Iu(t.parent):null,qi=gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Iu(t.parent),$root:t=>Iu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>xy(t),$forceUpdate:t=>t.f||(t.f=()=>{rh(t.update)}),$nextTick:t=>t.n||(t.n=sh.bind(t.proxy)),$watch:t=>QR.bind(t)}),Lc=(t,e)=>t!==Fe&&!t.__isScriptSetup&&Me(t,e),RR={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Lc(s,e))return o[e]=1,s[e];if(r!==Fe&&Me(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&Me(u,e))return o[e]=3,i[e];if(n!==Fe&&Me(n,e))return o[e]=4,n[e];Cu&&(o[e]=0)}}const h=qi[e];let m,g;if(h)return e==="$attrs"&&Nt(t.attrs,"get",""),h(t);if((m=a.__cssModules)&&(m=m[e]))return m;if(n!==Fe&&Me(n,e))return o[e]=4,n[e];if(g=c.config.globalProperties,Me(g,e))return g[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Lc(r,e)?(r[e]=n,!0):s!==Fe&&Me(s,e)?(s[e]=n,!0):Me(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i,type:o}},a){let c,u;return!!(n[a]||t!==Fe&&a[0]!=="$"&&Me(t,a)||Lc(e,a)||(c=i[0])&&Me(c,a)||Me(s,a)||Me(qi,a)||Me(r.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Me(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Qp(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Cu=!0;function kR(t){const e=xy(t),n=t.proxy,s=t.ctx;Cu=!1,e.beforeCreate&&Jp(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:u,created:h,beforeMount:m,mounted:g,beforeUpdate:_,updated:R,activated:N,deactivated:M,beforeDestroy:D,beforeUnmount:x,destroyed:F,unmounted:z,render:oe,renderTracked:fe,renderTriggered:C,errorCaptured:b,serverPrefetch:y,expose:T,inheritAttrs:S,components:A,directives:w,filters:xe}=e;if(u&&PR(u,s,null),o)for(const ge in o){const Te=o[ge];ye(Te)&&(s[ge]=Te.bind(n))}if(r){const ge=r.call(n,n);qe(ge)&&(t.data=Co(ge))}if(Cu=!0,i)for(const ge in i){const Te=i[ge],Gt=ye(Te)?Te.bind(n,n):ye(Te.get)?Te.get.bind(n,n):Vn,hn=!ye(Te)&&ye(Te.set)?Te.set.bind(n):Vn,en=Xe({get:Gt,set:hn});Object.defineProperty(s,ge,{enumerable:!0,configurable:!0,get:()=>en.value,set:Ge=>en.value=Ge})}if(a)for(const ge in a)Dy(a[ge],s,n,ge);if(c){const ge=ye(c)?c.call(n):c;Reflect.ownKeys(ge).forEach(Te=>{ma(Te,ge[Te])})}h&&Jp(h,t,"c");function Oe(ge,Te){ue(Te)?Te.forEach(Gt=>ge(Gt.bind(n))):Te&&ge(Te.bind(n))}if(Oe(_R,m),Oe(Ry,g),Oe(yR,_),Oe(bR,R),Oe(mR,N),Oe(gR,M),Oe(AR,b),Oe(TR,fe),Oe(ER,C),Oe(ky,x),Oe(Py,z),Oe(wR,y),ue(T))if(T.length){const ge=t.exposed||(t.exposed={});T.forEach(Te=>{Object.defineProperty(ge,Te,{get:()=>n[Te],set:Gt=>n[Te]=Gt,enumerable:!0})})}else t.exposed||(t.exposed={});oe&&t.render===Vn&&(t.render=oe),S!=null&&(t.inheritAttrs=S),A&&(t.components=A),w&&(t.directives=w),y&&Cy(t)}function PR(t,e,n=Vn){ue(t)&&(t=Su(t));for(const s in t){const r=t[s];let i;qe(r)?"default"in r?i=On(r.from||s,r.default,!0):i=On(r.from||s):i=On(r),ot(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Jp(t,e,n){bn(ue(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Dy(t,e,n,s){let r=s.includes(".")?$y(n,s):()=>n[s];if(at(t)){const i=e[t];ye(i)&&Bi(r,i)}else if(ye(t))Bi(r,t.bind(n));else if(qe(t))if(ue(t))t.forEach(i=>Dy(i,e,n,s));else{const i=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(i)&&Bi(r,i,t)}}function xy(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(u=>Ha(c,u,o,!0)),Ha(c,e,o)),qe(e)&&i.set(e,c),c}function Ha(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Ha(t,i,n,!0),r&&r.forEach(o=>Ha(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=DR[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const DR={data:Yp,props:Xp,emits:Xp,methods:Ri,computed:Ri,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:Ri,directives:Ri,watch:NR,provide:Yp,inject:xR};function Yp(t,e){return e?t?function(){return gt(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function xR(t,e){return Ri(Su(t),Su(e))}function Su(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ft(t,e){return t?[...new Set([].concat(t,e))]:e}function Ri(t,e){return t?gt(Object.create(null),t,e):e}function Xp(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:gt(Object.create(null),Qp(t),Qp(e??{})):e}function NR(t,e){if(!t)return e;if(!e)return t;const n=gt(Object.create(null),t);for(const s in e)n[s]=Ft(t[s],e[s]);return n}function Ny(){return{app:null,config:{isNativeTag:U_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MR=0;function VR(t,e){return function(s,r=null){ye(s)||(s=gt({},s)),r!=null&&!qe(r)&&(r=null);const i=Ny(),o=new WeakSet,a=[];let c=!1;const u=i.app={_uid:MR++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:vk,get config(){return i.config},set config(h){},use(h,...m){return o.has(h)||(h&&ye(h.install)?(o.add(h),h.install(u,...m)):ye(h)&&(o.add(h),h(u,...m))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,m){return m?(i.components[h]=m,u):i.components[h]},directive(h,m){return m?(i.directives[h]=m,u):i.directives[h]},mount(h,m,g){if(!c){const _=u._ceVNode||U(s,r);return _.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),t(_,h,g),c=!0,u._container=h,h.__vue_app__=u,Nl(_.component)}},onUnmount(h){a.push(h)},unmount(){c&&(bn(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,m){return i.provides[h]=m,u},runWithContext(h){const m=cr;cr=u;try{return h()}finally{cr=m}}};return u}}let cr=null;function ma(t,e){if(Mt){let n=Mt.provides;const s=Mt.parent&&Mt.parent.provides;s===n&&(n=Mt.provides=Object.create(s)),n[t]=e}}function On(t,e,n=!1){const s=lh();if(s||cr){let r=cr?cr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ye(e)?e.call(s&&s.proxy):e}}function OR(){return!!(lh()||cr)}const My={},Vy=()=>Object.create(My),Oy=t=>Object.getPrototypeOf(t)===My;function LR(t,e,n,s=!1){const r={},i=Vy();t.propsDefaults=Object.create(null),Ly(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:uy(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function UR(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=ke(r),[c]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let m=0;m<h.length;m++){let g=h[m];if(Dl(t.emitsOptions,g))continue;const _=e[g];if(c)if(Me(i,g))_!==i[g]&&(i[g]=_,u=!0);else{const R=ln(g);r[R]=Ru(c,a,R,_,t,!1)}else _!==i[g]&&(i[g]=_,u=!0)}}}else{Ly(t,e,r,i)&&(u=!0);let h;for(const m in a)(!e||!Me(e,m)&&((h=br(m))===m||!Me(e,h)))&&(c?n&&(n[m]!==void 0||n[h]!==void 0)&&(r[m]=Ru(c,a,m,void 0,t,!0)):delete r[m]);if(i!==a)for(const m in i)(!e||!Me(e,m))&&(delete i[m],u=!0)}u&&Jn(t.attrs,"set","")}function Ly(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Oi(c))continue;const u=e[c];let h;r&&Me(r,h=ln(c))?!i||!i.includes(h)?n[h]=u:(a||(a={}))[h]=u:Dl(t.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,o=!0)}if(i){const c=ke(n),u=a||Fe;for(let h=0;h<i.length;h++){const m=i[h];n[m]=Ru(r,c,m,u[m],t,!Me(u,m))}}return o}function Ru(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Me(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ye(c)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const h=ko(r);s=u[n]=c.call(null,e),h()}}else s=c;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===br(n))&&(s=!0))}return s}const FR=new WeakMap;function Uy(t,e,n=!1){const s=n?FR:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!ye(t)){const h=m=>{c=!0;const[g,_]=Uy(m,e,!0);gt(o,g),_&&a.push(..._)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!c)return qe(t)&&s.set(t,Fr),Fr;if(ue(i))for(let h=0;h<i.length;h++){const m=ln(i[h]);Zp(m)&&(o[m]=Fe)}else if(i)for(const h in i){const m=ln(h);if(Zp(m)){const g=i[h],_=o[m]=ue(g)||ye(g)?{type:g}:gt({},g),R=_.type;let N=!1,M=!0;if(ue(R))for(let D=0;D<R.length;++D){const x=R[D],F=ye(x)&&x.name;if(F==="Boolean"){N=!0;break}else F==="String"&&(M=!1)}else N=ye(R)&&R.name==="Boolean";_[0]=N,_[1]=M,(N||Me(_,"default"))&&a.push(m)}}const u=[o,a];return qe(t)&&s.set(t,u),u}function Zp(t){return t[0]!=="$"&&!Oi(t)}const ih=t=>t==="_"||t==="_ctx"||t==="$stable",oh=t=>ue(t)?t.map(Sn):[Sn(t)],WR=(t,e,n)=>{if(e._n)return e;const s=Qe((...r)=>oh(e(...r)),n);return s._c=!1,s},Fy=(t,e,n)=>{const s=t._ctx;for(const r in t){if(ih(r))continue;const i=t[r];if(ye(i))e[r]=WR(r,i,s);else if(i!=null){const o=oh(i);e[r]=()=>o}}},Wy=(t,e)=>{const n=oh(e);t.slots.default=()=>n},qy=(t,e,n)=>{for(const s in e)(n||!ih(s))&&(t[s]=e[s])},qR=(t,e,n)=>{const s=t.slots=Vy();if(t.vnode.shapeFlag&32){const r=e._;r?(qy(s,e,n),n&&B_(s,"_",r,!0)):Fy(e,s)}else e&&Wy(t,e)},BR=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Fe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:qy(r,e,n):(i=!e.$stable,Fy(e,r)),o=e}else e&&(Wy(t,e),o={default:1});if(i)for(const a in r)!ih(a)&&o[a]==null&&delete r[a]},Qt=sk;function jR(t){return HR(t)}function HR(t,e){const n=Il();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:u,setElementText:h,parentNode:m,nextSibling:g,setScopeId:_=Vn,insertStaticContent:R}=t,N=(E,I,k,B=null,$=null,j=null,X=void 0,Q=null,K=!!I.dynamicChildren)=>{if(E===I)return;E&&!tr(E,I)&&(B=q(E),Ge(E,$,j,!0),E=null),I.patchFlag===-2&&(K=!1,I.dynamicChildren=null);const{type:G,ref:de,shapeFlag:ee}=I;switch(G){case xl:M(E,I,k,B);break;case qt:D(E,I,k,B);break;case ga:E==null&&x(I,k,B,X);break;case We:A(E,I,k,B,$,j,X,Q,K);break;default:ee&1?oe(E,I,k,B,$,j,X,Q,K):ee&6?w(E,I,k,B,$,j,X,Q,K):(ee&64||ee&128)&&G.process(E,I,k,B,$,j,X,Q,K,ie)}de!=null&&$?Fi(de,E&&E.ref,j,I||E,!I):de==null&&E&&E.ref!=null&&Fi(E.ref,null,j,E,!0)},M=(E,I,k,B)=>{if(E==null)s(I.el=a(I.children),k,B);else{const $=I.el=E.el;I.children!==E.children&&u($,I.children)}},D=(E,I,k,B)=>{E==null?s(I.el=c(I.children||""),k,B):I.el=E.el},x=(E,I,k,B)=>{[E.el,E.anchor]=R(E.children,I,k,B,E.el,E.anchor)},F=({el:E,anchor:I},k,B)=>{let $;for(;E&&E!==I;)$=g(E),s(E,k,B),E=$;s(I,k,B)},z=({el:E,anchor:I})=>{let k;for(;E&&E!==I;)k=g(E),r(E),E=k;r(I)},oe=(E,I,k,B,$,j,X,Q,K)=>{I.type==="svg"?X="svg":I.type==="math"&&(X="mathml"),E==null?fe(I,k,B,$,j,X,Q,K):y(E,I,$,j,X,Q,K)},fe=(E,I,k,B,$,j,X,Q)=>{let K,G;const{props:de,shapeFlag:ee,transition:ae,dirs:me}=E;if(K=E.el=o(E.type,j,de&&de.is,de),ee&8?h(K,E.children):ee&16&&b(E.children,K,null,B,$,Uc(E,j),X,Q),me&&Qs(E,null,B,"created"),C(K,E,E.scopeId,X,B),de){for(const we in de)we!=="value"&&!Oi(we)&&i(K,we,null,de[we],j,B);"value"in de&&i(K,"value",null,de.value,j),(G=de.onVnodeBeforeMount)&&An(G,B,E)}me&&Qs(E,null,B,"beforeMount");const he=$R($,ae);he&&ae.beforeEnter(K),s(K,I,k),((G=de&&de.onVnodeMounted)||he||me)&&Qt(()=>{G&&An(G,B,E),he&&ae.enter(K),me&&Qs(E,null,B,"mounted")},$)},C=(E,I,k,B,$)=>{if(k&&_(E,k),B)for(let j=0;j<B.length;j++)_(E,B[j]);if($){let j=$.subTree;if(I===j||Gy(j.type)&&(j.ssContent===I||j.ssFallback===I)){const X=$.vnode;C(E,X,X.scopeId,X.slotScopeIds,$.parent)}}},b=(E,I,k,B,$,j,X,Q,K=0)=>{for(let G=K;G<E.length;G++){const de=E[G]=Q?_s(E[G]):Sn(E[G]);N(null,de,I,k,B,$,j,X,Q)}},y=(E,I,k,B,$,j,X)=>{const Q=I.el=E.el;let{patchFlag:K,dynamicChildren:G,dirs:de}=I;K|=E.patchFlag&16;const ee=E.props||Fe,ae=I.props||Fe;let me;if(k&&Js(k,!1),(me=ae.onVnodeBeforeUpdate)&&An(me,k,I,E),de&&Qs(I,E,k,"beforeUpdate"),k&&Js(k,!0),(ee.innerHTML&&ae.innerHTML==null||ee.textContent&&ae.textContent==null)&&h(Q,""),G?T(E.dynamicChildren,G,Q,k,B,Uc(I,$),j):X||Te(E,I,Q,null,k,B,Uc(I,$),j,!1),K>0){if(K&16)S(Q,ee,ae,k,$);else if(K&2&&ee.class!==ae.class&&i(Q,"class",null,ae.class,$),K&4&&i(Q,"style",ee.style,ae.style,$),K&8){const he=I.dynamicProps;for(let we=0;we<he.length;we++){const Se=he[we],vt=ee[Se],_t=ae[Se];(_t!==vt||Se==="value")&&i(Q,Se,vt,_t,$,k)}}K&1&&E.children!==I.children&&h(Q,I.children)}else!X&&G==null&&S(Q,ee,ae,k,$);((me=ae.onVnodeUpdated)||de)&&Qt(()=>{me&&An(me,k,I,E),de&&Qs(I,E,k,"updated")},B)},T=(E,I,k,B,$,j,X)=>{for(let Q=0;Q<I.length;Q++){const K=E[Q],G=I[Q],de=K.el&&(K.type===We||!tr(K,G)||K.shapeFlag&198)?m(K.el):k;N(K,G,de,null,B,$,j,X,!0)}},S=(E,I,k,B,$)=>{if(I!==k){if(I!==Fe)for(const j in I)!Oi(j)&&!(j in k)&&i(E,j,I[j],null,$,B);for(const j in k){if(Oi(j))continue;const X=k[j],Q=I[j];X!==Q&&j!=="value"&&i(E,j,Q,X,$,B)}"value"in k&&i(E,"value",I.value,k.value,$)}},A=(E,I,k,B,$,j,X,Q,K)=>{const G=I.el=E?E.el:a(""),de=I.anchor=E?E.anchor:a("");let{patchFlag:ee,dynamicChildren:ae,slotScopeIds:me}=I;me&&(Q=Q?Q.concat(me):me),E==null?(s(G,k,B),s(de,k,B),b(I.children||[],k,de,$,j,X,Q,K)):ee>0&&ee&64&&ae&&E.dynamicChildren?(T(E.dynamicChildren,ae,k,$,j,X,Q),(I.key!=null||$&&I===$.subTree)&&By(E,I,!0)):Te(E,I,k,de,$,j,X,Q,K)},w=(E,I,k,B,$,j,X,Q,K)=>{I.slotScopeIds=Q,E==null?I.shapeFlag&512?$.ctx.activate(I,k,B,X,K):xe(I,k,B,$,j,X,K):st(E,I,K)},xe=(E,I,k,B,$,j,X)=>{const Q=E.component=uk(E,B,$);if(kl(E)&&(Q.ctx.renderer=ie),dk(Q,!1,X),Q.asyncDep){if($&&$.registerDep(Q,Oe,X),!E.el){const K=Q.subTree=U(qt);D(null,K,I,k),E.placeholder=K.el}}else Oe(Q,E,I,k,$,j,X)},st=(E,I,k)=>{const B=I.component=E.component;if(tk(E,I,k))if(B.asyncDep&&!B.asyncResolved){ge(B,I,k);return}else B.next=I,B.update();else I.el=E.el,B.vnode=I},Oe=(E,I,k,B,$,j,X)=>{const Q=()=>{if(E.isMounted){let{next:ee,bu:ae,u:me,parent:he,vnode:we}=E;{const Ct=jy(E);if(Ct){ee&&(ee.el=we.el,ge(E,ee,X)),Ct.asyncDep.then(()=>{E.isUnmounted||Q()});return}}let Se=ee,vt;Js(E,!1),ee?(ee.el=we.el,ge(E,ee,X)):ee=we,ae&&pa(ae),(vt=ee.props&&ee.props.onVnodeBeforeUpdate)&&An(vt,he,ee,we),Js(E,!0);const _t=tm(E),tn=E.subTree;E.subTree=_t,N(tn,_t,m(tn.el),q(tn),E,$,j),ee.el=_t.el,Se===null&&nk(E,_t.el),me&&Qt(me,$),(vt=ee.props&&ee.props.onVnodeUpdated)&&Qt(()=>An(vt,he,ee,we),$)}else{let ee;const{el:ae,props:me}=I,{bm:he,m:we,parent:Se,root:vt,type:_t}=E,tn=Wi(I);Js(E,!1),he&&pa(he),!tn&&(ee=me&&me.onVnodeBeforeMount)&&An(ee,Se,I),Js(E,!0);{vt.ce&&vt.ce._def.shadowRoot!==!1&&vt.ce._injectChildStyle(_t);const Ct=E.subTree=tm(E);N(null,Ct,k,B,E,$,j),I.el=Ct.el}if(we&&Qt(we,$),!tn&&(ee=me&&me.onVnodeMounted)){const Ct=I;Qt(()=>An(ee,Se,Ct),$)}(I.shapeFlag&256||Se&&Wi(Se.vnode)&&Se.vnode.shapeFlag&256)&&E.a&&Qt(E.a,$),E.isMounted=!0,I=k=B=null}};E.scope.on();const K=E.effect=new J_(Q);E.scope.off();const G=E.update=K.run.bind(K),de=E.job=K.runIfDirty.bind(K);de.i=E,de.id=E.uid,K.scheduler=()=>rh(de),Js(E,!0),G()},ge=(E,I,k)=>{I.component=E;const B=E.vnode.props;E.vnode=I,E.next=null,UR(E,I.props,B,k),BR(E,I.children,k),is(),$p(E),os()},Te=(E,I,k,B,$,j,X,Q,K=!1)=>{const G=E&&E.children,de=E?E.shapeFlag:0,ee=I.children,{patchFlag:ae,shapeFlag:me}=I;if(ae>0){if(ae&128){hn(G,ee,k,B,$,j,X,Q,K);return}else if(ae&256){Gt(G,ee,k,B,$,j,X,Q,K);return}}me&8?(de&16&&jt(G,$,j),ee!==G&&h(k,ee)):de&16?me&16?hn(G,ee,k,B,$,j,X,Q,K):jt(G,$,j,!0):(de&8&&h(k,""),me&16&&b(ee,k,B,$,j,X,Q,K))},Gt=(E,I,k,B,$,j,X,Q,K)=>{E=E||Fr,I=I||Fr;const G=E.length,de=I.length,ee=Math.min(G,de);let ae;for(ae=0;ae<ee;ae++){const me=I[ae]=K?_s(I[ae]):Sn(I[ae]);N(E[ae],me,k,null,$,j,X,Q,K)}G>de?jt(E,$,j,!0,!1,ee):b(I,k,B,$,j,X,Q,K,ee)},hn=(E,I,k,B,$,j,X,Q,K)=>{let G=0;const de=I.length;let ee=E.length-1,ae=de-1;for(;G<=ee&&G<=ae;){const me=E[G],he=I[G]=K?_s(I[G]):Sn(I[G]);if(tr(me,he))N(me,he,k,null,$,j,X,Q,K);else break;G++}for(;G<=ee&&G<=ae;){const me=E[ee],he=I[ae]=K?_s(I[ae]):Sn(I[ae]);if(tr(me,he))N(me,he,k,null,$,j,X,Q,K);else break;ee--,ae--}if(G>ee){if(G<=ae){const me=ae+1,he=me<de?I[me].el:B;for(;G<=ae;)N(null,I[G]=K?_s(I[G]):Sn(I[G]),k,he,$,j,X,Q,K),G++}}else if(G>ae)for(;G<=ee;)Ge(E[G],$,j,!0),G++;else{const me=G,he=G,we=new Map;for(G=he;G<=ae;G++){const yt=I[G]=K?_s(I[G]):Sn(I[G]);yt.key!=null&&we.set(yt.key,G)}let Se,vt=0;const _t=ae-he+1;let tn=!1,Ct=0;const cs=new Array(_t);for(G=0;G<_t;G++)cs[G]=0;for(G=me;G<=ee;G++){const yt=E[G];if(vt>=_t){Ge(yt,$,j,!0);continue}let nn;if(yt.key!=null)nn=we.get(yt.key);else for(Se=he;Se<=ae;Se++)if(cs[Se-he]===0&&tr(yt,I[Se])){nn=Se;break}nn===void 0?Ge(yt,$,j,!0):(cs[nn-he]=G+1,nn>=Ct?Ct=nn:tn=!0,N(yt,I[nn],k,null,$,j,X,Q,K),vt++)}const oi=tn?zR(cs):Fr;for(Se=oi.length-1,G=_t-1;G>=0;G--){const yt=he+G,nn=I[yt],Po=I[yt+1],wr=yt+1<de?Po.el||Po.placeholder:B;cs[G]===0?N(null,nn,k,wr,$,j,X,Q,K):tn&&(Se<0||G!==oi[Se]?en(nn,k,wr,2):Se--)}}},en=(E,I,k,B,$=null)=>{const{el:j,type:X,transition:Q,children:K,shapeFlag:G}=E;if(G&6){en(E.component.subTree,I,k,B);return}if(G&128){E.suspense.move(I,k,B);return}if(G&64){X.move(E,I,k,ie);return}if(X===We){s(j,I,k);for(let ee=0;ee<K.length;ee++)en(K[ee],I,k,B);s(E.anchor,I,k);return}if(X===ga){F(E,I,k);return}if(B!==2&&G&1&&Q)if(B===0)Q.beforeEnter(j),s(j,I,k),Qt(()=>Q.enter(j),$);else{const{leave:ee,delayLeave:ae,afterLeave:me}=Q,he=()=>{E.ctx.isUnmounted?r(j):s(j,I,k)},we=()=>{j._isLeaving&&j[Kn](!0),ee(j,()=>{he(),me&&me()})};ae?ae(j,he,we):we()}else s(j,I,k)},Ge=(E,I,k,B=!1,$=!1)=>{const{type:j,props:X,ref:Q,children:K,dynamicChildren:G,shapeFlag:de,patchFlag:ee,dirs:ae,cacheIndex:me}=E;if(ee===-2&&($=!1),Q!=null&&(is(),Fi(Q,null,k,E,!0),os()),me!=null&&(I.renderCache[me]=void 0),de&256){I.ctx.deactivate(E);return}const he=de&1&&ae,we=!Wi(E);let Se;if(we&&(Se=X&&X.onVnodeBeforeUnmount)&&An(Se,I,E),de&6)Tn(E.component,k,B);else{if(de&128){E.suspense.unmount(k,B);return}he&&Qs(E,null,I,"beforeUnmount"),de&64?E.type.remove(E,I,k,ie,B):G&&!G.hasOnce&&(j!==We||ee>0&&ee&64)?jt(G,I,k,!1,!0):(j===We&&ee&384||!$&&de&16)&&jt(K,I,k),B&&Ke(E)}(we&&(Se=X&&X.onVnodeUnmounted)||he)&&Qt(()=>{Se&&An(Se,I,E),he&&Qs(E,null,I,"unmounted")},k)},Ke=E=>{const{type:I,el:k,anchor:B,transition:$}=E;if(I===We){ls(k,B);return}if(I===ga){z(E);return}const j=()=>{r(k),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(E.shapeFlag&1&&$&&!$.persisted){const{leave:X,delayLeave:Q}=$,K=()=>X(k,j);Q?Q(E.el,j,K):K()}else j()},ls=(E,I)=>{let k;for(;E!==I;)k=g(E),r(E),E=k;r(I)},Tn=(E,I,k)=>{const{bum:B,scope:$,job:j,subTree:X,um:Q,m:K,a:G}=E;em(K),em(G),B&&pa(B),$.stop(),j&&(j.flags|=8,Ge(X,E,I,k)),Q&&Qt(Q,I),Qt(()=>{E.isUnmounted=!0},I)},jt=(E,I,k,B=!1,$=!1,j=0)=>{for(let X=j;X<E.length;X++)Ge(E[X],I,k,B,$)},q=E=>{if(E.shapeFlag&6)return q(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const I=g(E.anchor||E.el),k=I&&I[dR];return k?g(k):I};let se=!1;const Z=(E,I,k)=>{E==null?I._vnode&&Ge(I._vnode,null,null,!0):N(I._vnode||null,E,I,null,null,null,k),I._vnode=E,se||(se=!0,$p(),gy(),se=!1)},ie={p:N,um:Ge,m:en,r:Ke,mt:xe,mc:b,pc:Te,pbc:T,n:q,o:t};return{render:Z,hydrate:void 0,createApp:VR(Z)}}function Uc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Js({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function $R(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function By(t,e,n=!1){const s=t.children,r=e.children;if(ue(s)&&ue(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=_s(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&By(o,a)),a.type===xl&&a.patchFlag!==-1&&(a.el=o.el),a.type===qt&&!a.el&&(a.el=o.el)}}function zR(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function jy(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:jy(e)}function em(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const GR=Symbol.for("v-scx"),KR=()=>On(GR);function Bi(t,e,n){return Hy(t,e,n)}function Hy(t,e,n=Fe){const{immediate:s,deep:r,flush:i,once:o}=n,a=gt({},n),c=e&&s||!e&&i!=="post";let u;if(co){if(i==="sync"){const _=KR();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!c){const _=()=>{};return _.stop=Vn,_.resume=Vn,_.pause=Vn,_}}const h=Mt;a.call=(_,R,N)=>bn(_,h,R,N);let m=!1;i==="post"?a.scheduler=_=>{Qt(_,h&&h.suspense)}:i!=="sync"&&(m=!0,a.scheduler=(_,R)=>{R?_():rh(_)}),a.augmentJob=_=>{e&&(_.flags|=4),m&&(_.flags|=2,h&&(_.id=h.uid,_.i=h))};const g=aR(t,e,a);return co&&(u?u.push(g):c&&g()),g}function QR(t,e,n){const s=this.proxy,r=at(t)?t.includes(".")?$y(s,t):()=>s[t]:t.bind(s,s);let i;ye(e)?i=e:(i=e.handler,n=e);const o=ko(this),a=Hy(r,i.bind(s),n);return o(),a}function $y(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const JR=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ln(e)}Modifiers`]||t[`${br(e)}Modifiers`];function YR(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Fe;let r=n;const i=e.startsWith("update:"),o=i&&JR(s,e.slice(7));o&&(o.trim&&(r=n.map(h=>at(h)?h.trim():h)),o.number&&(r=n.map(bu)));let a,c=s[a=Dc(e)]||s[a=Dc(ln(e))];!c&&i&&(c=s[a=Dc(br(e))]),c&&bn(c,t,6,r);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,bn(u,t,6,r)}}const XR=new WeakMap;function zy(t,e,n=!1){const s=n?XR:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!ye(t)){const c=u=>{const h=zy(u,e,!0);h&&(a=!0,gt(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(qe(t)&&s.set(t,null),null):(ue(i)?i.forEach(c=>o[c]=null):gt(o,i),qe(t)&&s.set(t,o),o)}function Dl(t,e){return!t||!wl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Me(t,e[0].toLowerCase()+e.slice(1))||Me(t,br(e))||Me(t,e))}function tm(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:c,render:u,renderCache:h,props:m,data:g,setupState:_,ctx:R,inheritAttrs:N}=t,M=Ba(t);let D,x;try{if(n.shapeFlag&4){const z=r||s,oe=z;D=Sn(u.call(oe,z,h,m,_,g,R)),x=a}else{const z=e;D=Sn(z.length>1?z(m,{attrs:a,slots:o,emit:c}):z(m,null)),x=e.props?a:ZR(a)}}catch(z){ji.length=0,Rl(z,t,1),D=U(qt)}let F=D;if(x&&N!==!1){const z=Object.keys(x),{shapeFlag:oe}=F;z.length&&oe&7&&(i&&z.some($d)&&(x=ek(x,i)),F=Ws(F,x,!1,!0))}return n.dirs&&(F=Ws(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&ao(F,n.transition),D=F,Ba(M),D}const ZR=t=>{let e;for(const n in t)(n==="class"||n==="style"||wl(n))&&((e||(e={}))[n]=t[n]);return e},ek=(t,e)=>{const n={};for(const s in t)(!$d(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function tk(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?nm(s,o,u):!!o;if(c&8){const h=e.dynamicProps;for(let m=0;m<h.length;m++){const g=h[m];if(o[g]!==s[g]&&!Dl(u,g))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?nm(s,o,u):!0:!!o;return!1}function nm(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Dl(n,i))return!0}return!1}function nk({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Gy=t=>t.__isSuspense;function sk(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):uR(t)}const We=Symbol.for("v-fgt"),xl=Symbol.for("v-txt"),qt=Symbol.for("v-cmt"),ga=Symbol.for("v-stc"),ji=[];let Zt=null;function O(t=!1){ji.push(Zt=t?null:[])}function rk(){ji.pop(),Zt=ji[ji.length-1]||null}let lo=1;function $a(t,e=!1){lo+=t,t<0&&Zt&&e&&(Zt.hasOnce=!0)}function Ky(t){return t.dynamicChildren=lo>0?Zt||Fr:null,rk(),lo>0&&Zt&&Zt.push(t),t}function L(t,e,n,s,r,i){return Ky(f(t,e,n,s,r,i,!0))}function za(t,e,n,s,r){return Ky(U(t,e,n,s,r,!0))}function Ga(t){return t?t.__v_isVNode===!0:!1}function tr(t,e){return t.type===e.type&&t.key===e.key}const Qy=({key:t})=>t??null,va=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?at(t)||ot(t)||ye(t)?{i:Xt,r:t,k:e,f:!!n}:t:null);function f(t,e=null,n=null,s=0,r=null,i=t===We?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Qy(e),ref:e&&va(e),scopeId:_y,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Xt};return a?(ah(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=at(n)?8:16),lo>0&&!o&&Zt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Zt.push(c),c}const U=ik;function ik(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===CR)&&(t=qt),Ga(t)){const a=Ws(t,e,!0);return n&&ah(a,n),lo>0&&!i&&Zt&&(a.shapeFlag&6?Zt[Zt.indexOf(t)]=a:Zt.push(a)),a.patchFlag=-2,a}if(gk(t)&&(t=t.__vccOpts),e){e=ok(e);let{class:a,style:c}=e;a&&!at(a)&&(e.class=mt(a)),qe(c)&&(th(c)&&!ue(c)&&(c=gt({},c)),e.style=Kd(c))}const o=at(t)?1:Gy(t)?128:yy(t)?64:qe(t)?4:ye(t)?2:0;return f(t,e,n,s,r,o,i,!0)}function ok(t){return t?th(t)||Oy(t)?gt({},t):t:null}function Ws(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:c}=t,u=e?ak(r||{},e):r,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Qy(u),ref:e&&e.ref?n&&i?ue(i)?i.concat(va(e)):[i,va(e)]:va(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==We?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ws(t.ssContent),ssFallback:t.ssFallback&&Ws(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&ao(h,c.clone(h)),h}function ce(t=" ",e=0){return U(xl,null,t,e)}function Ee(t,e){const n=U(ga,null,t);return n.staticCount=e,n}function ne(t="",e=!1){return e?(O(),za(qt,null,t)):U(qt,null,t)}function Sn(t){return t==null||typeof t=="boolean"?U(qt):ue(t)?U(We,null,t.slice()):Ga(t)?_s(t):U(xl,null,String(t))}function _s(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ws(t)}function ah(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),ah(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Oy(e)?e._ctx=Xt:r===3&&Xt&&(Xt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:Xt},n=32):(e=String(e),s&64?(n=16,e=[ce(e)]):n=8);t.children=e,t.shapeFlag|=n}function ak(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=mt([e.class,s.class]));else if(r==="style")e.style=Kd([e.style,s.style]);else if(wl(r)){const i=e[r],o=s[r];o&&i!==o&&!(ue(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function An(t,e,n,s=null){bn(t,e,7,[n,s])}const lk=Ny();let ck=0;function uk(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||lk,i={uid:ck++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new G_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Uy(s,r),emitsOptions:zy(s,r),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:s.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=YR.bind(null,i),t.ce&&t.ce(i),i}let Mt=null;const lh=()=>Mt||Xt;let Ka,ku;{const t=Il(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Ka=e("__VUE_INSTANCE_SETTERS__",n=>Mt=n),ku=e("__VUE_SSR_SETTERS__",n=>co=n)}const ko=t=>{const e=Mt;return Ka(t),t.scope.on(),()=>{t.scope.off(),Ka(e)}},sm=()=>{Mt&&Mt.scope.off(),Ka(null)};function Jy(t){return t.vnode.shapeFlag&4}let co=!1;function dk(t,e=!1,n=!1){e&&ku(e);const{props:s,children:r}=t.vnode,i=Jy(t);LR(t,s,i,e),qR(t,r,n||e);const o=i?hk(t,e):void 0;return e&&ku(!1),o}function hk(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,RR);const{setup:s}=n;if(s){is();const r=t.setupContext=s.length>1?pk(t):null,i=ko(t),o=Ro(s,t,0,[t.props,r]),a=F_(o);if(os(),i(),(a||t.sp)&&!Wi(t)&&Cy(t),a){if(o.then(sm,sm),e)return o.then(c=>{rm(t,c)}).catch(c=>{Rl(c,t,0)});t.asyncDep=o}else rm(t,o)}else Yy(t)}function rm(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qe(e)&&(t.setupState=fy(e)),Yy(t)}function Yy(t,e,n){const s=t.type;t.render||(t.render=s.render||Vn);{const r=ko(t);is();try{kR(t)}finally{os(),r()}}}const fk={get(t,e){return Nt(t,"get",""),t[e]}};function pk(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,fk),slots:t.slots,emit:t.emit,expose:e}}function Nl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(fy(nh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in qi)return qi[n](t)},has(e,n){return n in e||n in qi}})):t.proxy}function mk(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function gk(t){return ye(t)&&"__vccOpts"in t}const Xe=(t,e)=>iR(t,e,co);function ch(t,e,n){const s=(i,o,a)=>{$a(-1);try{return U(i,o,a)}finally{$a(1)}},r=arguments.length;return r===2?qe(e)&&!ue(e)?Ga(e)?s(t,null,[e]):s(t,e):s(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ga(n)&&(n=[n]),s(t,e,n))}const vk="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pu;const im=typeof window<"u"&&window.trustedTypes;if(im)try{Pu=im.createPolicy("vue",{createHTML:t=>t})}catch{}const Xy=Pu?t=>Pu.createHTML(t):t=>t,_k="http://www.w3.org/2000/svg",yk="http://www.w3.org/1998/Math/MathML",Gn=typeof document<"u"?document:null,om=Gn&&Gn.createElement("template"),bk={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Gn.createElementNS(_k,t):e==="mathml"?Gn.createElementNS(yk,t):n?Gn.createElement(t,{is:n}):Gn.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Gn.createTextNode(t),createComment:t=>Gn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{om.innerHTML=Xy(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=om.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ps="transition",wi="animation",uo=Symbol("_vtc"),Zy={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},wk=gt({},by,Zy),Ek=t=>(t.displayName="Transition",t.props=wk,t),uh=Ek((t,{slots:e})=>ch(pR,Tk(t),e)),Ys=(t,e=[])=>{ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},am=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function Tk(t){const e={};for(const A in t)A in Zy||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:u=o,appearToClass:h=a,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:_=`${n}-leave-to`}=t,R=Ak(r),N=R&&R[0],M=R&&R[1],{onBeforeEnter:D,onEnter:x,onEnterCancelled:F,onLeave:z,onLeaveCancelled:oe,onBeforeAppear:fe=D,onAppear:C=x,onAppearCancelled:b=F}=e,y=(A,w,xe,st)=>{A._enterCancelled=st,Xs(A,w?h:a),Xs(A,w?u:o),xe&&xe()},T=(A,w)=>{A._isLeaving=!1,Xs(A,m),Xs(A,_),Xs(A,g),w&&w()},S=A=>(w,xe)=>{const st=A?C:x,Oe=()=>y(w,A,xe);Ys(st,[w,Oe]),lm(()=>{Xs(w,A?c:i),$n(w,A?h:a),am(st)||cm(w,s,N,Oe)})};return gt(e,{onBeforeEnter(A){Ys(D,[A]),$n(A,i),$n(A,o)},onBeforeAppear(A){Ys(fe,[A]),$n(A,c),$n(A,u)},onEnter:S(!1),onAppear:S(!0),onLeave(A,w){A._isLeaving=!0;const xe=()=>T(A,w);$n(A,m),A._enterCancelled?($n(A,g),hm()):(hm(),$n(A,g)),lm(()=>{A._isLeaving&&(Xs(A,m),$n(A,_),am(z)||cm(A,s,M,xe))}),Ys(z,[A,xe])},onEnterCancelled(A){y(A,!1,void 0,!0),Ys(F,[A])},onAppearCancelled(A){y(A,!0,void 0,!0),Ys(b,[A])},onLeaveCancelled(A){T(A),Ys(oe,[A])}})}function Ak(t){if(t==null)return null;if(qe(t))return[Fc(t.enter),Fc(t.leave)];{const e=Fc(t);return[e,e]}}function Fc(t){return AS(t)}function $n(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[uo]||(t[uo]=new Set)).add(e)}function Xs(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[uo];n&&(n.delete(e),n.size||(t[uo]=void 0))}function lm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ik=0;function cm(t,e,n,s){const r=t._endId=++Ik,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=Ck(t,e);if(!o)return s();const u=o+"end";let h=0;const m=()=>{t.removeEventListener(u,g),i()},g=_=>{_.target===t&&++h>=c&&m()};setTimeout(()=>{h<c&&m()},a+1),t.addEventListener(u,g)}function Ck(t,e){const n=window.getComputedStyle(t),s=R=>(n[R]||"").split(", "),r=s(`${ps}Delay`),i=s(`${ps}Duration`),o=um(r,i),a=s(`${wi}Delay`),c=s(`${wi}Duration`),u=um(a,c);let h=null,m=0,g=0;e===ps?o>0&&(h=ps,m=o,g=i.length):e===wi?u>0&&(h=wi,m=u,g=c.length):(m=Math.max(o,u),h=m>0?o>u?ps:wi:null,g=h?h===ps?i.length:c.length:0);const _=h===ps&&/\b(?:transform|all)(?:,|$)/.test(s(`${ps}Property`).toString());return{type:h,timeout:m,propCount:g,hasTransform:_}}function um(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>dm(n)+dm(t[s])))}function dm(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function hm(){return document.body.offsetHeight}function Sk(t,e,n){const s=t[uo];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Qa=Symbol("_vod"),eb=Symbol("_vsh"),Rk={name:"show",beforeMount(t,{value:e},{transition:n}){t[Qa]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ei(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Ei(t,!0),s.enter(t)):s.leave(t,()=>{Ei(t,!1)}):Ei(t,e))},beforeUnmount(t,{value:e}){Ei(t,e)}};function Ei(t,e){t.style.display=e?t[Qa]:"none",t[eb]=!e}const kk=Symbol(""),Pk=/(?:^|;)\s*display\s*:/;function Dk(t,e,n){const s=t.style,r=at(n);let i=!1;if(n&&!r){if(e)if(at(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&_a(s,a,"")}else for(const o in e)n[o]==null&&_a(s,o,"");for(const o in n)o==="display"&&(i=!0),_a(s,o,n[o])}else if(r){if(e!==n){const o=s[kk];o&&(n+=";"+o),s.cssText=n,i=Pk.test(n)}}else e&&t.removeAttribute("style");Qa in t&&(t[Qa]=i?s.display:"",t[eb]&&(s.display="none"))}const fm=/\s*!important$/;function _a(t,e,n){if(ue(n))n.forEach(s=>_a(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=xk(t,e);fm.test(n)?t.setProperty(br(s),n.replace(fm,""),"important"):t[s]=n}}const pm=["Webkit","Moz","ms"],Wc={};function xk(t,e){const n=Wc[e];if(n)return n;let s=ln(e);if(s!=="filter"&&s in t)return Wc[e]=s;s=Al(s);for(let r=0;r<pm.length;r++){const i=pm[r]+s;if(i in t)return Wc[e]=i}return e}const mm="http://www.w3.org/1999/xlink";function gm(t,e,n,s,r,i=PS(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(mm,e.slice(6,e.length)):t.setAttributeNS(mm,e,n):n==null||i&&!j_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Fn(n)?String(n):n)}function vm(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Xy(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=j_(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function nr(t,e,n,s){t.addEventListener(e,n,s)}function Nk(t,e,n,s){t.removeEventListener(e,n,s)}const _m=Symbol("_vei");function Mk(t,e,n,s,r=null){const i=t[_m]||(t[_m]={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=Vk(e);if(s){const u=i[e]=Uk(s,r);nr(t,a,u,c)}else o&&(Nk(t,a,o,c),i[e]=void 0)}}const ym=/(?:Once|Passive|Capture)$/;function Vk(t){let e;if(ym.test(t)){e={};let s;for(;s=t.match(ym);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):br(t.slice(2)),e]}let qc=0;const Ok=Promise.resolve(),Lk=()=>qc||(Ok.then(()=>qc=0),qc=Date.now());function Uk(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;bn(Fk(s,n.value),e,5,[s])};return n.value=t,n.attached=Lk(),n}function Fk(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const bm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Wk=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?Sk(t,s,o):e==="style"?Dk(t,n,s):wl(e)?$d(e)||Mk(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):qk(t,e,s,o))?(vm(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&gm(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!at(s))?vm(t,ln(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),gm(t,e,s,o))};function qk(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&bm(e)&&ye(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return bm(e)&&at(n)?!1:e in t}const Ja=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>pa(e,n):e};function Bk(t){t.target.composing=!0}function wm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const jr=Symbol("_assign"),ze={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[jr]=Ja(r);const i=s||r.props&&r.props.type==="number";nr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=bu(a)),t[jr](a)}),n&&nr(t,"change",()=>{t.value=t.value.trim()}),e||(nr(t,"compositionstart",Bk),nr(t,"compositionend",wm),nr(t,"change",wm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[jr]=Ja(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?bu(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===c)||(t.value=c))}},Em={deep:!0,created(t,e,n){t[jr]=Ja(n),nr(t,"change",()=>{const s=t._modelValue,r=jk(t),i=t.checked,o=t[jr];if(ue(s)){const a=H_(s,r),c=a!==-1;if(i&&!c)o(s.concat(r));else if(!i&&c){const u=[...s];u.splice(a,1),o(u)}}else if(El(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(tb(t,i))})},mounted:Tm,beforeUpdate(t,e,n){t[jr]=Ja(n),Tm(t,e,n)}};function Tm(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(ue(e))r=H_(e,s.props.value)>-1;else if(El(e))r=e.has(s.props.value);else{if(e===n)return;r=Cl(e,tb(t,!0))}t.checked!==r&&(t.checked=r)}function jk(t){return"_value"in t?t._value:t.value}function tb(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Hk=["ctrl","shift","alt","meta"],$k={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Hk.some(n=>t[`${n}Key`]&&!e.includes(n))},es=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=$k[e[o]];if(a&&a(r,e))return}return t(r,...i)})},zk=gt({patchProp:Wk},bk);let Am;function Gk(){return Am||(Am=jR(zk))}const Kk=(...t)=>{const e=Gk().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Jk(s);if(!r)return;const i=e._component;!ye(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Qk(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Qk(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Jk(t){return at(t)?document.querySelector(t):t}const Yk="/assets/mailicon-CKs8QJTb.png",dh="/assets/wondercart-D7PFJcCG.jpg";/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let nb;const Ml=t=>nb=t,sb=Symbol();function Du(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Hi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Hi||(Hi={}));function Xk(){const t=K_(!0),e=t.run(()=>So({}));let n=[],s=[];const r=nh({install(i){Ml(r),r._a=i,i.provide(sb,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return this._a?n.push(i):s.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const rb=()=>{};function Im(t,e,n,s=rb){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&Q_()&&xS(r),r}function Sr(t,...e){t.slice().forEach(n=>{n(...e)})}const Zk=t=>t(),Cm=Symbol(),Bc=Symbol();function xu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Du(r)&&Du(s)&&t.hasOwnProperty(n)&&!ot(s)&&!Ds(s)?t[n]=xu(r,s):t[n]=s}return t}const eP=Symbol();function tP(t){return!Du(t)||!Object.prototype.hasOwnProperty.call(t,eP)}const{assign:gs}=Object;function nP(t){return!!(ot(t)&&t.effect)}function sP(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let c;function u(){a||(n.state.value[t]=r?r():{});const h=tR(n.state.value[t]);return gs(h,i,Object.keys(o||{}).reduce((m,g)=>(m[g]=nh(Xe(()=>{Ml(n);const _=n._s.get(t);return o[g].call(_,_)})),m),{}))}return c=ib(t,u,e,n,s,!0),c}function ib(t,e,n={},s,r,i){let o;const a=gs({actions:{}},n),c={deep:!0};let u,h,m=[],g=[],_;const R=s.state.value[t];!i&&!R&&(s.state.value[t]={}),So({});let N;function M(b){let y;u=h=!1,typeof b=="function"?(b(s.state.value[t]),y={type:Hi.patchFunction,storeId:t,events:_}):(xu(s.state.value[t],b),y={type:Hi.patchObject,payload:b,storeId:t,events:_});const T=N=Symbol();sh().then(()=>{N===T&&(u=!0)}),h=!0,Sr(m,y,s.state.value[t])}const D=i?function(){const{state:y}=n,T=y?y():{};this.$patch(S=>{gs(S,T)})}:rb;function x(){o.stop(),m=[],g=[],s._s.delete(t)}const F=(b,y="")=>{if(Cm in b)return b[Bc]=y,b;const T=function(){Ml(s);const S=Array.from(arguments),A=[],w=[];function xe(ge){A.push(ge)}function st(ge){w.push(ge)}Sr(g,{args:S,name:T[Bc],store:oe,after:xe,onError:st});let Oe;try{Oe=b.apply(this&&this.$id===t?this:oe,S)}catch(ge){throw Sr(w,ge),ge}return Oe instanceof Promise?Oe.then(ge=>(Sr(A,ge),ge)).catch(ge=>(Sr(w,ge),Promise.reject(ge))):(Sr(A,Oe),Oe)};return T[Cm]=!0,T[Bc]=y,T},z={_p:s,$id:t,$onAction:Im.bind(null,g),$patch:M,$reset:D,$subscribe(b,y={}){const T=Im(m,b,y.detached,()=>S()),S=o.run(()=>Bi(()=>s.state.value[t],A=>{(y.flush==="sync"?h:u)&&b({storeId:t,type:Hi.direct,events:_},A)},gs({},c,y)));return T},$dispose:x},oe=Co(z);s._s.set(t,oe);const C=(s._a&&s._a.runWithContext||Zk)(()=>s._e.run(()=>(o=K_()).run(()=>e({action:F}))));for(const b in C){const y=C[b];if(ot(y)&&!nP(y)||Ds(y))i||(R&&tP(y)&&(ot(y)?y.value=R[b]:xu(y,R[b])),s.state.value[t][b]=y);else if(typeof y=="function"){const T=F(y,b);C[b]=T,a.actions[b]=y}}return gs(oe,C),gs(ke(oe),C),Object.defineProperty(oe,"$state",{get:()=>s.state.value[t],set:b=>{M(y=>{gs(y,b)})}}),s._p.forEach(b=>{gs(oe,o.run(()=>b({store:oe,app:s._a,pinia:s,options:a})))}),R&&i&&n.hydrate&&n.hydrate(oe.$state,R),u=!0,h=!0,oe}/*! #__NO_SIDE_EFFECTS__ */function rP(t,e,n){let s;const r=typeof e=="function";s=r?n:e;function i(o,a){const c=OR();return o=o||(c?On(sb,null):null),o&&Ml(o),o=nb,o._s.has(t)||(r?ib(t,e,s,o):sP(t,s,o)),o._s.get(t)}return i.$id=t,i}const iP=t=>{if(typeof t!="string")return null;try{return JSON.parse(t)}catch{return null}},jc=t=>"name:"+String(t).toLowerCase().trim().replace(/\s+/g,"-").slice(0,60),$i=(t,e)=>{if(t&&typeof t=="object")return{id:t.id??jc(t.name??Date.now()),name:String(t.name??t.id??"Item")};if(typeof t=="string"){const n=iP(t);return n&&(n.name||n.id)?{id:n.id??jc(n.name??Date.now()),name:String(n.name??n.id)}:{id:e??jc(t),name:t}}return{id:e??String(Date.now()),name:"Item"}},Sm=(t,e)=>{const n=$i(t),s=$i(e);return n.id&&s.id&&n.id===s.id||n.name.toLowerCase()===s.name.toLowerCase()},zt=rP("wonderCart",{state:()=>({isOpen:!1,showToast:!1,toastMsg:"",_toastTimer:null,items:[],form:{name:"",email:"",phoneCc:"",phoneNumber:"",travelDate:"",message:""},submitTimestamps:[]}),actions:{open(){this.isOpen=!0,document.body.style.overflow="hidden"},close(){this.isOpen=!1,document.body.style.overflow=""},add(t,e=null){const n=$i(t,e);if(this.items.some(r=>Sm(r,n))){this.toast("Already in your wonder cart");return}this.items.push({id:n.id,name:n.name}),this.toast("This item has been added to your wonder cart"),this.persist()},remove(t){const e=$i(t);this.items=this.items.filter(n=>!Sm(n,e)),this.persist()},clear(){this.items=[],this.persist()},toast(t){this.toastMsg=t,this.showToast=!0,clearTimeout(this._toastTimer),this._toastTimer=setTimeout(()=>this.showToast=!1,4e3)},hydrate(){try{const t=localStorage.getItem("ww_cart_v1");if(t){const e=JSON.parse(t);Array.isArray(e.items)&&(this.items=e.items.map(n=>{const s=$i(n);return{id:s.id,name:s.name}})),e.form&&(this.form={...this.form,...e.form})}}catch{}},persist(){localStorage.setItem("ww_cart_v1",JSON.stringify({items:this.items,form:this.form}))},canSubmitNow(){const t=Date.now(),e=n=>this.submitTimestamps.filter(s=>t-s<=n).length;return!(e(5e3)>=2||e(6e4)>=3||e(36e5)>=5)},markSubmitted(){this.submitTimestamps.push(Date.now())}}}),cn="/assets/Wechat-code1-C1sDxPfE.jpg",Ot="/assets/logo-www-gold-DFz-ybbF.png",Bt="/assets/logo-text-1tvWifvP.png",ft=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},oP={name:"WonderCartModal",setup(){const t=zt(),e=400,n=D=>{var F;const x=(((F=D==null?void 0:D.target)==null?void 0:F.value)??"").slice(0,e);x!==t.form.message&&(t.form.message=x)},s=D=>{try{return JSON.parse(D)}catch{return null}},r=D=>{var x;return typeof D=="string"?((x=s(D))==null?void 0:x.name)??D:(D==null?void 0:D.name)??String(D)},i=D=>{var x;return typeof D=="string"?((x=s(D))==null?void 0:x.id)??D:(D==null?void 0:D.id)??String(D)},o=new Date().toISOString().slice(0,10),a=Xe(()=>!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test((t.form.email||"").trim())),c=Xe(()=>{const D=t.form.travelDate;if(!D)return!0;const x=new Date(D+"T00:00:00"),F=new Date(o+"T00:00:00"),z=new Date("2050-12-31T00:00:00");return!(x>=F&&x<=z)}),u=["fuck","shit","bitch","asshole","dumb","trash","cunt","scam","eat dog","kill","sex","chink","ching","chang","Mao","chong","communist","Trump","racist","suicide","ccp","xijinping","Tiananmen","hell","bastard","third-rate","douchebag","covid","flu","bomb","virus"],h=Xe(()=>!(t.form.message&&t.form.message.trim().length>0)),m=Xe(()=>{const D=(t.form.message||"").toLowerCase();return u.some(x=>D.includes(x))}),g=Xe(()=>a.value||c.value||h.value||m.value||!t.canSubmitNow());async function _(){if(g.value)return;const D={items:t.items.map(x=>{const F=typeof x=="string"?s(x)||{id:x,name:String(x)}:x;return{id:F.id,title:F.name}}),contact:{name:t.form.name||"",email:(t.form.email||"").trim(),phone:[t.form.phoneCc||"",t.form.phoneNumber||""].filter(Boolean).join(" ")},travelDate:t.form.travelDate,message:(t.form.message||"").trim()};try{await L_(D),t.markSubmitted(),t.toast("Your enquiry has been submitted. We will get back to you."),t.close()}catch(x){console.error(x),t.toast("Submit failed, please try again later.")}}const R=So(!1);return{cart:t,MESSAGE_LIMIT:e,enforceMsgLimit:n,getName:r,getId:i,todayISO:o,emailErr:a,dateErr:c,msgRequiredErr:h,msgProfanityErr:m,submitDisabled:g,onSubmit:_,wechatQR:cn,showWechat:R,openWechat:()=>{R.value=!0},closeWechat:()=>{R.value=!1},cartIcon:dh,logoGold:Ot,logoText:Bt}}},aP={class:"wc-modal",role:"dialog","aria-modal":"true","aria-label":"WonderCart"},lP={class:"wc-head"},cP={class:"wc-title"},uP=["src"],dP={class:"wc-body"},hP={class:"wc-section"},fP={key:0,class:"wc-empty"},pP={key:1,class:"wc-chips"},mP=["onClick"],gP={class:"wc-section"},vP={key:0,class:"field-err"},_P={class:"wc-grid-2"},yP=["min"],bP={key:1,class:"field-err"},wP=["maxlength"],EP={class:"wc-count"},TP={key:2,class:"field-err"},AP={key:3,class:"field-err"},IP={class:"wc-logos"},CP=["src"],SP=["src"],RP={class:"wc-foot"},kP=["disabled"],PP=["disabled"],DP={class:"wc-after"},xP={class:"wc-links"},NP={class:"wc-qr-box"},MP=["src"];function VP(t,e,n,s,r,i){return s.cart.isOpen?(O(),L("div",{key:0,class:"wc-overlay",onClick:e[13]||(e[13]=es(o=>s.cart.close(),["self"]))},[f("div",aP,[f("div",lP,[f("h3",cP,[f("img",{src:s.cartIcon,alt:"",class:"wc-title-icon"},null,8,uP),e[14]||(e[14]=f("span",null,"WonderCart",-1))]),f("button",{class:"wc-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>s.cart.close&&s.cart.close(...o))},"×")]),f("div",dP,[f("div",hP,[e[15]||(e[15]=f("h4",null,"Selected items",-1)),s.cart.items.length?(O(),L("div",pP,[(O(!0),L(We,null,It(s.cart.items,o=>(O(),L("span",{key:s.getId(o),class:"wc-chip"},[ce(Y(s.getName(o))+" ",1),f("button",{class:"wc-chip-x",onClick:a=>s.cart.remove(o),"aria-label":"remove"},"×",8,mP)]))),128))])):(O(),L("div",fP," No items selected — you can still submit this as a general enquiry. "))]),f("div",gP,[e[18]||(e[18]=f("h4",null,"Your details",-1)),e[19]||(e[19]=f("label",{class:"wc-l"},"Preferred name",-1)),Ue(f("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.cart.form.name=o),class:"wc-inp",placeholder:"e.g. Alex"},null,512),[[ze,s.cart.form.name,void 0,{trim:!0}]]),e[20]||(e[20]=f("label",{class:"wc-l"},[ce("Email "),f("span",{class:"req"},"*")],-1)),Ue(f("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.cart.form.email=o),class:mt(["wc-inp",{err:s.emailErr}]),placeholder:"name@example.com",inputmode:"email"},null,2),[[ze,s.cart.form.email,void 0,{trim:!0}]]),s.emailErr?(O(),L("p",vP,"Please enter a valid email address.")):ne("",!0),f("div",_P,[f("div",null,[e[16]||(e[16]=f("label",{class:"wc-l"},"Phone code",-1)),Ue(f("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.cart.form.phoneCc=o),class:"wc-inp",placeholder:"+1,+44,+971,etc."},null,512),[[ze,s.cart.form.phoneCc,void 0,{trim:!0}]])]),f("div",null,[e[17]||(e[17]=f("label",{class:"wc-l"},"Phone number",-1)),Ue(f("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.cart.form.phoneNumber=o),class:"wc-inp",placeholder:"5xxxxxxx"},null,512),[[ze,s.cart.form.phoneNumber,void 0,{trim:!0}]])])]),e[21]||(e[21]=f("label",{class:"wc-l"},[ce("Travel date (YYYY-MM-DD) "),f("span",{class:"req"},"*")],-1)),Ue(f("input",{type:"date",class:mt(["wc-inp",{err:s.dateErr}]),"onUpdate:modelValue":e[5]||(e[5]=o=>s.cart.form.travelDate=o),min:s.todayISO,max:"2050-12-31"},null,10,yP),[[ze,s.cart.form.travelDate]]),s.dateErr?(O(),L("p",bP,"Please choose a date from today.")):ne("",!0),e[22]||(e[22]=f("label",{class:"wc-l"},[ce("Message "),f("span",{class:"req"},"*")],-1)),Ue(f("textarea",{"onUpdate:modelValue":e[6]||(e[6]=o=>s.cart.form.message=o),class:mt(["wc-inp",{err:s.msgRequiredErr||s.msgProfanityErr}]),rows:"4",placeholder:"Tell us your plan, pickup area, pax, special notes...",maxlength:s.MESSAGE_LIMIT,onInput:e[7]||(e[7]=(...o)=>s.enforceMsgLimit&&s.enforceMsgLimit(...o))},null,42,wP),[[ze,s.cart.form.message,void 0,{trim:!0}]]),f("div",EP,Y((s.cart.form.message||"").length)+"/"+Y(s.MESSAGE_LIMIT),1),s.msgRequiredErr?(O(),L("p",TP,"Message is required.")):s.msgProfanityErr?(O(),L("p",AP,"Please remove inappropriate language from your message.")):ne("",!0),e[23]||(e[23]=f("p",{class:"wc-hint"},"By submitting, I agree WanderWonderWorld to contact me via the details provided.",-1)),f("div",IP,[f("img",{src:s.logoGold,alt:"WanderWonderWorld Gold Logo",class:"wc-logo-gold"},null,8,CP),f("img",{src:s.logoText,alt:"WanderWonderWorld Text Logo",class:"wc-logo-text"},null,8,SP)])])]),f("div",RP,[f("button",{class:"wc-btn wc-light",onClick:e[8]||(e[8]=(...o)=>s.cart.clear&&s.cart.clear(...o)),disabled:!s.cart.items.length},"Clear all",8,kP),f("button",{class:"wc-btn wc-primary",onClick:e[9]||(e[9]=(...o)=>s.onSubmit&&s.onSubmit(...o)),disabled:s.submitDisabled},"Submit enquiry",8,PP)]),f("div",DP,[e[26]||(e[26]=f("p",null,[ce(" We usually reply within "),f("strong",null,"3 business days"),ce(". If you don’t see our email, please check your spam folder or contact us via: ")],-1)),f("div",xP,[e[24]||(e[24]=f("a",{href:"mailto:info@wanderwonderworlddubai.com"},"Email us",-1)),e[25]||(e[25]=f("a",{href:"https://wa.me/971589831967",target:"_blank",rel:"noopener"},"WhatsApp us",-1)),f("a",{href:"/#wechat",onClick:e[10]||(e[10]=es((...o)=>s.openWechat&&s.openWechat(...o),["prevent"]))},"Wechat us"),s.showWechat?(O(),L("div",{key:0,class:"wc-qr-overlay",onClick:e[12]||(e[12]=es((...o)=>s.closeWechat&&s.closeWechat(...o),["self"]))},[f("div",NP,[f("button",{class:"wc-qr-close","aria-label":"Close",onClick:e[11]||(e[11]=(...o)=>s.closeWechat&&s.closeWechat(...o))},"×"),f("img",{src:s.wechatQR,alt:"WeChat QR"},null,8,MP)])])):ne("",!0)])])])])):ne("",!0)}const OP=ft(oP,[["render",VP],["__scopeId","data-v-136a6dc0"]]),LP={name:"WonderCartModal1",setup(){const t=zt(),e=400,n=D=>{var F;const x=(((F=D==null?void 0:D.target)==null?void 0:F.value)??"").slice(0,e);x!==t.form.message&&(t.form.message=x)},s=D=>{try{return JSON.parse(D)}catch{return null}},r=D=>{var x;return typeof D=="string"?((x=s(D))==null?void 0:x.name)??D:(D==null?void 0:D.name)??String(D)},i=D=>{var x;return typeof D=="string"?((x=s(D))==null?void 0:x.id)??D:(D==null?void 0:D.id)??String(D)},o=new Date().toISOString().slice(0,10),a=Xe(()=>!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test((t.form.email||"").trim())),c=Xe(()=>{const D=t.form.travelDate;if(!D)return!0;const x=new Date(D+"T00:00:00"),F=new Date(o+"T00:00:00"),z=new Date("2050-12-31T00:00:00");return!(x>=F&&x<=z)}),u=["fuck","shit","bitch","asshole","dumb","trash","cunt","scam","eat dog","kill","sex","chink","ching","chang","Mao","chong","communist","Trump","racist","suicide","ccp","xijinping","Tiananmen","hell","bastard","third-rate","douchebag","covid","flu","bomb","virus","妈","逼","操","垃圾","傻逼","去死","精神","毛泽东","习近平","枪毙","共产","支那","民主","赔钱","六四","自杀","王八","跳楼","新冠","911","boya","炸弹","独立","刘吉利","刘博雅"],h=Xe(()=>!(t.form.message&&t.form.message.trim().length>0)),m=Xe(()=>{const D=(t.form.message||"").toLowerCase();return u.some(x=>D.includes(x))}),g=Xe(()=>a.value||c.value||h.value||m.value||!t.canSubmitNow());async function _(){if(g.value)return;const D={items:t.items.map(x=>{const F=typeof x=="string"?s(x)||{id:x,name:String(x)}:x;return{id:F.id,title:F.name}}),contact:{name:t.form.name||"",email:(t.form.email||"").trim(),phone:[t.form.phoneCc||"",t.form.phoneNumber||""].filter(Boolean).join(" ")},travelDate:t.form.travelDate,message:(t.form.message||"").trim()};try{await L_(D),t.markSubmitted(),t.toast("您的咨询已提交，我们会尽快联系您。"),t.close()}catch(x){console.error(x),t.toast("提交失败，请稍后再试。")}}const R=So(!1);return{cart:t,MESSAGE_LIMIT:e,enforceMsgLimit:n,getName:r,getId:i,todayISO:o,emailErr:a,dateErr:c,msgRequiredErr:h,msgProfanityErr:m,submitDisabled:g,onSubmit:_,wechatQR:cn,showWechat:R,openWechat:()=>{R.value=!0},closeWechat:()=>{R.value=!1},cartIcon:dh,logoGold:Ot,logoText:Bt}}},UP={class:"wc-modal",role:"dialog","aria-modal":"true","aria-label":"WonderCart"},FP={class:"wc-head"},WP={class:"wc-title"},qP=["src"],BP={class:"wc-body"},jP={class:"wc-section"},HP={key:0,class:"wc-empty"},$P={key:1,class:"wc-chips"},zP=["onClick"],GP={class:"wc-section"},KP={key:0,class:"field-err"},QP={class:"wc-grid-2"},JP=["min"],YP={key:1,class:"field-err"},XP=["maxlength"],ZP={class:"wc-count"},e3={key:2,class:"field-err"},t3={key:3,class:"field-err"},n3={class:"wc-logos"},s3=["src"],r3=["src"],i3={class:"wc-foot"},o3=["disabled"],a3=["disabled"],l3={class:"wc-after"},c3={class:"wc-links"},u3={class:"wc-qr-box"},d3=["src"];function h3(t,e,n,s,r,i){return s.cart.isOpen?(O(),L("div",{key:0,class:"wc-overlay",onClick:e[13]||(e[13]=es(o=>s.cart.close(),["self"]))},[f("div",UP,[f("div",FP,[f("h3",WP,[f("img",{src:s.cartIcon,alt:"",class:"wc-title-icon"},null,8,qP),e[14]||(e[14]=f("span",null,"万德购物车",-1))]),f("button",{class:"wc-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>s.cart.close&&s.cart.close(...o))},"×")]),f("div",BP,[f("div",jP,[e[15]||(e[15]=f("h4",null,"已选清单",-1)),s.cart.items.length?(O(),L("div",$P,[(O(!0),L(We,null,It(s.cart.items,o=>(O(),L("span",{key:s.getId(o),class:"wc-chip"},[ce(Y(s.getName(o))+" ",1),f("button",{class:"wc-chip-x",onClick:a=>s.cart.remove(o),"aria-label":"remove"},"×",8,zP)]))),128))])):(O(),L("div",HP," 购物车此时空空如也 — 但请放心您仍然可以提交此表格来概略性咨询。 "))]),f("div",GP,[e[18]||(e[18]=f("h4",null,"您的联系方式",-1)),e[19]||(e[19]=f("label",{class:"wc-l"},"如何称呼您",-1)),Ue(f("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.cart.form.name=o),class:"wc-inp",placeholder:"e.g. Alex"},null,512),[[ze,s.cart.form.name,void 0,{trim:!0}]]),e[20]||(e[20]=f("label",{class:"wc-l"},[ce(" 电子邮箱 "),f("span",{class:"req"},"*")],-1)),Ue(f("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.cart.form.email=o),class:mt(["wc-inp",{err:s.emailErr}]),placeholder:"name@example.com",inputmode:"email"},null,2),[[ze,s.cart.form.email,void 0,{trim:!0}]]),s.emailErr?(O(),L("p",KP,"请输入正确的电子邮箱格式。")):ne("",!0),f("div",QP,[f("div",null,[e[16]||(e[16]=f("label",{class:"wc-l"},"国际区号",-1)),Ue(f("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.cart.form.phoneCc=o),class:"wc-inp",placeholder:"+1,+44,+971,etc."},null,512),[[ze,s.cart.form.phoneCc,void 0,{trim:!0}]])]),f("div",null,[e[17]||(e[17]=f("label",{class:"wc-l"},"电话号码",-1)),Ue(f("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.cart.form.phoneNumber=o),class:"wc-inp",placeholder:"5xxxxxxx"},null,512),[[ze,s.cart.form.phoneNumber,void 0,{trim:!0}]])])]),e[21]||(e[21]=f("label",{class:"wc-l"},[ce(" 旅行时间 (YYYY-MM-DD) "),f("span",{class:"req"},"*")],-1)),Ue(f("input",{type:"date",class:mt(["wc-inp",{err:s.dateErr}]),"onUpdate:modelValue":e[5]||(e[5]=o=>s.cart.form.travelDate=o),min:s.todayISO,max:"2050-12-31"},null,10,JP),[[ze,s.cart.form.travelDate]]),s.dateErr?(O(),L("p",YP,"请选择一个从今天起算的日期。")):ne("",!0),e[22]||(e[22]=f("label",{class:"wc-l"},[ce(" 您的咨询内容 "),f("span",{class:"req"},"*")],-1)),Ue(f("textarea",{"onUpdate:modelValue":e[6]||(e[6]=o=>s.cart.form.message=o),class:mt(["wc-inp",{err:s.msgRequiredErr||s.msgProfanityErr}]),rows:"4",placeholder:"告诉我们您的出行计划, 接您的地点, 有什么特殊要求...",maxlength:s.MESSAGE_LIMIT,onInput:e[7]||(e[7]=(...o)=>s.enforceMsgLimit&&s.enforceMsgLimit(...o))},null,42,XP),[[ze,s.cart.form.message,void 0,{trim:!0}]]),f("div",ZP,Y((s.cart.form.message||"").length)+"/"+Y(s.MESSAGE_LIMIT),1),s.msgRequiredErr?(O(),L("p",e3,"您需要填写咨询内容才能提交咨询表。")):s.msgProfanityErr?(O(),L("p",t3,"请您移除不恰当的文字。")):ne("",!0),e[23]||(e[23]=f("p",{class:"wc-hint"},"通过提交本次咨询表，我同意万德假日通过我提供的信息联系我。",-1)),f("div",n3,[f("img",{src:s.logoGold,alt:"WanderWonderWorld Gold Logo",class:"wc-logo-gold"},null,8,s3),f("img",{src:s.logoText,alt:"WanderWonderWorld Text Logo",class:"wc-logo-text"},null,8,r3)])])]),f("div",i3,[f("button",{class:"wc-btn wc-light",onClick:e[8]||(e[8]=(...o)=>s.cart.clear&&s.cart.clear(...o)),disabled:!s.cart.items.length},"清除全部",8,o3),f("button",{class:"wc-btn wc-primary",onClick:e[9]||(e[9]=(...o)=>s.onSubmit&&s.onSubmit(...o)),disabled:s.submitDisabled},"提交咨询",8,a3)]),f("div",l3,[e[26]||(e[26]=f("p",null,[ce(" 我们通常会在 "),f("strong",null,"3个工作日内"),ce("通过发送电子邮件回复您的讯息；如果您没收到邮件，请检查垃圾箱。也可快速联系： ")],-1)),f("div",c3,[e[24]||(e[24]=f("a",{href:"mailto:info@wanderwonderworlddubai.com"},"邮件联系",-1)),e[25]||(e[25]=f("a",{href:"https://wa.me/971589831967",target:"_blank",rel:"noopener"},"WhatsApp 我们",-1)),f("a",{href:"/#wechat",onClick:e[10]||(e[10]=es((...o)=>s.openWechat&&s.openWechat(...o),["prevent"]))},"微信扫一扫"),s.showWechat?(O(),L("div",{key:0,class:"wc-qr-overlay",onClick:e[12]||(e[12]=es((...o)=>s.closeWechat&&s.closeWechat(...o),["self"]))},[f("div",u3,[f("button",{class:"wc-qr-close","aria-label":"Close",onClick:e[11]||(e[11]=(...o)=>s.closeWechat&&s.closeWechat(...o))},"×"),f("img",{src:s.wechatQR,alt:"WeChat QR"},null,8,d3)])])):ne("",!0)])])])])):ne("",!0)}const f3=ft(LP,[["render",h3],["__scopeId","data-v-02338a8d"]]),p3={name:"App",components:{WonderCartModal:OP,WonderCartModal1:f3},data(){return{isMenuOpen:!1,mailIcon:Yk,cartIcon:dh,zhMode:!!(typeof window<"u"&&window.location.pathname.startsWith("/cn")),navTextEn:{home:"Home",transfers:"Private Transfers",packages:"Tour Package",safari:"Desert Safari",city:"City Tour",cruise:"Dhow Cruise",cart:"WonderCart"},navTextZh:{home:"首页",transfers:"专车接送",packages:"旅游套餐",safari:"沙漠冲沙",city:"城市一日游",cruise:"游船晚餐",cart:"万德购物车"},routeNamePair:{Home:"HomeZh",HomeZh:"Home",Transfers:"TransfersZh",TransfersZh:"Transfers",Packages:"PackagesZh",PackagesZh:"Packages",Safari:"SafariZh",SafariZh:"Safari",City:"CityZh",CityZh:"City",Cruise:"CruiseZh",CruiseZh:"Cruise"}}},computed:{cart(){return zt()},navText(){return this.zhMode?this.navTextZh:this.navTextEn},navPaths(){return this.zhMode?{home:"/cn",transfers:"/cn/transfers",packages:"/cn/packages",safari:"/cn/safari",city:"/cn/city",cruise:"/cn/cruise"}:{home:"/",transfers:"/transfers",packages:"/packages",safari:"/safari",city:"/city",cruise:"/cruise"}}},mounted(){var e,n;if(this.cart.hydrate(),localStorage.getItem("zhMode")===null)localStorage.setItem("zhMode",this.zhMode?"1":"0");else{const s=(((e=this.$route)==null?void 0:e.path)||"").startsWith("/cn")||/Zh$/.test(((n=this.$route)==null?void 0:n.name)||"");s!==this.zhMode&&(this.zhMode=s,localStorage.setItem("zhMode",this.zhMode?"1":"0"))}},watch:{$route(t){const e=((t==null?void 0:t.path)||"").startsWith("/cn")||/Zh$/.test((t==null?void 0:t.name)||"");e!==this.zhMode&&(this.zhMode=e,localStorage.setItem("zhMode",e?"1":"0"))}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},closeMenu(){this.isMenuOpen=!1},toggleLang(){const t=!this.zhMode;this.zhMode=t,localStorage.setItem("zhMode",t?"1":"0");const e=this.$route.name,n=this.routeNamePair[e];n?this.$router.replace({name:n}):this.$router.replace({path:t?"/cn":"/"})}}},m3={id:"app"},g3={class:"site-header"},v3={class:"topbar"},_3={class:"bar-inner"},y3={class:"email-info"},b3=["src"],w3={class:"navbar"},E3={class:"bar-inner"},T3={class:"email-inline"},A3=["src"],I3=["src"],C3={key:0},S3={key:2,class:"global-toast"},R3={class:"selected-services",role:"navigation","aria-label":"Selected Services"},k3={class:"ss-inner"},P3={class:"ss-grid"};function D3(t,e,n,s,r,i){const o=dt("router-link"),a=dt("WonderCartModal"),c=dt("WonderCartModal1"),u=dt("router-view");return O(),L("div",m3,[f("header",g3,[f("div",v3,[f("div",_3,[f("div",y3,[f("img",{src:r.mailIcon,alt:"Email Icon"},null,8,b3),e[4]||(e[4]=f("a",{class:"email-link",href:"mailto:info@wanderwonderworlddubai.com"}," info@wanderwonderworlddubai.com ",-1))]),f("button",{class:"menu-toggle",onClick:e[0]||(e[0]=(...h)=>i.toggleMenu&&i.toggleMenu(...h)),"aria-label":"Toggle menu"},"☰")])]),f("div",w3,[f("div",E3,[f("nav",{class:mt({open:r.isMenuOpen}),onClick:e[3]||(e[3]=es((...h)=>i.closeMenu&&i.closeMenu(...h),["self"]))},[f("div",T3,[f("img",{src:r.mailIcon,alt:"Email Icon"},null,8,A3),e[5]||(e[5]=f("a",{class:"email-link",href:"mailto:info@wanderwonderworlddubai.com"}," info@wanderwonderworlddubai.com ",-1))]),U(o,{to:i.navPaths.home},{default:Qe(()=>[ce(Y(i.navText.home),1)]),_:1},8,["to"]),U(o,{to:i.navPaths.transfers},{default:Qe(()=>[ce(Y(i.navText.transfers),1)]),_:1},8,["to"]),U(o,{to:i.navPaths.packages},{default:Qe(()=>[ce(Y(i.navText.packages),1)]),_:1},8,["to"]),U(o,{to:i.navPaths.safari},{default:Qe(()=>[ce(Y(i.navText.safari),1)]),_:1},8,["to"]),U(o,{to:i.navPaths.city},{default:Qe(()=>[ce(Y(i.navText.city),1)]),_:1},8,["to"]),U(o,{to:i.navPaths.cruise},{default:Qe(()=>[ce(Y(i.navText.cruise),1)]),_:1},8,["to"]),f("button",{class:"nav-lang",type:"button",onClick:e[1]||(e[1]=(...h)=>i.toggleLang&&i.toggleLang(...h))},"EN / 中"),f("button",{class:"nav-cart",type:"button",onClick:e[2]||(e[2]=es(h=>i.cart.open(),["stop"]))},[f("img",{src:r.cartIcon,alt:"WonderCart"},null,8,I3),f("span",null,Y(i.navText.cart),1),i.cart.items.length?(O(),L("sup",C3,Y(i.cart.items.length),1)):ne("",!0)])],2)])])]),r.zhMode?(O(),za(c,{key:1})):(O(),za(a,{key:0})),i.cart.showToast?(O(),L("div",S3,Y(i.cart.toastMsg),1)):ne("",!0),U(u),f("footer",R3,[f("div",k3,[e[17]||(e[17]=f("h3",null,"Selected Services",-1)),f("div",P3,[U(o,{class:"ss-btn",to:"/transfers"},{default:Qe(()=>[...e[6]||(e[6]=[ce("Airport Transfers",-1)])]),_:1}),U(o,{class:"ss-btn",to:"/package/56nights"},{default:Qe(()=>[...e[7]||(e[7]=[ce("6 Nights Signature Plus",-1)])]),_:1}),U(o,{class:"ss-btn",to:"/safari/upsafari"},{default:Qe(()=>[...e[8]||(e[8]=[ce("Extended Dunes Thrill",-1)])]),_:1}),U(o,{class:"ss-btn",to:"/safari/upsafari"},{default:Qe(()=>[...e[9]||(e[9]=[ce("Royal Dunes Safari",-1)])]),_:1}),U(o,{class:"ss-btn",to:"/safari/addon"},{default:Qe(()=>[...e[10]||(e[10]=[ce("Buggy Ride (2-Seater)",-1)])]),_:1}),U(o,{class:"ss-btn",to:"/city/city34"},{default:Qe(()=>[...e[11]||(e[11]=[ce("Abu Dhabi Culture Day",-1)])]),_:1}),U(o,{class:"ss-btn",to:"/city/city34"},{default:Qe(()=>[...e[12]||(e[12]=[ce("Hatta Mountain Escape",-1)])]),_:1}),U(o,{class:"ss-btn",to:"/city/sndcruise"},{default:Qe(()=>[...e[13]||(e[13]=[ce("Dubai Water Canal Glassboat Dinner",-1)])]),_:1}),U(o,{class:"ss-btn",to:"/city/sndcruise"},{default:Qe(()=>[...e[14]||(e[14]=[ce("Lotus Mega Yacht Dinner",-1)])]),_:1}),U(o,{class:"ss-btn",to:"/contact"},{default:Qe(()=>[...e[15]||(e[15]=[ce("About Us",-1)])]),_:1}),U(o,{class:"ss-btn",to:"/contact"},{default:Qe(()=>[...e[16]||(e[16]=[ce("Terms and Conditions",-1)])]),_:1})]),e[18]||(e[18]=f("div",{class:"copyright"}," Copyright © 2025. WanderWonderWorld. All Rights Reserved. ",-1))])])])}const x3=ft(p3,[["render",D3],["__scopeId","data-v-c01af89f"]]),N3="modulepreload",M3=function(t){return"/"+t},Rm={},rt=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=M3(c),c in Rm)return;Rm[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":N3,u||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),u)return new Promise((g,_)=>{m.addEventListener("load",g),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Nr=typeof document<"u";function ob(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function V3(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&ob(t.default)}const Ne=Object.assign;function Hc(t,e){const n={};for(const s in e){const r=e[s];n[s]=wn(r)?r.map(t):t(r)}return n}const zi=()=>{},wn=Array.isArray,ab=/#/g,O3=/&/g,L3=/\//g,U3=/=/g,F3=/\?/g,lb=/\+/g,W3=/%5B/g,q3=/%5D/g,cb=/%5E/g,B3=/%60/g,ub=/%7B/g,j3=/%7C/g,db=/%7D/g,H3=/%20/g;function hh(t){return encodeURI(""+t).replace(j3,"|").replace(W3,"[").replace(q3,"]")}function $3(t){return hh(t).replace(ub,"{").replace(db,"}").replace(cb,"^")}function Nu(t){return hh(t).replace(lb,"%2B").replace(H3,"+").replace(ab,"%23").replace(O3,"%26").replace(B3,"`").replace(ub,"{").replace(db,"}").replace(cb,"^")}function z3(t){return Nu(t).replace(U3,"%3D")}function G3(t){return hh(t).replace(ab,"%23").replace(F3,"%3F")}function K3(t){return t==null?"":G3(t).replace(L3,"%2F")}function ho(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Q3=/\/$/,J3=t=>t.replace(Q3,"");function $c(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=eD(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:ho(o)}}function Y3(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function km(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function X3(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Yr(e.matched[s],n.matched[r])&&hb(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Yr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function hb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Z3(t[n],e[n]))return!1;return!0}function Z3(t,e){return wn(t)?Pm(t,e):wn(e)?Pm(e,t):t===e}function Pm(t,e){return wn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function eD(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const ms={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var fo;(function(t){t.pop="pop",t.push="push"})(fo||(fo={}));var Gi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Gi||(Gi={}));function tD(t){if(!t)if(Nr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),J3(t)}const nD=/^[^#]+#/;function sD(t,e){return t.replace(nD,"#")+e}function rD(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Vl=()=>({left:window.scrollX,top:window.scrollY});function iD(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=rD(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Dm(t,e){return(history.state?history.state.position-e:-1)+t}const Mu=new Map;function oD(t,e){Mu.set(t,e)}function aD(t){const e=Mu.get(t);return Mu.delete(t),e}let lD=()=>location.protocol+"//"+location.host;function fb(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),km(c,"")}return km(n,t)+s+r}function cD(t,e,n,s){let r=[],i=[],o=null;const a=({state:g})=>{const _=fb(t,location),R=n.value,N=e.value;let M=0;if(g){if(n.value=_,e.value=g,o&&o===R){o=null;return}M=N?g.position-N.position:0}else s(_);r.forEach(D=>{D(n.value,R,{delta:M,type:fo.pop,direction:M?M>0?Gi.forward:Gi.back:Gi.unknown})})};function c(){o=n.value}function u(g){r.push(g);const _=()=>{const R=r.indexOf(g);R>-1&&r.splice(R,1)};return i.push(_),_}function h(){const{history:g}=window;g.state&&g.replaceState(Ne({},g.state,{scroll:Vl()}),"")}function m(){for(const g of i)g();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:u,destroy:m}}function xm(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Vl():null}}function uD(t){const{history:e,location:n}=window,s={value:fb(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,u,h){const m=t.indexOf("#"),g=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+c:lD()+t+c;try{e[h?"replaceState":"pushState"](u,"",g),r.value=u}catch(_){console.error(_),n[h?"replace":"assign"](g)}}function o(c,u){const h=Ne({},e.state,xm(r.value.back,c,r.value.forward,!0),u,{position:r.value.position});i(c,h,!0),s.value=c}function a(c,u){const h=Ne({},r.value,e.state,{forward:c,scroll:Vl()});i(h.current,h,!0);const m=Ne({},xm(s.value,c,null),{position:h.position+1},u);i(c,m,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function dD(t){t=tD(t);const e=uD(t),n=cD(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Ne({location:"",base:t,go:s,createHref:sD.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function hD(t){return typeof t=="string"||t&&typeof t=="object"}function pb(t){return typeof t=="string"||typeof t=="symbol"}const mb=Symbol("");var Nm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Nm||(Nm={}));function Xr(t,e){return Ne(new Error,{type:t,[mb]:!0},e)}function zn(t,e){return t instanceof Error&&mb in t&&(e==null||!!(t.type&e))}const Mm="[^/]+?",fD={sensitive:!1,strict:!1,start:!0,end:!0},pD=/[.+*?^${}()[\]/\\]/g;function mD(t,e){const n=Ne({},fD,e),s=[];let r=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let m=0;m<u.length;m++){const g=u[m];let _=40+(n.sensitive?.25:0);if(g.type===0)m||(r+="/"),r+=g.value.replace(pD,"\\$&"),_+=40;else if(g.type===1){const{value:R,repeatable:N,optional:M,regexp:D}=g;i.push({name:R,repeatable:N,optional:M});const x=D||Mm;if(x!==Mm){_+=10;try{new RegExp(`(${x})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${R}" (${x}): `+z.message)}}let F=N?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;m||(F=M&&u.length<2?`(?:/${F})`:"/"+F),M&&(F+="?"),r+=F,_+=20,M&&(_+=-8),N&&(_+=-20),x===".*"&&(_+=-50)}h.push(_)}s.push(h)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const h=u.match(o),m={};if(!h)return null;for(let g=1;g<h.length;g++){const _=h[g]||"",R=i[g-1];m[R.name]=_&&R.repeatable?_.split("/"):_}return m}function c(u){let h="",m=!1;for(const g of t){(!m||!h.endsWith("/"))&&(h+="/"),m=!1;for(const _ of g)if(_.type===0)h+=_.value;else if(_.type===1){const{value:R,repeatable:N,optional:M}=_,D=R in u?u[R]:"";if(wn(D)&&!N)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const x=wn(D)?D.join("/"):D;if(!x)if(M)g.length<2&&(h.endsWith("/")?h=h.slice(0,-1):m=!0);else throw new Error(`Missing required param "${R}"`);h+=x}}return h||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function gD(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function gb(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=gD(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Vm(s))return 1;if(Vm(r))return-1}return r.length-s.length}function Vm(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const vD={type:0,value:""},_D=/[a-zA-Z0-9_]/;function yD(t){if(!t)return[[]];if(t==="/")return[[vD]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(_){throw new Error(`ERR (${n})/"${u}": ${_}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,u="",h="";function m(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function g(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(u&&m(),o()):c===":"?(m(),n=1):g();break;case 4:g(),n=s;break;case 1:c==="("?n=2:_D.test(c)?g():(m(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:m(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),m(),o(),r}function bD(t,e,n){const s=mD(yD(t.path),n),r=Ne(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function wD(t,e){const n=[],s=new Map;e=Fm({strict:!1,end:!0,sensitive:!1},e);function r(m){return s.get(m)}function i(m,g,_){const R=!_,N=Lm(m);N.aliasOf=_&&_.record;const M=Fm(e,m),D=[N];if("alias"in m){const z=typeof m.alias=="string"?[m.alias]:m.alias;for(const oe of z)D.push(Lm(Ne({},N,{components:_?_.record.components:N.components,path:oe,aliasOf:_?_.record:N})))}let x,F;for(const z of D){const{path:oe}=z;if(g&&oe[0]!=="/"){const fe=g.record.path,C=fe[fe.length-1]==="/"?"":"/";z.path=g.record.path+(oe&&C+oe)}if(x=bD(z,g,M),_?_.alias.push(x):(F=F||x,F!==x&&F.alias.push(x),R&&m.name&&!Um(x)&&o(m.name)),vb(x)&&c(x),N.children){const fe=N.children;for(let C=0;C<fe.length;C++)i(fe[C],x,_&&_.children[C])}_=_||x}return F?()=>{o(F)}:zi}function o(m){if(pb(m)){const g=s.get(m);g&&(s.delete(m),n.splice(n.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=n.indexOf(m);g>-1&&(n.splice(g,1),m.record.name&&s.delete(m.record.name),m.children.forEach(o),m.alias.forEach(o))}}function a(){return n}function c(m){const g=AD(m,n);n.splice(g,0,m),m.record.name&&!Um(m)&&s.set(m.record.name,m)}function u(m,g){let _,R={},N,M;if("name"in m&&m.name){if(_=s.get(m.name),!_)throw Xr(1,{location:m});M=_.record.name,R=Ne(Om(g.params,_.keys.filter(F=>!F.optional).concat(_.parent?_.parent.keys.filter(F=>F.optional):[]).map(F=>F.name)),m.params&&Om(m.params,_.keys.map(F=>F.name))),N=_.stringify(R)}else if(m.path!=null)N=m.path,_=n.find(F=>F.re.test(N)),_&&(R=_.parse(N),M=_.record.name);else{if(_=g.name?s.get(g.name):n.find(F=>F.re.test(g.path)),!_)throw Xr(1,{location:m,currentLocation:g});M=_.record.name,R=Ne({},g.params,m.params),N=_.stringify(R)}const D=[];let x=_;for(;x;)D.unshift(x.record),x=x.parent;return{name:M,path:N,params:R,matched:D,meta:TD(D)}}t.forEach(m=>i(m));function h(){n.length=0,s.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:r}}function Om(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Lm(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ED(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function ED(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Um(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function TD(t){return t.reduce((e,n)=>Ne(e,n.meta),{})}function Fm(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function AD(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;gb(t,e[i])<0?s=i:n=i+1}const r=ID(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function ID(t){let e=t;for(;e=e.parent;)if(vb(e)&&gb(t,e)===0)return e}function vb({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function CD(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(lb," "),o=i.indexOf("="),a=ho(o<0?i:i.slice(0,o)),c=o<0?null:ho(i.slice(o+1));if(a in e){let u=e[a];wn(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function Wm(t){let e="";for(let n in t){const s=t[n];if(n=z3(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(wn(s)?s.map(i=>i&&Nu(i)):[s&&Nu(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function SD(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=wn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const RD=Symbol(""),qm=Symbol(""),fh=Symbol(""),_b=Symbol(""),Vu=Symbol("");function Ti(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ys(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,c)=>{const u=g=>{g===!1?c(Xr(4,{from:n,to:e})):g instanceof Error?c(g):hD(g)?c(Xr(2,{from:e,to:g})):(o&&s.enterCallbacks[r]===o&&typeof g=="function"&&o.push(g),a())},h=i(()=>t.call(s&&s.instances[r],e,n,u));let m=Promise.resolve(h);t.length<3&&(m=m.then(u)),m.catch(g=>c(g))})}function zc(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(ob(c)){const h=(c.__vccOpts||c)[e];h&&i.push(ys(h,n,s,o,a,r))}else{let u=c();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const m=V3(h)?h.default:h;o.mods[a]=h,o.components[a]=m;const _=(m.__vccOpts||m)[e];return _&&ys(_,n,s,o,a,r)()}))}}return i}function Bm(t){const e=On(fh),n=On(_b),s=Xe(()=>{const c=qr(t.to);return e.resolve(c)}),r=Xe(()=>{const{matched:c}=s.value,{length:u}=c,h=c[u-1],m=n.matched;if(!h||!m.length)return-1;const g=m.findIndex(Yr.bind(null,h));if(g>-1)return g;const _=jm(c[u-2]);return u>1&&jm(h)===_&&m[m.length-1].path!==_?m.findIndex(Yr.bind(null,c[u-2])):g}),i=Xe(()=>r.value>-1&&ND(n.params,s.value.params)),o=Xe(()=>r.value>-1&&r.value===n.matched.length-1&&hb(n.params,s.value.params));function a(c={}){if(xD(c)){const u=e[qr(t.replace)?"replace":"push"](qr(t.to)).catch(zi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:s,href:Xe(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function kD(t){return t.length===1?t[0]:t}const PD=Iy({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Bm,setup(t,{slots:e}){const n=Co(Bm(t)),{options:s}=On(fh),r=Xe(()=>({[Hm(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Hm(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&kD(e.default(n));return t.custom?i:ch("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),DD=PD;function xD(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ND(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!wn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function jm(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Hm=(t,e,n)=>t??e??n,MD=Iy({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=On(Vu),r=Xe(()=>t.route||s.value),i=On(qm,0),o=Xe(()=>{let u=qr(i);const{matched:h}=r.value;let m;for(;(m=h[u])&&!m.components;)u++;return u}),a=Xe(()=>r.value.matched[o.value]);ma(qm,Xe(()=>o.value+1)),ma(RD,a),ma(Vu,r);const c=So();return Bi(()=>[c.value,a.value,t.name],([u,h,m],[g,_,R])=>{h&&(h.instances[m]=u,_&&_!==h&&u&&u===g&&(h.leaveGuards.size||(h.leaveGuards=_.leaveGuards),h.updateGuards.size||(h.updateGuards=_.updateGuards))),u&&h&&(!_||!Yr(h,_)||!g)&&(h.enterCallbacks[m]||[]).forEach(N=>N(u))},{flush:"post"}),()=>{const u=r.value,h=t.name,m=a.value,g=m&&m.components[h];if(!g)return $m(n.default,{Component:g,route:u});const _=m.props[h],R=_?_===!0?u.params:typeof _=="function"?_(u):_:null,M=ch(g,Ne({},R,e,{onVnodeUnmounted:D=>{D.component.isUnmounted&&(m.instances[h]=null)},ref:c}));return $m(n.default,{Component:M,route:u})||M}}});function $m(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const VD=MD;function OD(t){const e=wD(t.routes,t),n=t.parseQuery||CD,s=t.stringifyQuery||Wm,r=t.history,i=Ti(),o=Ti(),a=Ti(),c=XS(ms);let u=ms;Nr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Hc.bind(null,q=>""+q),m=Hc.bind(null,K3),g=Hc.bind(null,ho);function _(q,se){let Z,ie;return pb(q)?(Z=e.getRecordMatcher(q),ie=se):ie=q,e.addRoute(ie,Z)}function R(q){const se=e.getRecordMatcher(q);se&&e.removeRoute(se)}function N(){return e.getRoutes().map(q=>q.record)}function M(q){return!!e.getRecordMatcher(q)}function D(q,se){if(se=Ne({},se||c.value),typeof q=="string"){const k=$c(n,q,se.path),B=e.resolve({path:k.path},se),$=r.createHref(k.fullPath);return Ne(k,B,{params:g(B.params),hash:ho(k.hash),redirectedFrom:void 0,href:$})}let Z;if(q.path!=null)Z=Ne({},q,{path:$c(n,q.path,se.path).path});else{const k=Ne({},q.params);for(const B in k)k[B]==null&&delete k[B];Z=Ne({},q,{params:m(k)}),se.params=m(se.params)}const ie=e.resolve(Z,se),Pe=q.hash||"";ie.params=h(g(ie.params));const E=Y3(s,Ne({},q,{hash:$3(Pe),path:ie.path})),I=r.createHref(E);return Ne({fullPath:E,hash:Pe,query:s===Wm?SD(q.query):q.query||{}},ie,{redirectedFrom:void 0,href:I})}function x(q){return typeof q=="string"?$c(n,q,c.value.path):Ne({},q)}function F(q,se){if(u!==q)return Xr(8,{from:se,to:q})}function z(q){return C(q)}function oe(q){return z(Ne(x(q),{replace:!0}))}function fe(q){const se=q.matched[q.matched.length-1];if(se&&se.redirect){const{redirect:Z}=se;let ie=typeof Z=="function"?Z(q):Z;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=x(ie):{path:ie},ie.params={}),Ne({query:q.query,hash:q.hash,params:ie.path!=null?{}:q.params},ie)}}function C(q,se){const Z=u=D(q),ie=c.value,Pe=q.state,E=q.force,I=q.replace===!0,k=fe(Z);if(k)return C(Ne(x(k),{state:typeof k=="object"?Ne({},Pe,k.state):Pe,force:E,replace:I}),se||Z);const B=Z;B.redirectedFrom=se;let $;return!E&&X3(s,ie,Z)&&($=Xr(16,{to:B,from:ie}),en(ie,ie,!0,!1)),($?Promise.resolve($):T(B,ie)).catch(j=>zn(j)?zn(j,2)?j:hn(j):Te(j,B,ie)).then(j=>{if(j){if(zn(j,2))return C(Ne({replace:I},x(j.to),{state:typeof j.to=="object"?Ne({},Pe,j.to.state):Pe,force:E}),se||B)}else j=A(B,ie,!0,I,Pe);return S(B,ie,j),j})}function b(q,se){const Z=F(q,se);return Z?Promise.reject(Z):Promise.resolve()}function y(q){const se=ls.values().next().value;return se&&typeof se.runWithContext=="function"?se.runWithContext(q):q()}function T(q,se){let Z;const[ie,Pe,E]=LD(q,se);Z=zc(ie.reverse(),"beforeRouteLeave",q,se);for(const k of ie)k.leaveGuards.forEach(B=>{Z.push(ys(B,q,se))});const I=b.bind(null,q,se);return Z.push(I),jt(Z).then(()=>{Z=[];for(const k of i.list())Z.push(ys(k,q,se));return Z.push(I),jt(Z)}).then(()=>{Z=zc(Pe,"beforeRouteUpdate",q,se);for(const k of Pe)k.updateGuards.forEach(B=>{Z.push(ys(B,q,se))});return Z.push(I),jt(Z)}).then(()=>{Z=[];for(const k of E)if(k.beforeEnter)if(wn(k.beforeEnter))for(const B of k.beforeEnter)Z.push(ys(B,q,se));else Z.push(ys(k.beforeEnter,q,se));return Z.push(I),jt(Z)}).then(()=>(q.matched.forEach(k=>k.enterCallbacks={}),Z=zc(E,"beforeRouteEnter",q,se,y),Z.push(I),jt(Z))).then(()=>{Z=[];for(const k of o.list())Z.push(ys(k,q,se));return Z.push(I),jt(Z)}).catch(k=>zn(k,8)?k:Promise.reject(k))}function S(q,se,Z){a.list().forEach(ie=>y(()=>ie(q,se,Z)))}function A(q,se,Z,ie,Pe){const E=F(q,se);if(E)return E;const I=se===ms,k=Nr?history.state:{};Z&&(ie||I?r.replace(q.fullPath,Ne({scroll:I&&k&&k.scroll},Pe)):r.push(q.fullPath,Pe)),c.value=q,en(q,se,Z,I),hn()}let w;function xe(){w||(w=r.listen((q,se,Z)=>{if(!Tn.listening)return;const ie=D(q),Pe=fe(ie);if(Pe){C(Ne(Pe,{replace:!0,force:!0}),ie).catch(zi);return}u=ie;const E=c.value;Nr&&oD(Dm(E.fullPath,Z.delta),Vl()),T(ie,E).catch(I=>zn(I,12)?I:zn(I,2)?(C(Ne(x(I.to),{force:!0}),ie).then(k=>{zn(k,20)&&!Z.delta&&Z.type===fo.pop&&r.go(-1,!1)}).catch(zi),Promise.reject()):(Z.delta&&r.go(-Z.delta,!1),Te(I,ie,E))).then(I=>{I=I||A(ie,E,!1),I&&(Z.delta&&!zn(I,8)?r.go(-Z.delta,!1):Z.type===fo.pop&&zn(I,20)&&r.go(-1,!1)),S(ie,E,I)}).catch(zi)}))}let st=Ti(),Oe=Ti(),ge;function Te(q,se,Z){hn(q);const ie=Oe.list();return ie.length?ie.forEach(Pe=>Pe(q,se,Z)):console.error(q),Promise.reject(q)}function Gt(){return ge&&c.value!==ms?Promise.resolve():new Promise((q,se)=>{st.add([q,se])})}function hn(q){return ge||(ge=!q,xe(),st.list().forEach(([se,Z])=>q?Z(q):se()),st.reset()),q}function en(q,se,Z,ie){const{scrollBehavior:Pe}=t;if(!Nr||!Pe)return Promise.resolve();const E=!Z&&aD(Dm(q.fullPath,0))||(ie||!Z)&&history.state&&history.state.scroll||null;return sh().then(()=>Pe(q,se,E)).then(I=>I&&iD(I)).catch(I=>Te(I,q,se))}const Ge=q=>r.go(q);let Ke;const ls=new Set,Tn={currentRoute:c,listening:!0,addRoute:_,removeRoute:R,clearRoutes:e.clearRoutes,hasRoute:M,getRoutes:N,resolve:D,options:t,push:z,replace:oe,go:Ge,back:()=>Ge(-1),forward:()=>Ge(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Oe.add,isReady:Gt,install(q){const se=this;q.component("RouterLink",DD),q.component("RouterView",VD),q.config.globalProperties.$router=se,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>qr(c)}),Nr&&!Ke&&c.value===ms&&(Ke=!0,z(r.location).catch(Pe=>{}));const Z={};for(const Pe in ms)Object.defineProperty(Z,Pe,{get:()=>c.value[Pe],enumerable:!0});q.provide(fh,se),q.provide(_b,uy(Z)),q.provide(Vu,c);const ie=q.unmount;ls.add(q),q.unmount=function(){ls.delete(q),ls.size<1&&(u=ms,w&&w(),w=null,c.value=ms,Ke=!1,ge=!1),ie()}}};function jt(q){return q.reduce((se,Z)=>se.then(()=>y(Z)),Promise.resolve())}return Tn}function LD(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Yr(u,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(u=>Yr(u,c))||r.push(c))}return[n,s,r]}const UD=[{id:"2025-09-aed50-safari",title:"Autumn Deal: AED 50 OFF on Desert Safari",body:"Book by Dec 30 to save AED 80 per person on evening safari.",ctaText:"Book Safari",ctaLink:"/safari",startAt:"2025-09-01",endAt:"2025-09-30",pin:!0,variant:"success",priority:10},{id:"2025-09-transfer-drop",title:"Airport Transfer price drop",body:"DXB → Dubai City from AED 190 (SUV). Limited time.",ctaText:"See Transfers",ctaLink:"/transfers",startAt:"2025-09-05",endAt:"2025-09-20",variant:"info",priority:5},{id:"ops-2025-09-note",title:"Service notice",body:"Some routes may have peak-season surcharges during public holidays.",startAt:"2025-09-01",variant:"warning"}],FD={name:"NewsBoard",data(){return{raw:UD,limit:2,expanded:!1,collapsed:JSON.parse(localStorage.getItem("news_collapsed")||"false")}},computed:{now(){return new Date},filtered(){return this.raw.filter(t=>this.inWindow(t)).filter(t=>!this.isDismissed(t.id))},activeNews(){return[...this.filtered].sort((t,e)=>{if((e.pin?1:0)!=(t.pin?1:0))return(e.pin?1:0)-(t.pin?1:0);const n=t.priority??0,s=e.priority??0;return s!==n?s-n:new Date(e.startAt||0)-new Date(t.startAt||0)})},visible(){return this.expanded?this.activeNews:this.activeNews.slice(0,this.limit)}},methods:{inWindow(t){const e=t.startAt?new Date(t.startAt):null,n=t.endAt?new Date(t.endAt):null;return!(e&&this.now<e||n&&this.now>n)},isDismissed(t){const e=`news_dismiss_${t}`,n=localStorage.getItem(e);if(!n)return!1;try{const{until:s}=JSON.parse(n);return s&&Date.now()<s}catch{return!1}},dismiss(t,e=7){const n=`news_dismiss_${t}`,s=Date.now()+e*24*60*60*1e3;localStorage.setItem(n,JSON.stringify({until:s}));const r=this.raw.findIndex(i=>i.id===t);r>-1&&this.raw.splice(r,1)},isInternal(t){return typeof t=="string"&&t.startsWith("/")},resetNews(){Object.keys(localStorage).filter(t=>t.startsWith("news_dismiss_")).forEach(t=>localStorage.removeItem(t)),this.raw=[...this.raw]},listenNews(){const t=Ad(dd(ii,"news"),e=>{const n=[];e.forEach(s=>{const r={id:s.id,...s.data()};r.deleted||n.push(r)}),n.length&&(this.raw=n)});this._unsub=t}},mounted(){this.listenNews(),new URLSearchParams(window.location.search).has("resetNews")&&this.resetNews()},beforeUnmount(){this._unsub&&this._unsub()}},WD={key:0,class:"news-card"},qD={class:"news-header"},BD={class:"header-actions"},jD={class:"news-item-head"},HD={class:"title"},$D={key:0,class:"badge"},zD=["onClick"],GD={key:0,class:"body"},KD={key:1,class:"actions"},QD=["href"],JD={key:0,class:"more"};function YD(t,e,n,s,r,i){const o=dt("router-link");return i.activeNews.length?(O(),L("div",WD,[f("div",qD,[e[2]||(e[2]=f("strong",null,"News & Offers",-1)),f("div",BD,[f("button",{class:"link",onClick:e[0]||(e[0]=a=>r.collapsed=!r.collapsed)},Y(r.collapsed?"Show":"Collapse"),1)])]),U(uh,{name:"nb-fade"},{default:Qe(()=>[Ue(f("div",null,[(O(!0),L(We,null,It(i.visible,a=>(O(),L("div",{key:a.id,class:mt(["news-item",`v-${a.variant||"info"}`])},[f("div",jD,[f("div",HD,[a.pin?(O(),L("span",$D,"PINNED")):ne("",!0),ce(" "+Y(a.title),1)]),f("button",{class:"close-one",onClick:c=>i.dismiss(a.id),"aria-label":"dismiss"},"×",8,zD)]),a.body?(O(),L("p",GD,Y(a.body),1)):ne("",!0),a.ctaLink||a.ctaText?(O(),L("div",KD,[i.isInternal(a.ctaLink)?(O(),za(o,{key:0,to:a.ctaLink,class:"btn"},{default:Qe(()=>[ce(Y(a.ctaText||"Learn more"),1)]),_:2},1032,["to"])):a.ctaLink?(O(),L("a",{key:1,href:a.ctaLink,target:"_blank",rel:"noopener",class:"btn"},Y(a.ctaText||"Learn more"),9,QD)):ne("",!0)])):ne("",!0)],2))),128)),i.activeNews.length>r.limit?(O(),L("div",JD,[f("button",{class:"link",onClick:e[1]||(e[1]=a=>r.expanded=!r.expanded)},Y(r.expanded?"Show less":`Show all (${i.activeNews.length})`),1)])):ne("",!0)],512),[[Rk,!r.collapsed]])]),_:1})])):ne("",!0)}const yb=ft(FD,[["render",YD],["__scopeId","data-v-ffb328bc"]]),XD={name:"CarCard",props:{image:String,title:String,tour:String,duration:String,price:String,link:String,subtitle:{type:String,default:"Car-With-Driver"}}},ZD={class:"car-card"},e5=["src","alt"],t5={class:"text-xl font-semibold mt-2"},n5={key:0,class:"subtitle"},s5={class:"price"};function r5(t,e,n,s,r,i){const o=dt("router-link");return O(),L("div",ZD,[f("img",{src:n.image,alt:n.title,class:"card-image"},null,8,e5),f("h2",t5,Y(n.title),1),n.subtitle?(O(),L("p",n5,Y(n.subtitle),1)):ne("",!0),f("p",null,[e[0]||(e[0]=f("strong",null,"Tour:",-1)),ce(" "+Y(n.tour),1)]),f("p",null,[e[1]||(e[1]=f("strong",null,"Duration:",-1)),ce(" "+Y(n.duration),1)]),f("p",s5,[e[2]||(e[2]=f("strong",null,"Price:",-1)),e[3]||(e[3]=ce()),f("span",null,Y(n.price),1)]),U(o,{to:n.link},{default:Qe(()=>[...e[4]||(e[4]=[f("button",{class:"learn-more-button"},"Learn More",-1)])]),_:1},8,["to"])])}const un=ft(XD,[["render",r5],["__scopeId","data-v-f0cd4bc0"]]),Ol="/assets/carcard1-N5by6m3c.jpg",Ll="/assets/carcard2-l2Ufwy2b.jpg",Ul="/assets/carcard5-CYa2On14.jpg",Fl="/assets/carcard4-BXRVpOmb.jpg",Wl="/assets/tour1-C72op4bL.jpg",ql="/assets/tour2-B2BsaN1L.jpg",Bl="/assets/tour3-DZwh8xJ2.jpg",jl="/assets/tour4-Bx2oNajN.jpg",Hl="/assets/safaricar1-B0aaVq71.jpg",$l="/assets/safaricar2-DGCuucf5.jpg",zl="/assets/safaricar3-OdoRHaNx.jpg",Gl="/assets/safaricar4-CaBdUuWs.jpg",Kl="/assets/city1-ljg8ail0.jpg",Ql="/assets/city2-IHBb8Zx1.jpg",Jl="/assets/city3-DSHreyRb.jpg",Yl="/assets/city4-B5iN6EO4.jpg",Xl="/assets/boat1-DcNjyaR2.jpg",Zl="/assets/boat2-DCKc4p9N.jpg",ec="/assets/boat3-7eRtgsFc.jpg",tc="/assets/boat4-ClR_npkk.jpg",dn="/assets/whatsapp-icon-BZYLzR_P.png",i5={name:"Home",components:{NewsBoard:yb,CarCard:un},data(){return{currentIndex:0,bannerImages:[new URL("/assets/banner1-DjPx_cAn.jpg",import.meta.url).href,new URL("/assets/banner2-DwLu9nI3.jpg",import.meta.url).href,new URL("/assets/banner3-I6jzlz9s.jpg",import.meta.url).href,new URL("/assets/banner4-CRtfJVKr.jpg",import.meta.url).href,new URL("/assets/banner5-CLWkLY9C.jpg",import.meta.url).href,new URL("/assets/banner9-uIX4Dg8A.jpg",import.meta.url).href],car1:Ol,car2:Ll,car3:Ul,car4:Fl,tp1:Wl,tp2:ql,tp3:Bl,tp4:jl,sf1:Hl,sf2:$l,sf3:zl,sf4:Gl,ct1:Kl,ct2:Ql,ct3:Jl,ct4:Yl,dc1:Xl,dc2:Zl,dc3:ec,dc4:tc,faqs:[{q:"What is Dubai’s historical arc?",a:"Dubai grew from a Gulf trading and pearling port into a logistics and aviation hub, and in the last two decades pivoted to tourism, events, and finance — hence today’s skyline and modern infrastructure.",open:!1},{q:"What cultural etiquette should I know?",a:"The UAE follows Islamic traditions. Dress modestly in public, observe mosque rules and security checks, and expect adjusted hours and entertainment during Ramadan and on dry days.",open:!1},{q:"What’s the climate and how should I plan?",a:"Hot desert climate. We recommend a <em>Heat-Smart</em> rhythm: outdoors in the morning/evening, and indoor attractions (observatories, museums, malls) around midday.",open:!1},{q:"Is it suitable for families and seniors?",a:"Yes. Child/booster seats are available on request; desert programs can switch to gentler morning versions (≥48h notice); midday indoor time keeps the day comfortable for all ages.",open:!1}]}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open}},mounted(){setInterval(()=>{this.currentIndex=(this.currentIndex+1)%this.bannerImages.length},1e4)}},o5={class:"home"},a5={class:"banner-container"},l5=["src"],c5={class:"intro-text"},u5={class:"news-trust-grid"},d5={class:"news-col"},h5={class:"cards-container"},f5={class:"cards-container"},p5={class:"cards-container"},m5={class:"cards-container"},g5={class:"cards-container"},v5={class:"text-card faq-accordion"},_5=["onClick","aria-expanded"],y5={key:0,class:"faq-a"},b5=["innerHTML"];function w5(t,e,n,s,r,i){const o=dt("NewsBoard"),a=dt("CarCard");return O(),L("div",o5,[f("div",a5,[f("img",{src:r.bannerImages[r.currentIndex],alt:"Banner",class:"banner"},null,8,l5),e[0]||(e[0]=f("div",{class:"floating-logos"},[f("img",{src:Ot,alt:"Gold Logo",class:"logo"}),f("img",{src:Bt,alt:"Text Logo",class:"logo-text"})],-1))]),e[11]||(e[11]=f("h2",null,"Welcome to WanderWonderWorldDubai.com",-1)),e[12]||(e[12]=f("p",{class:"slogan"},"Your Journey, Our Passion.",-1)),f("div",c5,[e[3]||(e[3]=f("h3",null,"Dubai Travel & Tourism with a Personal Touch",-1)),e[4]||(e[4]=f("p",null," WanderWonderWorld is your trusted travel companion in Dubai, offering exceptional service and unforgettable experiences. Whether you're arriving in style with our private transfers, exploring the golden desert, or cruising through the city skyline, we craft journeys that match your dreams. Let us guide you through the vibrant heart of the UAE with expert local insight and personalized care. ",-1)),f("div",u5,[f("section",d5,[U(o)]),e[1]||(e[1]=Ee('<section class="trust-col" data-v-8f869d3a><section class="trust" data-v-8f869d3a><h3 class="trust-title" data-v-8f869d3a>Your trusted tour expert in Dubai</h3><div class="trust-stack" data-v-8f869d3a><article class="trust-card trust-lime" data-v-8f869d3a><div class="trust-icon" data-v-8f869d3a><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-8f869d3a><path d="M12 3l7 3v6c0 4.418-3.582 8-8 8s-8-3.582-8-8V6l9-3z" fill="none" stroke="currentColor" stroke-width="1.8" data-v-8f869d3a></path><path d="M9 12l2 2 4-4" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" data-v-8f869d3a></path></svg></div><div class="trust-text" data-v-8f869d3a><h4 data-v-8f869d3a>Licensed &amp; insured</h4><p data-v-8f869d3a> RTA-licensed vehicles and commercially insured drivers. DTCM-compliant tour operations for peace of mind. </p></div></article><article class="trust-card trust-purple" data-v-8f869d3a><div class="trust-icon" data-v-8f869d3a><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-8f869d3a><circle cx="12" cy="12" r="4.5" fill="none" stroke="currentColor" stroke-width="1.8" data-v-8f869d3a></circle><path d="M12 2v3M12 19v3M4.22 4.22l2.12 2.12M17.66 17.66l2.12 2.12M2 12h3M19 12h3M4.22 19.78l2.12-2.12M17.66 6.34l2.12-2.12" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" data-v-8f869d3a></path></svg></div><div class="trust-text" data-v-8f869d3a><h4 data-v-8f869d3a>Heat-Smart pacing</h4><p data-v-8f869d3a> Outdoor in the morning/evening, indoor at noon (views, museums, malls) — a cooler, family-friendly rhythm in summer. </p></div></article><article class="trust-card trust-teal" data-v-8f869d3a><div class="trust-icon" data-v-8f869d3a><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-8f869d3a><circle cx="12" cy="12" r="9" fill="none" stroke="currentColor" stroke-width="1.8" data-v-8f869d3a></circle><circle cx="12" cy="12" r="2.2" fill="none" stroke="currentColor" stroke-width="1.6" data-v-8f869d3a></circle><path d="M3.5 12h7m2.9 0h7M12 3.5v4.8M8.2 18.4l2.2-3.8m5.4 3.8l-2.2-3.8" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" data-v-8f869d3a></path></svg></div><div class="trust-text" data-v-8f869d3a><h4 data-v-8f869d3a>Private driver-guide</h4><p data-v-8f869d3a> English-speaking driver-guides for road &amp; outdoor commentary; licensed guides added for Old Dubai walk or select venues. </p></div></article></div></section></section>',1))]),e[5]||(e[5]=Ee('<div class="whatsapp-wrapper" data-v-8f869d3a><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-8f869d3a><img src="'+dn+'" alt="WhatsApp" data-v-8f869d3a><span class="whatsapp-text" data-v-8f869d3a>Need help? Chat with us!</span></a></div><h3 class="section-title" data-v-8f869d3a>Private Transfers</h3>',2)),f("div",h5,[U(a,{image:r.car1,title:"Airport Transfers",tour:"Dubai City",duration:"Varies",price:"from AED 190",link:"/transfers/short"},null,8,["image"]),U(a,{image:r.car2,title:"Half-Day with Driver",tour:"Dubai City",duration:"5 Hours",price:"from AED 300",link:"/transfers/short"},null,8,["image"]),U(a,{image:r.car3,title:"Full-Day with Driver",tour:"Dubai City",duration:"10 Hours",price:"from AED 510",link:"/transfers/long"},null,8,["image"]),U(a,{image:r.car4,title:"Dubai to Abu Dhabi",tour:"Abu Dhabi",duration:"10 Hours",price:"from AED 610",link:"/transfers/long"},null,8,["image"])]),e[6]||(e[6]=f("h3",{class:"section-title"},"Tour Packages",-1)),f("div",f5,[U(a,{image:r.tp1,title:"3 Nights Dubai Starter",subtitle:"Tour-Package",tour:"Dubai City",duration:"4 Days",price:"Adult from AED 849",link:"/package/34nights"},null,8,["image"]),U(a,{image:r.tp2,title:"4 Nights Family Value",subtitle:"Tour-Package",tour:"Dubai City",duration:"5 Days",price:"Adult from AED 1099",link:"/package/34nights"},null,8,["image"]),U(a,{image:r.tp3,title:"5 Nights Dubai + Abu Dhabi Highlights",subtitle:"Tour-Package",tour:"Dubai + Abu Dhabi",duration:"6 Days",price:"Adult from AED 1349",link:"/package/56nights"},null,8,["image"]),U(a,{image:r.tp4,title:"6 Nights Signature Plus",subtitle:"Tour-Package",tour:"Dubai + Abu Dhabi",duration:"7 Days",price:"Adult from AED 1599",link:"/package/56nights"},null,8,["image"])]),e[7]||(e[7]=f("h3",{class:"section-title"},"Desert Safari",-1)),f("div",p5,[U(a,{image:r.sf1,title:"Morning Dunes Drive",subtitle:"Classic Line",tour:"Morning Private Tour",duration:"4.5 Hours",price:"from AED 500",link:"/safari/regsafari"},null,8,["image"]),U(a,{image:r.sf2,title:"Sunset Dunes Select",subtitle:"Signature Line",tour:"Sunset Private Tour",duration:"6 Hours",price:"from AED 700",link:"/safari/regsafari"},null,8,["image"]),U(a,{image:r.sf3,title:"Extended Dunes Thrill",subtitle:"Prestige Line",tour:"Extended Private Tour",duration:"7 Hours",price:"from AED 1100",link:"/safari/upsafari"},null,8,["image"]),U(a,{image:r.sf4,title:"Royal Dunes Safari",subtitle:"Royal Line",tour:"Luxury Overnight",duration:"16 Hours",price:"from AED 2000",link:"/safari/upsafari"},null,8,["image"])]),e[8]||(e[8]=f("h3",{class:"section-title"},"City Tour",-1)),f("div",m5,[U(a,{image:r.ct1,title:"Half-Day Dubai Essentials",subtitle:"City-Tour-Services",tour:"Dubai City",duration:"5 Hours",price:"from AED 325",link:"/city/city12"},null,8,["image"]),U(a,{image:r.ct2,title:"Full-Day Dubai Panorama",subtitle:"City-Tour-Services",tour:"Dubai City",duration:"10 Hours",price:"from AED 559",link:"/city/city12"},null,8,["image"]),U(a,{image:r.ct3,title:"Abu Dhabi Culture Day",subtitle:"City-Tour-Services",tour:"Abu Dhabi",duration:"10–11 Hours",price:"from AED 659",link:"/city/city34"},null,8,["image"]),U(a,{image:r.ct4,title:"Hatta Mountain Escape",subtitle:"City-Tour-Services",tour:"Hatta",duration:"10–11 Hours",price:"from AED 710",link:"/city/city34"},null,8,["image"])]),e[9]||(e[9]=f("h3",{class:"section-title"},"Dhow Cruise",-1)),f("div",g5,[U(a,{image:r.dc1,title:"Creek Classic Dhow Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Creek (Al Seef)",duration:"1.5–2 Hours",price:"from AED 85",link:"/city/sndcruise"},null,8,["image"]),U(a,{image:r.dc2,title:"Dubai Marina Dhow Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Marina",duration:"2 Hours",price:"from AED 115",link:"/city/sndcruise"},null,8,["image"]),U(a,{image:r.dc3,title:"Water Canal Glassboat Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Canal",duration:"~2 Hours",price:"from AED 149",link:"/city/sndcruise"},null,8,["image"]),U(a,{image:r.dc4,title:"Lotus Mega Yacht Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Marina / Harbour",duration:"3 Hours",price:"from AED 239",link:"/city/sndcruise"},null,8,["image"])]),e[10]||(e[10]=Ee('<div class="text-card" data-v-8f869d3a><h2 data-v-8f869d3a>How to Use WanderWonderWorld — Simple &amp; Clear</h2><ol class="process-list" data-v-8f869d3a><li data-v-8f869d3a><strong data-v-8f869d3a>Browse</strong> any section above — Private Transfers, Tour Packages, Desert Safaris, City Tours, or Dhow Cruises.</li><li data-v-8f869d3a><strong data-v-8f869d3a>Add to WonderCart</strong> by tapping “Add to WonderCart” or “Book now” to collect any services you like.</li><li data-v-8f869d3a><strong data-v-8f869d3a>Open WonderCart</strong> and fill in your name, email, travel date, and a short message. Send multiple items in one request.</li><li data-v-8f869d3a><strong data-v-8f869d3a>Submit</strong> — we’ll reply by email within <em data-v-8f869d3a>3 business days</em>. Need it sooner? Reach us on <a href="https://wa.me/971589831967" target="_blank" rel="noopener" data-v-8f869d3a>WhatsApp</a> or <a href="mailto:info@wanderwonderworlddubai.com" data-v-8f869d3a>Email</a>. </li><li data-v-8f869d3a><strong data-v-8f869d3a>Finalize</strong> — once confirmed, you’ll receive your schedule and pickup details. We reconfirm on WhatsApp 24h before service.</li></ol></div>',1)),f("div",v5,[e[2]||(e[2]=f("h2",null,"FAQs — Dubai in a Nutshell",-1)),(O(!0),L(We,null,It(r.faqs,(c,u)=>(O(),L("div",{key:u,class:"faq-row"},[f("button",{class:"faq-q",onClick:h=>i.toggleFaq(u),"aria-expanded":c.open.toString()},[f("span",{class:mt(["tri",{open:c.open}])},null,2),ce(" "+Y(c.q),1)],8,_5),U(uh,{name:"faq"},{default:Qe(()=>[c.open?(O(),L("div",y5,[f("p",{innerHTML:c.a},null,8,b5)])):ne("",!0)]),_:2},1024)]))),128))])])])}const E5=ft(i5,[["render",w5],["__scopeId","data-v-8f869d3a"]]),En="/assets/banner7-PGLbRrVp.jpg",qn="/assets/WWD-Whatsapp-code-GpOfB0_w.jpg",T5={name:"Transfers",components:{CarCard:un},data(){return{banner:En,logoGold:Ot,logoText:Bt,car1:Ol,car2:Ll,car3:Ul,car4:Fl,faqs:[{question:"Do I need to book my transfer in advance?",answer:"Yes, we recommend booking ahead to secure availability and guarantee your preferred vehicle.",open:!1},{question:"Are airport pick-ups included with waiting time?",answer:"Yes, we provide up to 60 minutes of free waiting at airports. Extra waiting time may incur a small fee.",open:!1},{question:"Can I extend my booking during the trip?",answer:"Yes, extensions are possible based on vehicle availability. Extra charges per hour will apply.",open:!1},{question:"Are entrance tickets or meals included in the price?",answer:"No, prices cover the vehicle and driver only. Attraction tickets, meals, or personal expenses are not included.",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:qn,wechatQR:cn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){zt().open()}}},A5={class:"transfers"},I5={class:"banner-container"},C5=["src"],S5={class:"floating-logos"},R5=["src"],k5=["src"],P5={class:"cards-container"},D5={class:"cta-row-wrapper"},x5={class:"cta-row"},N5={key:0,class:"center-toast",role:"status","aria-live":"polite"},M5={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},V5={class:"qr-modal-box"},O5=["src"],L5={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},U5={class:"qr-modal-box"},F5=["src"],W5={class:"faq-card"},q5=["onClick"],B5={class:"faq-icon"},j5={key:0,class:"faq-answer"};function H5(t,e,n,s,r,i){const o=dt("CarCard");return O(),L("div",A5,[f("div",I5,[f("img",{src:r.banner,alt:"Transfers Banner",class:"banner"},null,8,C5),f("div",S5,[f("img",{src:r.logoGold,alt:"Gold Logo",class:"logo"},null,8,R5),f("img",{src:r.logoText,alt:"Text Logo",class:"logo-text"},null,8,k5)])]),e[8]||(e[8]=Ee('<div class="intro" data-v-347e5e43><h1 data-v-347e5e43>Private Transfers in Dubai — Arrive with Ease</h1><p data-v-347e5e43>Experience Dubai’s allure in comfort and convenience with our top-rated private transfers and car with driver services. At WanderWonderWorld, we offer a fleet of immaculate and well-maintained chauffeur cars with experienced drivers who know the roads of the UAE. We cater to all your needs, from stress-free airport transfers to personalized city tours and business trips. Let us provide a seamless and professional journey that perfectly matches your travel dreams.</p></div><div class="whatsapp-wrapper" data-v-347e5e43><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-347e5e43><img src="'+dn+'" alt="WhatsApp" data-v-347e5e43><span class="whatsapp-text" data-v-347e5e43>Need help? Chat with us!</span></a></div>',2)),f("div",P5,[U(o,{image:r.car1,title:"Airport Transfers",subtitle:"Car-with-Driver",tour:"Dubai City",duration:"Varies",price:"from AED 190",link:"/transfers/short"},null,8,["image"]),U(o,{image:r.car2,title:"Half-Day with Driver",tour:"Dubai City",duration:"5 Hours",price:"from AED 300",link:"/transfers/short"},null,8,["image"]),U(o,{image:r.car3,title:"Full-Day with Driver",tour:"Dubai City",duration:"10 Hours",price:"from AED 510",link:"/transfers/long"},null,8,["image"]),U(o,{image:r.car4,title:"Dubai to Abu Dhabi",tour:"Abu Dhabi",duration:"10 Hours",price:"from AED 610",link:"/transfers/long"},null,8,["image"])]),e[9]||(e[9]=Ee('<div class="text-card" data-v-347e5e43><h2 data-v-347e5e43>Dubai Car with Driver Price List</h2><table class="price-table" data-v-347e5e43><thead data-v-347e5e43><tr data-v-347e5e43><th data-v-347e5e43>Chauffeur Service</th><th data-v-347e5e43>Car Type</th><th data-v-347e5e43>Price</th></tr></thead><tbody data-v-347e5e43><tr data-v-347e5e43><td data-v-347e5e43>Airport Transfers (DXB – Dubai City Hotel)</td><td data-v-347e5e43>SUV (4–6 pax)</td><td data-v-347e5e43><strong style="color:#b01b1b;" data-v-347e5e43>AED 190</strong></td></tr><tr data-v-347e5e43><td data-v-347e5e43></td><td data-v-347e5e43>Van (7–10 pax)</td><td data-v-347e5e43><strong style="color:#b01b1b;" data-v-347e5e43>AED 230</strong></td></tr><tr data-v-347e5e43><td data-v-347e5e43>Airport Transfers (AUH – Dubai City Hotel)</td><td data-v-347e5e43>SUV (4–6 pax)</td><td data-v-347e5e43><strong style="color:#b01b1b;" data-v-347e5e43>AED 330</strong></td></tr><tr data-v-347e5e43><td data-v-347e5e43></td><td data-v-347e5e43>Van (7–10 pax)</td><td data-v-347e5e43><strong style="color:#b01b1b;" data-v-347e5e43>AED 380</strong></td></tr><tr data-v-347e5e43><td data-v-347e5e43>Half-Day Car with Driver (5 Hours)</td><td data-v-347e5e43>SUV (4–6 pax)</td><td data-v-347e5e43><strong style="color:#b01b1b;" data-v-347e5e43>AED 300</strong></td></tr><tr data-v-347e5e43><td data-v-347e5e43></td><td data-v-347e5e43>Van (7–10 pax)</td><td data-v-347e5e43><strong style="color:#b01b1b;" data-v-347e5e43>AED 330</strong></td></tr><tr data-v-347e5e43><td data-v-347e5e43>Full-Day Car with Driver (10 Hours)</td><td data-v-347e5e43>SUV (4–6 pax)</td><td data-v-347e5e43><strong style="color:#b01b1b;" data-v-347e5e43>AED 510</strong></td></tr><tr data-v-347e5e43><td data-v-347e5e43></td><td data-v-347e5e43>Van (7–10 pax)</td><td data-v-347e5e43><strong style="color:#b01b1b;" data-v-347e5e43>AED 550</strong></td></tr><tr data-v-347e5e43><td data-v-347e5e43>Dubai → Abu Dhabi with Sightseeing (10 Hours)</td><td data-v-347e5e43>SUV (4–6 pax)</td><td data-v-347e5e43><strong style="color:#b01b1b;" data-v-347e5e43>AED 610</strong></td></tr><tr data-v-347e5e43><td data-v-347e5e43></td><td data-v-347e5e43>Van (7–10 pax)</td><td data-v-347e5e43><strong style="color:#b01b1b;" data-v-347e5e43>AED 650</strong></td></tr></tbody></table></div>',1)),f("div",D5,[f("div",x5,[f("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...a)=>i.copyEmail&&i.copyEmail(...a))}," Email us "),f("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...a)=>i.openWhatsappModal&&i.openWhatsappModal(...a))}," WhatsApp us "),f("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...a)=>i.openWechatModal&&i.openWechatModal(...a))}," Wechat us "),f("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...a)=>i.bookNow&&i.bookNow(...a))}," My WonderCart ")])]),r.showEmailToast?(O(),L("div",N5,[...e[6]||(e[6]=[f("div",{class:"center-toast-box"},[f("p",null,[f("strong",null,"info@wanderwonderworlddubai.com"),ce(" has been copied to your clipboard")])],-1)])])):ne("",!0),r.showWhatsappModal?(O(),L("div",M5,[f("div",V5,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.whatsappQR,alt:"WhatsApp QR"},null,8,O5)])])):ne("",!0),r.showWechatModal?(O(),L("div",L5,[f("div",U5,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.wechatQR,alt:"WeChat QR"},null,8,F5)])])):ne("",!0),f("div",W5,[e[7]||(e[7]=f("h2",null,"FAQs",-1)),(O(!0),L(We,null,It(r.faqs,(a,c)=>(O(),L("div",{key:c,class:"faq-item"},[f("div",{class:"faq-question",onClick:u=>i.toggleFaq(c)},[f("span",null,Y(a.question),1),f("span",B5,Y(a.open?"▲":"▼"),1)],8,q5),a.open?(O(),L("div",j5,[f("p",null,Y(a.answer),1)])):ne("",!0)]))),128))]),e[10]||(e[10]=Ee('<div class="text-card" data-v-347e5e43><h2 data-v-347e5e43>Seamless Journeys: Our Dubai Chauffeur Services</h2><p data-v-347e5e43>At WanderWonderWorld, we provide professional and reliable chauffeur services designed for your comfort and peace of mind. Our fleet consists of well-maintained, clean vehicles, operated by licensed and experienced drivers. We cater to all private transport needs, from efficient airport transfers to tailored day tours, ensuring a secure and hassle-free travel experience. We are committed to punctuality, vehicle safety, and superior customer service.</p></div><div class="text-card" data-v-347e5e43><h2 data-v-347e5e43>Tailored Transport: Your Private Car &amp; Driver Options</h2><p data-v-347e5e43><strong data-v-347e5e43>Airport Transfers:</strong> We offer punctual, meet-and-greet services from both Dubai (DXB) and Abu Dhabi (AUH) airports to any destination in both cities. Our drivers track your flight status to ensure timely pickups, even in case of delays.</p><p data-v-347e5e43><strong data-v-347e5e43>Half-Day &amp; Full-Day Hire:</strong> Explore Dubai at your own pace with our hourly or daily chauffeur service. We provide comfortable vehicles for sightseeing, business meetings, or family trips, allowing you to design your itinerary freely.</p><p data-v-347e5e43><strong data-v-347e5e43>Safety and Comfort:</strong> All vehicles are equipped with adequate space for luggage. Child seats are available upon advance request to ensure the safety of your family.</p><p data-v-347e5e43><strong data-v-347e5e43>Pricing:</strong> Our transparent pricing is based on vehicle type and trip duration. Contact us for a detailed quote tailored to your specific travel plan.</p></div><div class="text-card" data-v-347e5e43><h2 data-v-347e5e43>Terms and Conditions</h2><p data-v-347e5e43><strong data-v-347e5e43>Service Availability:</strong> All services are subject to vehicle and driver availability. We recommend booking in advance to confirm your preferred dates.</p><p data-v-347e5e43><strong data-v-347e5e43>Vehicle Use:</strong> Our chauffeur services are intended for private transfers and day tours. Eating, drinking, and smoking are not permitted inside the vehicles.</p><p data-v-347e5e43><strong data-v-347e5e43>Cancellation Policy:</strong> Cancellations must be made in accordance with our booking policy to avoid charges. Details regarding cancellation fees will be provided at the time of booking.</p><p data-v-347e5e43><strong data-v-347e5e43>No-Show Policy:</strong> Late arrival at the designated pickup location without prior notice may be considered a no-show, and applicable fees may apply.</p><p data-v-347e5e43><strong data-v-347e5e43>Overtime Charges:</strong> Extra-hour charges are applicable and will be calculated based on the vehicle type and original booking duration.</p><p data-v-347e5e43><strong data-v-347e5e43>Seasonal Surcharge:</strong> A peak season surcharge may be applied on specific dates. This will be clearly communicated during the booking process.</p><p data-v-347e5e43><strong data-v-347e5e43>Tour Guides:</strong> The provided driver is not a licensed tour guide. A licensed tour guide can be arranged at an additional cost upon request.</p></div><div class="text-card" data-v-347e5e43><h2 data-v-347e5e43>WanderWonderWorld&#39;s Destination Services</h2><p data-v-347e5e43>As a licensed Destination Management Company (DMC) in Dubai, WanderWonderWorld provides a full spectrum of exceptional tourism and transport solutions. Our car with driver services are designed to offer a seamless and professional experience, covering everything from efficient airport transfers to personalized city tours, business meetings, and relaxing family trips.</p><p data-v-347e5e43>We offer a wide range of vehicle options, including luxurious cars, spacious family vans, and comfortable tourist buses, all operated by professional and experienced drivers who assist you throughout your journey. For group bookings or complex travel plans, our dedicated team is ready to create a customized itinerary that perfectly matches your vision.</p></div>',4))])}const $5=ft(T5,[["render",H5],["__scopeId","data-v-347e5e43"]]),z5={name:"Packages",components:{CarCard:un},data(){return{banner:En,logoGold:Ot,logoText:Bt,car1:Wl,car2:ql,car3:Bl,car4:jl,faqs:[{question:"What’s included in the package price?",answer:"Private airport transfers, hotel with breakfast, private vehicle per itinerary, listed attraction tickets (e.g., Burj Khalifa 124/125, The View/Dubai Frame, Marina dinner cruise), and an evening desert safari (family can switch to a gentler morning version). Land-only—no flights/visa.",open:!1},{question:"How do Adult & Child prices apply?",answer:"Adult price applies to 11+ years. Child price applies to ages 3–10 sharing existing bedding. Infants 0–2 are free (no seat/bed). Extra bed or single supplement is charged by season and hotel.",open:!1},{question:"Can I change the order of sightseeing days?",answer:"Yes. We run private packages. We’ll adapt the daily order to your flight times, season, and special events. Peak days may require time-slot changes for attractions.",open:!1},{question:"Is Abu Dhabi Mosque dress code enforced?",answer:"Yes. Ladies must cover hair, shoulders and legs; men must wear long trousers. Security is strict. We brief you in advance and provide basic guidance.",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:qn,wechatQR:cn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){zt().open()}}},G5={class:"packages"},K5={class:"banner-container"},Q5=["src"],J5={class:"floating-logos"},Y5=["src"],X5=["src"],Z5={class:"cards-container"},e2={class:"cta-row-wrapper"},t2={class:"cta-row"},n2={key:0,class:"center-toast",role:"status","aria-live":"polite"},s2={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},r2={class:"qr-modal-box"},i2=["src"],o2={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},a2={class:"qr-modal-box"},l2=["src"],c2={class:"faq-card"},u2=["onClick"],d2={class:"faq-icon"},h2={key:0,class:"faq-answer"};function f2(t,e,n,s,r,i){const o=dt("CarCard");return O(),L("div",G5,[f("div",K5,[f("img",{src:r.banner,alt:"Packages Banner",class:"banner"},null,8,Q5),f("div",J5,[f("img",{src:r.logoGold,alt:"Gold Logo",class:"logo"},null,8,Y5),f("img",{src:r.logoText,alt:"Text Logo",class:"logo-text"},null,8,X5)])]),e[8]||(e[8]=Ee('<div class="intro" data-v-8a4c7ffd><h1 data-v-8a4c7ffd>Dubai Holiday Packages — Private &amp; Flexible</h1><p data-v-8a4c7ffd> Plan your Dubai holiday the smart way. Our four private, land-only packages blend must-see icons with heat-smart pacing: outdoor in the morning/evening, indoor at noon. Old Dubai walking with an abra ride is included as standard (with a licensed guide for the walk), while an English-speaking driver-guide escorts you throughout. Value-first pricing, Adult &amp; Child rates, private airport transfers, handpicked hotels with breakfast, and verified vehicles keep the trip seamless. </p></div><div class="whatsapp-wrapper" data-v-8a4c7ffd><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-8a4c7ffd><img src="'+dn+'" alt="WhatsApp" data-v-8a4c7ffd><span class="whatsapp-text" data-v-8a4c7ffd>Need help? Chat with us!</span></a></div>',2)),f("div",Z5,[U(o,{image:r.car1,title:"3 Nights Dubai Starter",subtitle:"Tour-Package",tour:"Dubai City",duration:"4 Days",price:"Adult from AED 849",link:"/package/34nights"},null,8,["image"]),U(o,{image:r.car2,title:"4 Nights Family Value",subtitle:"Tour-Package",tour:"Dubai City",duration:"5 Days",price:"Adult from AED 1099",link:"/package/34nights"},null,8,["image"]),U(o,{image:r.car3,title:"5 Nights Dubai + Abu Dhabi Highlights",subtitle:"Tour-Package",tour:"Dubai + Abu Dhabi",duration:"6 Days",price:"Adult from AED 1349",link:"/package/56nights"},null,8,["image"]),U(o,{image:r.car4,title:"6 Nights Signature Plus",subtitle:"Tour-Package",tour:"Dubai + Abu Dhabi",duration:"7 Days",price:"Adult from AED 1599",link:"/package/56nights"},null,8,["image"])]),e[9]||(e[9]=Ee('<div class="text-card" data-v-8a4c7ffd><h2 data-v-8a4c7ffd>Dubai Tour Packages Price List</h2><table class="price-table" data-v-8a4c7ffd><thead data-v-8a4c7ffd><tr data-v-8a4c7ffd><th data-v-8a4c7ffd>Package</th><th data-v-8a4c7ffd>Time/Duration</th><th data-v-8a4c7ffd>Price</th></tr></thead><tbody data-v-8a4c7ffd><tr data-v-8a4c7ffd><td data-v-8a4c7ffd>3 Nights Dubai Starter</td><td data-v-8a4c7ffd>4 Days</td><td data-v-8a4c7ffd><strong style="color:#b01b1b;" data-v-8a4c7ffd>Adult AED 849 | Child AED 669</strong></td></tr><tr data-v-8a4c7ffd><td data-v-8a4c7ffd>4 Nights Family Value</td><td data-v-8a4c7ffd>5 Days</td><td data-v-8a4c7ffd><strong style="color:#b01b1b;" data-v-8a4c7ffd>Adult AED 1099 | Child AED 919</strong></td></tr><tr data-v-8a4c7ffd><td data-v-8a4c7ffd>5 Nights Dubai + Abu Dhabi Highlights</td><td data-v-8a4c7ffd>6 Days</td><td data-v-8a4c7ffd><strong style="color:#b01b1b;" data-v-8a4c7ffd>Adult AED 1349 | Child AED 1169</strong></td></tr><tr data-v-8a4c7ffd><td data-v-8a4c7ffd>6 Nights Signature Plus</td><td data-v-8a4c7ffd>7 Days</td><td data-v-8a4c7ffd><strong style="color:#b01b1b;" data-v-8a4c7ffd>Adult AED 1599 | Child AED 1419</strong></td></tr></tbody></table><p style="margin-top:8px;font-size:0.95rem;color:#555;" data-v-8a4c7ffd> * Rates are per person based on twin/double sharing. Prices include 5% VAT. Tourism Dirham is payable at the hotel (~AED 10–20 per room per night). </p></div>',1)),f("div",e2,[f("div",t2,[f("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...a)=>i.copyEmail&&i.copyEmail(...a))},"Email us"),f("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...a)=>i.openWhatsappModal&&i.openWhatsappModal(...a))},"WhatsApp us"),f("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...a)=>i.openWechatModal&&i.openWechatModal(...a))},"Wechat us"),f("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...a)=>i.bookNow&&i.bookNow(...a))},"My WonderCart")])]),r.showEmailToast?(O(),L("div",n2,[...e[6]||(e[6]=[f("div",{class:"center-toast-box"},[f("p",null,[f("strong",null,"info@wanderwonderworlddubai.com"),ce(" has been copied to your clipboard")])],-1)])])):ne("",!0),r.showWhatsappModal?(O(),L("div",s2,[f("div",r2,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.whatsappQR,alt:"WhatsApp QR"},null,8,i2)])])):ne("",!0),r.showWechatModal?(O(),L("div",o2,[f("div",a2,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.wechatQR,alt:"WeChat QR"},null,8,l2)])])):ne("",!0),f("div",c2,[e[7]||(e[7]=f("h2",null,"FAQs",-1)),(O(!0),L(We,null,It(r.faqs,(a,c)=>(O(),L("div",{key:c,class:"faq-item"},[f("div",{class:"faq-question",onClick:u=>i.toggleFaq(c)},[f("span",null,Y(a.question),1),f("span",d2,Y(a.open?"▲":"▼"),1)],8,u2),a.open?(O(),L("div",h2,[f("p",null,Y(a.answer),1)])):ne("",!0)]))),128))]),e[10]||(e[10]=Ee('<div class="text-card" data-v-8a4c7ffd><h2 data-v-8a4c7ffd>Discover Dubai Your Way: Our Private Packages</h2><p data-v-8a4c7ffd><strong data-v-8a4c7ffd>3 Nights Dubai Starter:</strong> Old Dubai walking tour (licensed guide, ~2 hours) with an abra ride, plus your choice of <em data-v-8a4c7ffd>Dubai Frame</em> or <em data-v-8a4c7ffd>The View at The Palm</em>. Enjoy a Dubai Marina dinner cruise and an evening desert safari (families may switch to a gentler morning version with ≥48h notice).</p><p data-v-8a4c7ffd><strong data-v-8a4c7ffd>4 Nights Family Value:</strong> Evening arrival buffer on Day 1; desert safari moves to Day 2 for better energy. Modern Dubai half-day with Burj Khalifa 124/125 (non-prime), and a relaxed evening around JBR &amp; Bluewaters. Kid-friendly swaps (e.g., aquarium) are available.</p><p data-v-8a4c7ffd><strong data-v-8a4c7ffd>5 Nights Dubai + Abu Dhabi Highlights:</strong> Abu Dhabi sits mid-trip for a smoother pace: Sheikh Zayed Grand Mosque (inside visit; Friday visitor hours are limited) and Louvre Abu Dhabi (typically closed on Mondays; we’ll adjust as needed). Back in Dubai, combine Old Dubai walking + abra with your pre-booked Burj Khalifa time slot and a Marina dinner cruise.</p><p data-v-8a4c7ffd><strong data-v-8a4c7ffd>6 Nights Signature Plus:</strong> VIP desert safari upgrade, Atlantis Aquaventure Waterpark &amp; Lost Chambers, plus one free day for shopping or pool time. Includes a full-day Abu Dhabi (Grand Mosque inside + Qasr Al Watan courtyard or Louvre). An optional sunset private yacht from Dubai Marina can be arranged.</p></div><div class="text-card" data-v-8a4c7ffd><h2 data-v-8a4c7ffd>Terms &amp; Conditions (Tour Packages)</h2><p data-v-8a4c7ffd><strong data-v-8a4c7ffd>Pricing &amp; Rooming:</strong> Land-only rates per adult based on twin/double sharing. <em data-v-8a4c7ffd>Prices include 5% VAT.</em> Child (3–10) shares existing bedding unless an extra bed is purchased; infant 0–2 free (no bed). Tourism Dirham hotel tax is payable at the hotel (approx. AED 10–20 per room per night). Standard hotel check-in 15:00 / check-out 12:00; early/late arrangements subject to availability or surcharge.</p><p data-v-8a4c7ffd><strong data-v-8a4c7ffd>Inclusions:</strong> Round-trip private airport transfers (DXB), selected hotel with daily breakfast, <em data-v-8a4c7ffd>private vehicle with an English-speaking driver-guide</em>, <em data-v-8a4c7ffd>licensed guide for Old Dubai walking (~2 hours)</em>, listed attraction tickets per package (e.g., Burj Khalifa 124/125; The View/Dubai Frame; Louvre/Aquaventure as stated), Dubai Marina dinner cruise <em data-v-8a4c7ffd>with private transfers</em>, evening desert safari (VIP upgrade where specified), and bottled water in the vehicle.</p><p data-v-8a4c7ffd><strong data-v-8a4c7ffd>Exclusions:</strong> International flights, visas, personal travel insurance; lunches/dinners unless stated; alcoholic drinks; personal expenses; optional activities/upgrades; additional licensed guide on other touring days unless specified; peak/event supplements; single supplement/extra bed; porterage; discretionary tips.</p><p data-v-8a4c7ffd><strong data-v-8a4c7ffd>Child Seats &amp; Safety:</strong> In the UAE, infants and young children must use an age-appropriate child/booster seat and occupy a seat in the vehicle. Please request the number of seats at booking; compliance is required by law.</p><p data-v-8a4c7ffd><strong data-v-8a4c7ffd>Abu Dhabi Grand Mosque:</strong> Ladies must cover hair, shoulders and legs; men must wear long trousers. Security is strict and entry may be refused if attire is incomplete. Friday visitor hours are limited.</p><p data-v-8a4c7ffd><strong data-v-8a4c7ffd>Ramadan &amp; Peak Periods:</strong> Desert-camp entertainment pauses; alcohol service is restricted; attraction hours may change. New Year’s Eve and major events may carry mandatory supplements.</p><p data-v-8a4c7ffd><strong data-v-8a4c7ffd>Amendment &amp; Cancellation:</strong> ≥48 hours before service: free change/refund; 24–48 hours: 50% charge; &lt;24 hours or no-show: 100% charge. Non-refundable attraction tickets/hotel nights follow supplier policy. In force-majeure events (e.g., sandstorm, heavy rain), we re-schedule first; if not possible, only unrecoverable supplier costs apply.</p></div><div class="text-card" data-v-8a4c7ffd><h2 data-v-8a4c7ffd>WanderWonderWorld Tour Package Services</h2><p data-v-8a4c7ffd> We design heat-smart itineraries (indoor at noon, outdoors in the golden hour), include Old Dubai walking with Abra as standard, and offer family friendly Safari options. WhatsApp concierge (08:00–22:00), verified drivers, clean camps, child seats on request, and one free re-schedule (≥48h) keep your trip smooth and safe. </p></div>',3))])}const p2=ft(z5,[["render",f2],["__scopeId","data-v-8a4c7ffd"]]),bb="/assets/addon1-ClnzAQTy.jpg",wb="/assets/addon2-wAxJ3j_K.jpg",Eb="/assets/addon3-CWGTeBVZ.jpg",Tb="/assets/addon4-C_Zst6zP.jpg",m2={name:"Safari",components:{CarCard:un},data(){return{banner:En,logoGold:Ot,logoText:Bt,car1:Hl,car2:$l,car3:zl,car4:Gl,addon1:bb,addon2:wb,addon3:Eb,addon4:Tb,faqs:[{question:"What is included in a Dubai desert safari tour?",answer:"Our desert safari tours usually include hotel pick-up and drop-off in a 4x4 vehicle, dune bashing with a professional driver, photo stops on the dunes, camel rides, sandboarding, refreshments, and depending on the package, live entertainment and BBQ dinner. Luxury and overnight packages include exclusive camps and premium dining experiences.",open:!1},{question:"How long does a desert safari in Dubai take?",answer:"The duration depends on the package you choose. Morning safaris are typically 4–5 hours, evening safaris last about 6 hours, and overnight safaris extend up to 16 hours including breakfast the next morning.",open:!1},{question:"Do I need to book desert safari in advance?",answer:"We recommend booking in advance to secure your preferred date and vehicle, especially during weekends and peak travel seasons. Same-day bookings are possible, but availability cannot be guaranteed.",open:!1},{question:"What should I wear for a desert safari in Dubai?",answer:"Comfortable casual clothing is best, such as light trousers or shorts and breathable tops. We recommend sneakers or sandals for walking on the sand. During winter evenings, bring a light jacket as desert temperatures can drop significantly.",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:qn,wechatQR:cn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){zt().open()}}},g2={class:"safari"},v2={class:"banner-container"},_2=["src"],y2={class:"floating-logos"},b2=["src"],w2=["src"],E2={class:"cards-container"},T2={class:"cards-container"},A2={class:"cta-row-wrapper"},I2={class:"cta-row"},C2={key:0,class:"center-toast",role:"status","aria-live":"polite"},S2={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},R2={class:"qr-modal-box"},k2=["src"],P2={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},D2={class:"qr-modal-box"},x2=["src"],N2={class:"faq-card"},M2=["onClick"],V2={class:"faq-icon"},O2={key:0,class:"faq-answer"};function L2(t,e,n,s,r,i){const o=dt("CarCard");return O(),L("div",g2,[f("div",v2,[f("img",{src:r.banner,alt:"Transfers Banner",class:"banner"},null,8,_2),f("div",y2,[f("img",{src:r.logoGold,alt:"Gold Logo",class:"logo"},null,8,b2),f("img",{src:r.logoText,alt:"Text Logo",class:"logo-text"},null,8,w2)])]),e[8]||(e[8]=Ee('<div class="intro" data-v-63f540f5><h1 data-v-63f540f5>Dubai&#39;s Premier Adventure — Desert Safari Tours</h1><p data-v-63f540f5>Experience the best of Dubai&#39;s desert with our curated safari tours. We offer a full spectrum of adventures, from the thrilling energy of a morning safari to the mesmerizing calm of a desert sunset and the authentic cultural immersion of an overnight stay. Each tour is designed to deliver a unique experience, allowing you to choose the perfect fit for your style of travel. Book with us for a seamless, professional, and unforgettable journey into the dunes.</p></div><div class="whatsapp-wrapper" data-v-63f540f5><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-63f540f5><img src="'+dn+'" alt="WhatsApp" data-v-63f540f5><span class="whatsapp-text" data-v-63f540f5>Need help? Chat with us!</span></a></div>',2)),f("div",E2,[U(o,{image:r.car1,title:"Morning Dunes Drive",subtitle:"Classic Line",tour:"Morning Private Tour",duration:"4.5 Hours",price:"from AED 500",link:"/safari/regsafari"},null,8,["image"]),U(o,{image:r.car2,title:"Sunset Dunes Select",subtitle:"Signature Line",tour:"Sunset Private Tour",duration:"6 Hours",price:"from AED 700",link:"/safari/regsafari"},null,8,["image"]),U(o,{image:r.car3,title:"Extended Dunes Thrill",subtitle:"Prestige Line",tour:"Extended Private Tour",duration:"7 Hours",price:"from AED 1100",link:"/safari/upsafari"},null,8,["image"]),U(o,{image:r.car4,title:"Royal Dunes Safari",subtitle:"Royal Line",tour:"Luxury Overnight",duration:"16 Hours",price:"from AED 2000",link:"/safari/upsafari"},null,8,["image"]),f("div",T2,[U(o,{image:r.addon1,title:"ATV Ride (150cc)",subtitle:"Add-on",tour:"Desert Safari",duration:"30 Minutes",price:"AED 140 / person",link:"/safari/addon"},null,8,["image"]),U(o,{image:r.addon2,title:"Buggy Ride (2-Seater)",subtitle:"Add-on",tour:"Desert Safari",duration:"30 Minutes",price:"AED 420 / vehicle",link:"/safari/addon"},null,8,["image"]),U(o,{image:r.addon3,title:"Photography Package",subtitle:"Add-on",tour:"10 Edited + All Originals",duration:"—",price:"AED 150 / package",link:"/safari/addon"},null,8,["image"]),U(o,{image:r.addon4,title:"Shisha / Drinks",subtitle:"Add-on",tour:"Available at Licensed Camps",duration:"—",price:"contact for details",link:"/safari/addon"},null,8,["image"])])]),e[9]||(e[9]=Ee('<div class="text-card" data-v-63f540f5><h2 data-v-63f540f5>Dubai Desert Safari Price List</h2><table class="price-table" data-v-63f540f5><thead data-v-63f540f5><tr data-v-63f540f5><th data-v-63f540f5>Desert Safari Service</th><th data-v-63f540f5>Time/Duration</th><th data-v-63f540f5>Price</th></tr></thead><tbody data-v-63f540f5><tr data-v-63f540f5><td data-v-63f540f5>Morning Dunes Drive｜Classic Line</td><td data-v-63f540f5>08:00 – 12:30</td><td data-v-63f540f5><strong style="color:#b01b1b;" data-v-63f540f5>AED 500</strong></td></tr><tr data-v-63f540f5><td data-v-63f540f5>Sunset Dunes Select｜Signature Line</td><td data-v-63f540f5>15:00 – 21:00</td><td data-v-63f540f5><strong style="color:#b01b1b;" data-v-63f540f5>AED 700</strong></td></tr><tr data-v-63f540f5><td data-v-63f540f5>Extended Dunes Thrill｜Prestige Line</td><td data-v-63f540f5>14:00 – 21:00</td><td data-v-63f540f5><strong style="color:#b01b1b;" data-v-63f540f5>AED 1100</strong></td></tr><tr data-v-63f540f5><td data-v-63f540f5>Royal Dunes Safari｜Royal Line</td><td data-v-63f540f5>15:00 – 09:00(+1 day)</td><td data-v-63f540f5><strong style="color:#b01b1b;" data-v-63f540f5>AED 2000</strong></td></tr><tr data-v-63f540f5><td data-v-63f540f5>Add-on ATV Ride (150cc)</td><td data-v-63f540f5>30min</td><td data-v-63f540f5><strong style="color:#b01b1b;" data-v-63f540f5>AED 140</strong></td></tr><tr data-v-63f540f5><td data-v-63f540f5>Add-on Buggy Ride (2-seater)</td><td data-v-63f540f5>30min</td><td data-v-63f540f5><strong style="color:#b01b1b;" data-v-63f540f5>AED 420</strong></td></tr><tr data-v-63f540f5><td data-v-63f540f5>Add-on One Photography Package</td><td data-v-63f540f5>——</td><td data-v-63f540f5><strong style="color:#b01b1b;" data-v-63f540f5>AED 150</strong></td></tr><tr data-v-63f540f5><td data-v-63f540f5>Shisha/Alcoholic Drinks</td><td data-v-63f540f5>——</td><td data-v-63f540f5><strong style="color:#b01b1b;" data-v-63f540f5>see menu</strong></td></tr></tbody></table></div>',1)),f("div",A2,[f("div",I2,[f("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...a)=>i.copyEmail&&i.copyEmail(...a))}," Email us "),f("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...a)=>i.openWhatsappModal&&i.openWhatsappModal(...a))}," WhatsApp us "),f("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...a)=>i.openWechatModal&&i.openWechatModal(...a))}," Wechat us "),f("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...a)=>i.bookNow&&i.bookNow(...a))}," My WonderCart ")])]),r.showEmailToast?(O(),L("div",C2,[...e[6]||(e[6]=[f("div",{class:"center-toast-box"},[f("p",null,[f("strong",null,"info@wanderwonderworlddubai.com"),ce(" has been copied to your clipboard")])],-1)])])):ne("",!0),r.showWhatsappModal?(O(),L("div",S2,[f("div",R2,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.whatsappQR,alt:"WhatsApp QR"},null,8,k2)])])):ne("",!0),r.showWechatModal?(O(),L("div",P2,[f("div",D2,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.wechatQR,alt:"WeChat QR"},null,8,x2)])])):ne("",!0),f("div",N2,[e[7]||(e[7]=f("h2",null,"FAQs",-1)),(O(!0),L(We,null,It(r.faqs,(a,c)=>(O(),L("div",{key:c,class:"faq-item"},[f("div",{class:"faq-question",onClick:u=>i.toggleFaq(c)},[f("span",null,Y(a.question),1),f("span",V2,Y(a.open?"▲":"▼"),1)],8,M2),a.open?(O(),L("div",O2,[f("p",null,Y(a.answer),1)])):ne("",!0)]))),128))]),e[10]||(e[10]=Ee('<div class="text-card" data-v-63f540f5><h2 data-v-63f540f5>Unforgettable Adventures: Our Dubai Desert Safari Experiences</h2><p data-v-63f540f5>At WanderWonderWorld, we deliver safe, comfortable, and thrilling desert safari journeys designed for every type of traveler. From gentle morning drives across golden dunes to adrenaline-filled dune bashing at sunset, our packages are tailored to combine excitement with cultural immersion. With private 4x4 vehicles, professional drivers, and carefully selected desert camps, we ensure an authentic yet premium experience for families, couples, and groups alike.</p></div><div class="text-card" data-v-63f540f5><h2 data-v-63f540f5>Tailored Desert Safari: Your Private Tour Options</h2><p data-v-63f540f5><strong data-v-63f540f5>Morning Dune Drive | Classic Line:</strong> A half-day safari designed for families, seniors, and short-stay travelers. Includes cool morning dune bashing, camel ride, sandboarding, and light refreshments.</p><p data-v-63f540f5><strong data-v-63f540f5>Sunset Dunes Select | Signature Line:</strong> Our most popular safari. Afternoon dune bashing, sunset photo stop, camel ride, cultural shows, and BBQ buffet dinner in a traditional desert camp.</p><p data-v-63f540f5><strong data-v-63f540f5>Extended Dune Thrill | Prestige Line:</strong> For adventure seekers. Extended dune bashing in deeper desert areas, premium camp access with VIP seating, upgraded dinner, and exclusive performances.</p><p data-v-63f540f5><strong data-v-63f540f5>Royal Dunes Safari | Royal Line:</strong> The ultimate luxury experience. Chauffeured in a premium SUV, enjoy private dune bashing, champagne welcome, fine dining, and an overnight stay in luxury tents with stargazing and breakfast.</p></div><div class="text-card" data-v-63f540f5><h2 data-v-63f540f5>Terms and Conditions</h2><p data-v-63f540f5><strong data-v-63f540f5>Service Availability:</strong> All desert safari tours are subject to vehicle, driver, and camp availability. We recommend booking in advance to secure your preferred date and package.</p><p data-v-63f540f5><strong data-v-63f540f5>Vehicle Use:</strong> Our safaris are conducted with well-maintained 4x4 vehicles. Eating, drinking, and smoking are not allowed inside the vehicles for safety reasons.</p><p data-v-63f540f5><strong data-v-63f540f5>Cancellation Policy:</strong> Cancellations must follow our booking policy. Fees may apply depending on the timing of cancellation. Full details will be provided at the time of booking.</p><p data-v-63f540f5><strong data-v-63f540f5>No-Show Policy:</strong> Guests who fail to arrive at the designated pickup point without prior notice may be treated as a no-show, and applicable fees will be charged.</p><p data-v-63f540f5><strong data-v-63f540f5>Overtime Charges:</strong> Extra-hour charges may apply if guests request additional time beyond the booked safari schedule. Rates depend on vehicle type and tour duration.</p><p data-v-63f540f5><strong data-v-63f540f5>Seasonal Surcharge:</strong> Peak season or holiday surcharges may apply. This will be clearly communicated before final confirmation.</p><p data-v-63f540f5><strong data-v-63f540f5>Safety Policy:</strong> Guests must follow the driver’s instructions during dune bashing and other activities. Children and elderly guests should inform us in advance so we can recommend suitable safari options. Child seats are available upon request.</p><p data-v-63f540f5><strong data-v-63f540f5>Add-ons &amp; Alcohol Policy:</strong> Add-on activities such as ATV, buggy rides, photography, and shisha can be booked in advance. Alcoholic drinks are served only at licensed camps, in compliance with UAE law.</p><p data-v-63f540f5><strong data-v-63f540f5>Tour Guides:</strong> The provided driver is not a licensed tour guide. A licensed tour guide can be arranged at an additional cost upon request.</p></div><div class="text-card" data-v-63f540f5><h2 data-v-63f540f5>WanderWonderWorld Desert Safari Services</h2><p data-v-63f540f5>At WanderWonderWorld, we deliver a full spectrum of desert safari experiences tailored for every traveler. From thrilling dune bashing adventures to luxury overnight stays, our tours are designed to combine safety, cultural immersion, and exceptional service. Whether you are a first-time visitor or seeking a premium desert journey, we provide reliable and professional services that meet international standards.</p><p data-v-63f540f5>We offer a wide range of safari options, including morning, evening, extended, and royal overnight experiences. All safaris are conducted with modern 4x4 vehicles and licensed, experienced drivers, ensuring both excitement and peace of mind. For families, couples, groups, or corporate bookings, our dedicated team can create a customized itinerary that matches your needs and expectations.</p></div>',4))])}const U2=ft(m2,[["render",L2],["__scopeId","data-v-63f540f5"]]),F2={name:"Packages",components:{CarCard:un},data(){return{banner:En,logoGold:Ot,logoText:Bt,car1:Kl,car2:Ql,car3:Jl,car4:Yl,faqs:[{question:"What’s included in the tour price?",answer:"Private vehicle with an English-speaking driver, Old Dubai walking (~2h) with a licensed guide on Dubai routes, abra tickets (Dubai routes), bottled water, Salik tolls and official parking fees. Tickets and meals are optional add-ons unless specified.",open:!1},{question:"Are the rates per car or per person?",answer:"Per car, up to 6 guests in a 7-seater. Child/booster seats are required by law and can be requested when booking. Larger vehicles (Hiace/minibus/SUV upgrade) are available at a supplement.",open:!1},{question:"Can we change the sightseeing order?",answer:"Yes. Tours are private and flexible. We adapt to your flight times, season, traffic and ticket slots. On peak days we may re-sequence to secure better time windows.",open:!1},{question:"Is the Abu Dhabi Mosque dress code enforced?",answer:"Absolutely. Ladies must cover hair, shoulders and legs; men must wear long trousers. Security is strict and may refuse entry if attire is incomplete. Friday visitor hours are limited.",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:qn,wechatQR:cn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){zt().open()}}},W2={class:"city"},q2={class:"banner-container"},B2=["src"],j2={class:"floating-logos"},H2=["src"],$2=["src"],z2={class:"cards-container"},G2={class:"cta-row-wrapper"},K2={class:"cta-row"},Q2={key:0,class:"center-toast",role:"status","aria-live":"polite"},J2={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},Y2={class:"qr-modal-box"},X2=["src"],Z2={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},e4={class:"qr-modal-box"},t4=["src"],n4={class:"faq-card"},s4=["onClick"],r4={class:"faq-icon"},i4={key:0,class:"faq-answer"};function o4(t,e,n,s,r,i){const o=dt("CarCard");return O(),L("div",W2,[f("div",q2,[f("img",{src:r.banner,alt:"Packages Banner",class:"banner"},null,8,B2),f("div",j2,[f("img",{src:r.logoGold,alt:"Gold Logo",class:"logo"},null,8,H2),f("img",{src:r.logoText,alt:"Text Logo",class:"logo-text"},null,8,$2)])]),e[8]||(e[8]=Ee('<div class="intro" data-v-cd56dc3c><h1 data-v-cd56dc3c>Dubai City Tours — Flexible &amp; Discovery</h1><p data-v-cd56dc3c> Explore Dubai your way with four private, per-car city tours. We plan with heat-smart pacing (outdoors in the morning/evening, indoors at midday), and include an Old Dubai walking segment with an abra ride on our Dubai routes (guided by a licensed walking guide; your English-speaking driver escorts you for the rest of the day). Clear, value-first pricing, up to 6 guests per car, bottled water on board, and verified vehicles keep the day smooth from hotel pickup to drop-off. </p></div><div class="whatsapp-wrapper" data-v-cd56dc3c><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-cd56dc3c><img src="'+dn+'" alt="WhatsApp" data-v-cd56dc3c><span class="whatsapp-text" data-v-cd56dc3c>Need help? Chat with us!</span></a></div>',2)),f("div",z2,[U(o,{image:r.car1,title:"Half-Day Dubai Essentials",subtitle:"City-Tour-Services",tour:"Dubai City",duration:"5 Hours",price:"from AED 325",link:"/city/city12"},null,8,["image"]),U(o,{image:r.car2,title:"Full-Day Dubai Panorama",subtitle:"City-Tour-Services",tour:"Dubai City",duration:"10 Hours",price:"from AED 559",link:"/city/city12"},null,8,["image"]),U(o,{image:r.car3,title:"Abu Dhabi Culture Day",subtitle:"City-Tour-Services",tour:"Abu Dhabi",duration:"10-11 Hours",price:"from AED 659",link:"/city/city34"},null,8,["image"]),U(o,{image:r.car4,title:"Hatta Mountain Escape",subtitle:"City-Tour-Services",tour:"Hatta",duration:"10-11 Hours",price:"from AED 710",link:"/city/city34"},null,8,["image"])]),e[9]||(e[9]=Ee('<div class="text-card" data-v-cd56dc3c><h2 data-v-cd56dc3c>Dubai City Tour Price List</h2><table class="price-table" data-v-cd56dc3c><thead data-v-cd56dc3c><tr data-v-cd56dc3c><th data-v-cd56dc3c>City Tour</th><th data-v-cd56dc3c>Time/Duration</th><th data-v-cd56dc3c>Price</th></tr></thead><tbody data-v-cd56dc3c><tr data-v-cd56dc3c><td data-v-cd56dc3c>Half-Day Dubai Essentials</td><td data-v-cd56dc3c>5 Hours</td><td data-v-cd56dc3c><strong style="color:#b01b1b;" data-v-cd56dc3c>from AED 325</strong></td></tr><tr data-v-cd56dc3c><td data-v-cd56dc3c>Full-Day Dubai Panorama</td><td data-v-cd56dc3c>10 Hours</td><td data-v-cd56dc3c><strong style="color:#b01b1b;" data-v-cd56dc3c>from AED 559</strong></td></tr><tr data-v-cd56dc3c><td data-v-cd56dc3c>Abu Dhabi Culture Day</td><td data-v-cd56dc3c>10–11 Hours</td><td data-v-cd56dc3c><strong style="color:#b01b1b;" data-v-cd56dc3c>from AED 659</strong></td></tr><tr data-v-cd56dc3c><td data-v-cd56dc3c>Hatta Mountain Escape</td><td data-v-cd56dc3c>10–11 Hours</td><td data-v-cd56dc3c><strong style="color:#b01b1b;" data-v-cd56dc3c>from AED 710</strong></td></tr></tbody></table><p style="margin-top:8px;font-size:0.95rem;color:#555;" data-v-cd56dc3c> * Rates are <strong data-v-cd56dc3c>per car</strong> (7-seater, up to 6 guests). Overtime <strong data-v-cd56dc3c>AED 75/h</strong>. Old Dubai walking + abra is included on Dubai routes. Attraction tickets and meals are optional add-ons unless specified. Child/booster seats available on request (by law). </p></div>',1)),f("div",G2,[f("div",K2,[f("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...a)=>i.copyEmail&&i.copyEmail(...a))},"Email us"),f("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...a)=>i.openWhatsappModal&&i.openWhatsappModal(...a))},"WhatsApp us"),f("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...a)=>i.openWechatModal&&i.openWechatModal(...a))},"Wechat us"),f("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...a)=>i.bookNow&&i.bookNow(...a))},"My WonderCart")])]),r.showEmailToast?(O(),L("div",Q2,[...e[6]||(e[6]=[f("div",{class:"center-toast-box"},[f("p",null,[f("strong",null,"info@wanderwonderworlddubai.com"),ce(" has been copied to your clipboard")])],-1)])])):ne("",!0),r.showWhatsappModal?(O(),L("div",J2,[f("div",Y2,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.whatsappQR,alt:"WhatsApp QR"},null,8,X2)])])):ne("",!0),r.showWechatModal?(O(),L("div",Z2,[f("div",e4,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.wechatQR,alt:"WeChat QR"},null,8,t4)])])):ne("",!0),f("div",n4,[e[7]||(e[7]=f("h2",null,"FAQs",-1)),(O(!0),L(We,null,It(r.faqs,(a,c)=>(O(),L("div",{key:c,class:"faq-item"},[f("div",{class:"faq-question",onClick:u=>i.toggleFaq(c)},[f("span",null,Y(a.question),1),f("span",r4,Y(a.open?"▲":"▼"),1)],8,s4),a.open?(O(),L("div",i4,[f("p",null,Y(a.answer),1)])):ne("",!0)]))),128))]),e[10]||(e[10]=Ee('<div class="text-card" data-v-cd56dc3c><h2 data-v-cd56dc3c>Discover Dubai Your Way: Our Private City Tours</h2><p data-v-cd56dc3c><strong data-v-cd56dc3c>Half-Day Dubai Essentials:</strong> Old Dubai walking (licensed guide) + abra crossing, souks, a Jumeirah seaside photo stop, and a finale at Dubai Mall/Fountain (or MoTF exterior). A compact 5-hour plan that beats the heat and traffic.</p><p data-v-cd56dc3c><strong data-v-cd56dc3c>Full-Day Dubai Panorama:</strong> The complete Dubai day with heat-smart flow: Old Dubai walking + abra in the morning; midday indoors at Dubai Frame or The View (or Burj Khalifa 124/125); golden-hour photos around Souk Madinat and Dubai Marina/Bluewaters/JBR.</p><p data-v-cd56dc3c><strong data-v-cd56dc3c>Abu Dhabi Culture Day:</strong> Inside visit at Sheikh Zayed Grand Mosque (dress code required), drive by the Presidential Palace &amp; Corniche, and either Louvre Abu Dhabi or Qasr Al Watan (subject to ticket slots). We adjust timing for Friday prayers and traffic.</p><p data-v-cd56dc3c><strong data-v-cd56dc3c>Hatta Mountain Escape:</strong> Scenic dam viewpoints with optional kayaking, Heritage Village, Wadi Hub activity zone, and Hatta Hill Park. 4×4 recommended. Weather and road conditions may shift the order for safety.</p></div><div class="text-card" data-v-cd56dc3c><h2 data-v-cd56dc3c>Terms &amp; Conditions (City Tours)</h2><p data-v-cd56dc3c><strong data-v-cd56dc3c>Pricing &amp; Seating:</strong> Rates are per car (7-seater, up to 6 guests). Overtime AED 75/h. Remote pickups (Jebel Ali/DWC/Sharjah border) may incur a small surcharge. Fixed starts help avoid peak traffic; custom times on request.</p><p data-v-cd56dc3c><strong data-v-cd56dc3c>Inclusions:</strong> Private vehicle with an English-speaking driver, Old Dubai walking (~2h) with a licensed guide on Dubai routes, abra tickets (Dubai routes), bottled water, Salik tolls, and official parking fees.</p><p data-v-cd56dc3c><strong data-v-cd56dc3c>Exclusions:</strong> Attraction tickets and meals unless stated; optional activity fees (e.g., kayaking, observatories); licensed full-day guide add-on; peak/event supplements; gratuities; personal travel insurance.</p><p data-v-cd56dc3c><strong data-v-cd56dc3c>Child Seats &amp; Safety:</strong> UAE law requires age-appropriate child/booster seats. Please request seats at booking; each child must occupy a seat. No eating/drinking/smoking inside vehicles.</p><p data-v-cd56dc3c><strong data-v-cd56dc3c>Abu Dhabi Grand Mosque:</strong> Ladies must cover hair, shoulders, and legs; men must wear long trousers. Security is strict; non-compliant attire may be refused entry. Friday visitor hours are limited.</p><p data-v-cd56dc3c><strong data-v-cd56dc3c>Ramadan &amp; Peak Periods:</strong> Entertainment at desert camps pauses; alcohol service is restricted; attraction hours may change. New Year’s Eve and major events can carry mandatory supplements and road closures.</p><p data-v-cd56dc3c><strong data-v-cd56dc3c>Amendment &amp; Cancellation:</strong> ≥24h free change/cancel; 12–24h 50%; &lt;12h or no-show 100%. Non-refundable tickets follow supplier policy. For force-majeure (sandstorm/heavy rain/closures), we reschedule first; if not possible, only unrecoverable costs apply.</p></div><div class="text-card" data-v-cd56dc3c><h2 data-v-cd56dc3c>WanderWonderWorld City Tour Services</h2><p data-v-cd56dc3c> We run heat-smart itineraries, include Old Dubai walking + abra as standard on Dubai routes, and keep add-ons transparent. WhatsApp concierge (08:00–22:00), verified drivers and vehicles, clean and safe stops, child seats on request, and one complimentary re-schedule (≥24h) make your day easy from pickup to drop-off. </p></div>',3))])}const a4=ft(F2,[["render",o4],["__scopeId","data-v-cd56dc3c"]]),l4={name:"Packages",components:{CarCard:un},data(){return{banner:En,logoGold:Ot,logoText:Bt,car1:Xl,car2:Zl,car3:ec,car4:tc,faqs:[{question:"What’s included in the ticket price?",answer:"Your cruise seat, buffet dinner (Halal; veg/non-veg; Jain/vegan by request), water/soft drinks and entertainment when permitted by law/season. Taxes included. Transfers, alcohol (where licensed), seating upgrades and occasion décor are optional add-ons.",open:!1},{question:"Where do we board and when should we arrive?",answer:"Your e-voucher shows the exact pier and a map link. Creek/Marina/Canal: board 8:00 PM, sail 8:30 PM. Lotus: report 7:00 PM, sail 7:30 PM for a 3-hour cruise. Please arrive on time—late arrivals are treated as no-show by the boat operator.",open:!1},{question:"Do you provide hotel transfers?",answer:"Yes—private round-trip transfers are available (Dubai urban): Sedan 1–4 AED 180, MPV 5–7 AED 220, Van 10–14 AED 350. Jebel Ali/JVC/DIP +AED 40–60; from Sharjah +AED 100. Child seats are free on request (limited).",open:!1},{question:"Is alcohol served on board?",answer:"Only on licensed vessels/dates (e.g., Lotus with Premium Drinks add-on). Alcohol is not served during Ramadan and on official dry days as per UAE regulations.",open:!1},{question:"What is the cancellation policy?",answer:"Creek/Marina/Canal: ≥24h free; 12–24h 50%; <12h or no-show 100%. Lotus/VIP: ≥48h free; 24–48h 50%; <24h 100%. Event nights have stricter terms.",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:qn,wechatQR:cn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){zt().open()}}},c4={class:"cruise"},u4={class:"banner-container"},d4=["src"],h4={class:"floating-logos"},f4=["src"],p4=["src"],m4={class:"cards-container"},g4={class:"cta-row-wrapper"},v4={class:"cta-row"},_4={key:0,class:"center-toast",role:"status","aria-live":"polite"},y4={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},b4={class:"qr-modal-box"},w4=["src"],E4={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},T4={class:"qr-modal-box"},A4=["src"],I4={class:"faq-card"},C4=["onClick"],S4={class:"faq-icon"},R4={key:0,class:"faq-answer"};function k4(t,e,n,s,r,i){const o=dt("CarCard");return O(),L("div",c4,[f("div",u4,[f("img",{src:r.banner,alt:"Packages Banner",class:"banner"},null,8,d4),f("div",h4,[f("img",{src:r.logoGold,alt:"Gold Logo",class:"logo"},null,8,f4),f("img",{src:r.logoText,alt:"Text Logo",class:"logo-text"},null,8,p4)])]),e[8]||(e[8]=Ee('<div class="intro" data-v-a1a3068f><h1 data-v-a1a3068f>Dubai Dhow Cruise Dinners — Night Life &amp; Premium</h1><p data-v-a1a3068f> Choose from four evening cruises: Creek Classic, Marina Skyline, Water Canal Glassboat, and the Lotus Mega Yacht. We keep pricing competitive, upgrades transparent (upper-deck/window seating, VIP lounges), and private hotel transfers optional. Vegetarian/Jain meals are available on request, entertainment follows local regulations, and your e-voucher includes a pier map and 24/7 emergency contact for a smooth boarding experience. </p></div><div class="whatsapp-wrapper" data-v-a1a3068f><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20dhow%20cruises." class="whatsapp-button hover-reveal" data-v-a1a3068f><img src="'+dn+'" alt="WhatsApp" data-v-a1a3068f><span class="whatsapp-text" data-v-a1a3068f>Need help? Chat with us!</span></a></div>',2)),f("div",m4,[U(o,{image:r.car1,title:"Creek Classic Dhow Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Creek (Al Seef)",duration:"1.5–2 Hours",price:"from AED 85",link:"/city/sndcruise"},null,8,["image"]),U(o,{image:r.car2,title:"Dubai Marina Dhow Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Marina",duration:"2 Hours",price:"from AED 115",link:"/city/sndcruise"},null,8,["image"]),U(o,{image:r.car3,title:"Dubai Water Canal Glassboat Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Canal",duration:"2-2.5 Hours",price:"from AED 149",link:"/city/sndcruise"},null,8,["image"]),U(o,{image:r.car4,title:"Lotus Mega Yacht Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Marina / Harbour",duration:"3 Hours",price:"from AED 239",link:"/city/sndcruise"},null,8,["image"])]),e[9]||(e[9]=Ee('<div class="text-card" data-v-a1a3068f><h2 data-v-a1a3068f>Dubai Dhow Cruise Price List</h2><table class="price-table" data-v-a1a3068f><thead data-v-a1a3068f><tr data-v-a1a3068f><th data-v-a1a3068f>Dhow Cruise</th><th data-v-a1a3068f>Time/Duration</th><th data-v-a1a3068f>Ticket-Only Price</th></tr></thead><tbody data-v-a1a3068f><tr data-v-a1a3068f><td data-v-a1a3068f>Creek Classic Dhow Dinner</td><td data-v-a1a3068f>90–120 Minutes</td><td data-v-a1a3068f><strong style="color:#b01b1b;" data-v-a1a3068f>Adult AED 85 | Child AED 70</strong></td></tr><tr data-v-a1a3068f><td data-v-a1a3068f>Dubai Marina Dhow Dinner</td><td data-v-a1a3068f>2 Hours</td><td data-v-a1a3068f><strong style="color:#b01b1b;" data-v-a1a3068f>Adult AED 115 | Child AED 95</strong></td></tr><tr data-v-a1a3068f><td data-v-a1a3068f>Dubai Water Canal Glassboat Dinner</td><td data-v-a1a3068f>~2 Hours</td><td data-v-a1a3068f><strong style="color:#b01b1b;" data-v-a1a3068f>Adult AED 149 | Child AED 119</strong></td></tr><tr data-v-a1a3068f><td data-v-a1a3068f>Lotus Mega Yacht Dinner</td><td data-v-a1a3068f>3 Hours</td><td data-v-a1a3068f><strong style="color:#b01b1b;" data-v-a1a3068f>Adult AED 239 | Child AED 189</strong></td></tr></tbody></table><p style="margin-top:8px;font-size:0.95rem;color:#555;" data-v-a1a3068f> * Rates are <strong data-v-a1a3068f>per person</strong>. Infant (0–2) free. Ticket-only prices exclude hotel transfers and seating upgrades. Optional private round-trip transfers (Dubai urban): Sedan 1–4 AED 180 / MPV 5–7 AED 220 / Van 10–14 AED 350 (Jebel Ali/JVC/DIP +AED 40–60; from Sharjah +AED 100). Child seats provided free on request (limited; by UAE law). </p></div>',1)),f("div",g4,[f("div",v4,[f("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...a)=>i.copyEmail&&i.copyEmail(...a))},"Email us"),f("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...a)=>i.openWhatsappModal&&i.openWhatsappModal(...a))},"WhatsApp us"),f("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...a)=>i.openWechatModal&&i.openWechatModal(...a))},"Wechat us"),f("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...a)=>i.bookNow&&i.bookNow(...a))},"My WonderCart")])]),r.showEmailToast?(O(),L("div",_4,[...e[6]||(e[6]=[f("div",{class:"center-toast-box"},[f("p",null,[f("strong",null,"info@wanderwonderworlddubai.com"),ce(" has been copied to your clipboard")])],-1)])])):ne("",!0),r.showWhatsappModal?(O(),L("div",y4,[f("div",b4,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.whatsappQR,alt:"WhatsApp QR"},null,8,w4)])])):ne("",!0),r.showWechatModal?(O(),L("div",E4,[f("div",T4,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.wechatQR,alt:"WeChat QR"},null,8,A4)])])):ne("",!0),f("div",I4,[e[7]||(e[7]=f("h2",null,"FAQs",-1)),(O(!0),L(We,null,It(r.faqs,(a,c)=>(O(),L("div",{key:c,class:"faq-item"},[f("div",{class:"faq-question",onClick:u=>i.toggleFaq(c)},[f("span",null,Y(a.question),1),f("span",S4,Y(a.open?"▲":"▼"),1)],8,C4),a.open?(O(),L("div",R4,[f("p",null,Y(a.answer),1)])):ne("",!0)]))),128))]),e[10]||(e[10]=Ee('<div class="text-card" data-v-a1a3068f><h2 data-v-a1a3068f>Find Your Evening on the Water: Our Cruise Line-up</h2><p data-v-a1a3068f><strong data-v-a1a3068f>Creek Classic Dhow Dinner:</strong> Heritage wooden dhow, Old Dubai skyline, international buffet, water/soft drinks and <em data-v-a1a3068f>Tanoura</em> when permitted. Easy price point and a relaxed vibe. Add an <em data-v-a1a3068f>upper-deck</em> or <em data-v-a1a3068f>window table</em> guarantee, pre-cruise Old Dubai mini walk + abra, or private hotel transfers.</p><p data-v-a1a3068f><strong data-v-a1a3068f>Dubai Marina Dhow Dinner:</strong> The favourite skyline route—Marina, JBR and Bluewaters by night on a traditional dhow or a modern glass boat (operator assigned). Buffet dinner, soft drinks and entertainment when permitted. Optional upper-deck/window seating and birthday/anniversary table décor.</p><p data-v-a1a3068f><strong data-v-a1a3068f>Water Canal Glassboat Dinner:</strong> Premium glass-enclosed vessel along the Dubai Water Canal and Business Bay bridges. Panoramic windows, quieter “fine-dining” ambience, and priority to window-style tables when available. Add a quick Dubai Frame visit before boarding (ticket add-on).</p><p data-v-a1a3068f><strong data-v-a1a3068f>Lotus Mega Yacht Dinner:</strong> Three hours on one of Dubai’s largest yachts—live DJ, multiple decks, live cooking stations and lounge areas. Optional VIP sofa sections and, on licensed dates only, a Premium Drinks package.</p></div><div class="text-card" data-v-a1a3068f><h2 data-v-a1a3068f>Terms &amp; Conditions (Dhow Cruises)</h2><p data-v-a1a3068f><strong data-v-a1a3068f>Boarding &amp; Timing:</strong> Standard cruises board at 8:00 PM and sail at 8:30 PM for ~90–120 minutes (Creek/Marina/Canal). Lotus reports at 7:00 PM and sails 7:30–10:30 PM. Late arrivals are treated as no-show by the boat operator.</p><p data-v-a1a3068f><strong data-v-a1a3068f>Inclusions:</strong> Ticket-only covers the boat seat, buffet dinner (Halal; veg/non-veg; Jain/vegan by request), water/soft drinks, and shows when permitted. Alcohol is only served on licensed vessels and not during Ramadan/dry days.</p><p data-v-a1a3068f><strong data-v-a1a3068f>Transfers:</strong> Private round-trip hotel transfers are optional at the published matrix. Child/booster seats are provided free on request (limited). Eating/drinking/smoking are not allowed inside vehicles.</p><p data-v-a1a3068f><strong data-v-a1a3068f>Seating:</strong> FCFS or operator-assigned. Paid upgrades guarantee a section (upper deck/window/VIP) rather than a specific table number. Families are seated together.</p><p data-v-a1a3068f><strong data-v-a1a3068f>Weather / Route:</strong> Marine control, wind or traffic may alter route/berth (e.g., canal waterfall closures). If the operator cancels, you may re-book or receive a full refund; if the cruise operates with a modified route, refunds do not apply.</p><p data-v-a1a3068f><strong data-v-a1a3068f>Amendment &amp; Cancellation:</strong> Creek/Marina/Canal ≥24h free; 12–24h 50%; &lt;12h or no-show 100%. Lotus/VIP sections ≥48h free; 24–48h 50%; &lt;24h 100%. Event nights (NYE/National Day/major shows) have stricter terms and supplements.</p><p data-v-a1a3068f><strong data-v-a1a3068f>Compliance &amp; Safety:</strong> Vessels are licensed by DMCA/RTA and carry lifejackets with trained crew. Our transfers use insured vehicles and RTA-licensed drivers.</p></div><div class="text-card" data-v-a1a3068f><h2 data-v-a1a3068f>Why Book Your Cruise with WanderWonderWorld</h2><p data-v-a1a3068f> Competitive ticket pricing, clear upgrades, and real-time support. WhatsApp concierge (08:00–22:00), optional private hotel transfers with free child seats on request, occasion add-ons (cake, décor, photographer), and one complimentary re-schedule within the policy window (subject to availability) keep your evening simple—from confirmation to boarding. </p></div>',3))])}const P4=ft(l4,[["render",k4],["__scopeId","data-v-a1a3068f"]]),D4={name:"Contact"},x4={class:"contact"};function N4(t,e,n,s,r,i){return O(),L("div",x4,[...e[0]||(e[0]=[Ee('<div class="banner-container" data-v-11f5456b><img src="'+En+'" alt="Transfers Banner" class="banner" data-v-11f5456b><div class="floating-logos" data-v-11f5456b><img src="'+Ot+'" alt="Gold Logo" class="logo" data-v-11f5456b><img src="'+Bt+'" alt="Text Logo" class="logo-text" data-v-11f5456b></div></div><div class="intro" data-v-11f5456b><h1 data-v-11f5456b>WanderWonderWorld</h1><p data-v-11f5456b> Welcome to WanderWonderWorld Dubai — a direct-to-traveler tour operator and concierge based in the UAE. We design heat-smart, family-friendly trips and operate with vetted, insured partners across tours, safaris, cruises, transfers, and multi-night packages. </p></div><div class="text-card" data-v-11f5456b><div class="card-header" data-v-11f5456b><h2 data-v-11f5456b>About Us</h2><img src="'+Ot+'" alt="WanderWonderWorld Logo" class="about-logo" data-v-11f5456b></div><p data-v-11f5456b><strong data-v-11f5456b>WanderWonderWorld Dubai (WWD)</strong> is a locally run tour company specialized in <em data-v-11f5456b>private city tours</em>, <em data-v-11f5456b>desert safaris</em>, <em data-v-11f5456b>dhow cruises</em>, <em data-v-11f5456b>airport transfers</em>, and <em data-v-11f5456b>land-only holiday packages</em>. Our signature is <strong data-v-11f5456b>Heat-Smart pacing</strong> (outdoors in the morning/evening, indoors at noon) and an <strong data-v-11f5456b>Old Dubai walking + abra ride</strong> included on our Dubai city routes. We work with English-speaking driver-guides and licensed walking guides, keep add-ons transparent, and make family needs easy (complimentary child seats on request, limited stock). </p><ul class="bullets" data-v-11f5456b><li data-v-11f5456b><strong data-v-11f5456b>What we do:</strong> Custom itineraries, time-slotted tickets, private vehicles, and on-trip WhatsApp concierge (08:00–22:00).</li><li data-v-11f5456b><strong data-v-11f5456b>Safety &amp; compliance:</strong> RTA-licensed drivers, insured vehicles, DMCA/RTA-licensed cruise and activity operators, and company public-liability insurance.</li><li data-v-11f5456b><strong data-v-11f5456b>Who we serve:</strong> Couples, families, small groups, and business travelers seeking flexible, value-first experiences.</li><li data-v-11f5456b><strong data-v-11f5456b>Promise:</strong> Clear pricing, reliable operations, and friendly human support before and during your stay.</li></ul><p data-v-11f5456b> Explore more at <a href="https://www.wanderwonderworlddubai.com" target="_blank" rel="noopener" data-v-11f5456b> wanderwonderworlddubai.com </a> or email us at <a href="mailto:info@wanderwonderworlddubai.com" data-v-11f5456b>info@wanderwonderworlddubai.com</a>. </p></div><div class="text-card" data-v-11f5456b><h2 data-v-11f5456b>Terms &amp; Conditions</h2><p data-v-11f5456b> These Terms govern bookings made with <strong data-v-11f5456b>WanderWonderWorld Dubai</strong> (“WWD”, “we”, “us” or “our”) via our website <strong data-v-11f5456b>wanderwonderworlddubai.com</strong>, WhatsApp, email or any other channel. By confirming a service, you acknowledge and accept the following: </p><h3 data-v-11f5456b>1) Pricing &amp; Definitions</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>All rates are in AED and generally include <strong data-v-11f5456b>5% VAT</strong> unless stated otherwise.</li><li data-v-11f5456b><strong data-v-11f5456b>Land-Only</strong> packages exclude international flights and visas.</li><li data-v-11f5456b><strong data-v-11f5456b>Tourism Dirham</strong> (hotel tax) is payable directly at the hotel (by room/night, per hotel class).</li><li data-v-11f5456b>Per-car city tours indicate the maximum seating per vehicle; per-person package rates are based on twin/double unless noted.</li></ul><h3 data-v-11f5456b>2) Booking, Payment &amp; Vouchers</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>A booking is confirmed once payment is received and a WWD confirmation/voucher is issued.</li><li data-v-11f5456b>Time-slotted tickets (e.g., Burj Khalifa, Louvre, waterparks/cruises) and hotel nights are often <strong data-v-11f5456b>non-refundable</strong> per supplier terms.</li><li data-v-11f5456b>Passengers must review vouchers (dates, times, pick-ups) and advise corrections immediately.</li></ul><h3 data-v-11f5456b>3) Amendments &amp; Cancellations</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b><strong data-v-11f5456b>Shared cruises / most city tours:</strong> ≥24h free; 12–24h 50%; &lt;12h or no-show 100%.</li><li data-v-11f5456b><strong data-v-11f5456b>Private full-day tours / Abu Dhabi / packages &amp; hotels:</strong> ≥48h free; 24–48h 50%; &lt;24h 100%.</li><li data-v-11f5456b><strong data-v-11f5456b>Peak nights &amp; special events</strong> (e.g., New Year’s Eve, major shows): stricter supplier policies and surcharges apply.</li><li data-v-11f5456b>Non-refundable tickets follow the attraction/operator policy regardless of tour cancellation windows.</li></ul><h3 data-v-11f5456b>4) Force Majeure &amp; Operational Changes</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>Weather, sandstorms, traffic, road or marine closures, religious observance, and government/security directives may require route/sequence changes or timing shifts.</li><li data-v-11f5456b>If an operator cancels, we <strong data-v-11f5456b>re-schedule first</strong>; if not possible, refunds are limited to <strong data-v-11f5456b>unrecoverable supplier costs</strong> actually withheld.</li><li data-v-11f5456b>We may substitute an equivalent service (vehicle, vessel, guide, time slot) when necessary for safety or operations.</li></ul><h3 data-v-11f5456b>5) Traveler Responsibilities</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>Arrive on time for pick-ups/boarding. Late arrivals may be treated as no-shows by suppliers.</li><li data-v-11f5456b>UAE law requires <strong data-v-11f5456b>child/booster seats</strong> and one seat per passenger in vehicles; please pre-book the seats you need.</li><li data-v-11f5456b>Respect site rules and dress codes. For the <strong data-v-11f5456b>Abu Dhabi Grand Mosque</strong>: ladies must cover hair, shoulders and legs; men must wear long trousers.</li><li data-v-11f5456b>Disclose medical conditions; some activities (e.g., dune bashing, quad/buggy, ziplines, water rides) are not suitable for pregnant travelers or those with back/neck/heart issues.</li></ul><h3 data-v-11f5456b>6) Insurance &amp; Liability</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>WWD maintains company public-liability insurance; suppliers are licensed by relevant authorities (e.g., RTA/DMCA).</li><li data-v-11f5456b>Guests must carry personal <strong data-v-11f5456b>travel insurance</strong> that covers medical care, trip interruption and high-risk activities where applicable.</li><li data-v-11f5456b>WWD is not liable for indirect, incidental, or consequential losses. In any case, our liability is limited to the amount you paid to WWD for the affected service.</li></ul><h3 data-v-11f5456b>7) Complaints &amp; Support</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>Please contact our WhatsApp/phone <strong data-v-11f5456b>during the service</strong> so we can attempt real-time solutions.</li><li data-v-11f5456b>Written claims should be submitted within <strong data-v-11f5456b>7 days</strong> of service date with evidence (tickets, photos, timelines).</li></ul><h3 data-v-11f5456b>8) Data &amp; IP</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>We collect only the information needed to arrange services (names, contacts, flight/hotel details, passport info where required). We don’t sell personal data.</li><li data-v-11f5456b>Website content, itineraries, and trademarks are the property of WWD; reproduction requires prior written consent.</li></ul><h3 data-v-11f5456b>9) Governing Law</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>These Terms are governed by the laws of the United Arab Emirates. Any dispute shall be subject to the jurisdiction of the competent courts in Dubai, UAE.</li></ul><p class="footnote" data-v-11f5456b> By confirming a booking with WWD, you agree to these Terms &amp; Conditions and the specific supplier terms shown on your voucher. We may update these Terms without prior notice; the latest version on our website applies. </p></div>',4)])])}const M4=ft(D4,[["render",N4],["__scopeId","data-v-11f5456b"]]),V4={name:"Admin",data(){return{user:null,tab:"enq",enqs:[],hideDone:!0,content:{},contentJSON:"{}",jsonErr:"",news:[],nf:{title:"",ctaText:"",ctaLink:"",startAt:"",endAt:"",pin:!1}}},computed:{filteredEnqs(){return this.enqs.filter(t=>!this.hideDone||t.status!=="done")}},methods:{login(){dS()},logout(){hS()},fmtDate(t){return t?(t.seconds?new Date(t.seconds*1e3):new Date(t)).toLocaleString():"-"},async mark(t,e){await yS(t.id,{status:e})},exportCSV(){const e=[["createdAt","status","name","email","phone","travelDate","items","message"],...this.enqs.map(i=>{var o,a,c;return[this.fmtDate(i.createdAt),i.status||"new",((o=i.contact)==null?void 0:o.name)||"",((a=i.contact)==null?void 0:a.email)||"",((c=i.contact)==null?void 0:c.phone)||"",i.travelDate||"",(i.items||[]).map(u=>u.title).join("; "),(i.message||"").replace(/\n/g," ")]})].map(i=>i.map(o=>`"${String(o).replace(/"/g,'""')}"`).join(",")).join(`
`),n=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(n),r=document.createElement("a");r.href=s,r.download=`enquiries-${Date.now()}.csv`,r.click(),URL.revokeObjectURL(s)},async saveContentOnly(){await Pc(this.content),alert("Content saved.")},async saveJSON(){try{const t=JSON.parse(this.contentJSON);this.jsonErr="",await Pc(t),this.content={...await Wp()},this.contentJSON=JSON.stringify(this.content,null,2),alert("JSON saved.")}catch(t){this.jsonErr=String(t.message||t)}},async addNewsItem(){await gS({...this.nf}),this.nf={title:"",ctaText:"",ctaLink:"",startAt:"",endAt:"",pin:!1}},async togglePin(t){await vS(t.id,{pin:!t.pin})},async pick(t,e,n){var i;const s=(i=t.target.files)==null?void 0:i[0];if(!s)return;const r=await pS(s,e);this.content[n]=r,await Pc({[n]:r}),alert("Uploaded and saved.")}},async mounted(){fS(e=>{this.user=e||null}),_S(e=>{this.enqs=e.docs.map(n=>({id:n.id,...n.data()}))});const t=await Wp();this.content={...t},this.contentJSON=JSON.stringify(this.content,null,2),mS(e=>{this.news=e.docs.map(n=>({id:n.id,...n.data()}))})}},O4={class:"admin"},L4={class:"bar"},U4={class:"auth"},F4={key:0},W4={key:0,class:"tabs"},q4={key:1,class:"panel"},B4={class:"panel-head"},j4={class:"actions"},H4={key:0,class:"empty"},$4={class:"row"},z4={class:"grid2"},G4=["href"],K4={class:"msg"},Q4={class:"row"},J4=["onClick"],Y4=["onClick"],X4=["onClick"],Z4=["onClick"],e6={key:2,class:"panel"},t6={class:"content-grid"},n6={class:"left"},s6={class:"row"},r6={class:"right"},i6={class:"row"},o6={key:0,class:"err"},a6={key:3,class:"panel"},l6={class:"row"},c6={key:0,class:"badge"},u6={class:"row"},d6={class:"row"},h6=["onClick"],f6={key:4,class:"panel"},p6={class:"upload"},m6={class:"row"};function g6(t,e,n,s,r,i){return O(),L("div",O4,[f("div",L4,[e[26]||(e[26]=f("h2",null,"Admin Panel",-1)),f("div",U4,[r.user?(O(),L("span",F4,"Hi, "+Y(r.user.displayName),1)):ne("",!0),r.user?(O(),L("button",{key:2,onClick:e[1]||(e[1]=(...o)=>i.logout&&i.logout(...o))},"Sign out")):(O(),L("button",{key:1,onClick:e[0]||(e[0]=(...o)=>i.login&&i.login(...o))},"Sign in with Google"))])]),r.user?(O(),L("div",W4,[f("button",{class:mt({on:r.tab==="enq"}),onClick:e[2]||(e[2]=o=>r.tab="enq")},"Enquiries",2),f("button",{class:mt({on:r.tab==="content"}),onClick:e[3]||(e[3]=o=>r.tab="content")},"Site Content",2),f("button",{class:mt({on:r.tab==="news"}),onClick:e[4]||(e[4]=o=>r.tab="news")},"News & Offers",2),f("button",{class:mt({on:r.tab==="images"}),onClick:e[5]||(e[5]=o=>r.tab="images")},"Images",2)])):ne("",!0),r.user&&r.tab==="enq"?(O(),L("section",q4,[f("div",B4,[f("h3",null,"Enquiries ("+Y(r.enqs.length)+")",1),f("div",j4,[f("button",{onClick:e[6]||(e[6]=(...o)=>i.exportCSV&&i.exportCSV(...o))},"Export CSV"),f("label",null,[Ue(f("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=o=>r.hideDone=o)},null,512),[[Em,r.hideDone]]),e[27]||(e[27]=ce(" hide done",-1))])])]),r.enqs.length?ne("",!0):(O(),L("div",H4,"No enquiries yet.")),(O(!0),L(We,null,It(i.filteredEnqs,o=>{var a,c,u,h;return O(),L("div",{key:o.id,class:"card"},[f("div",$4,[f("b",null,Y(i.fmtDate(o.createdAt)),1),f("span",{class:mt(["badge",o.status])},Y(o.status||"new"),3)]),f("div",z4,[f("div",null,[f("div",null,[e[28]||(e[28]=f("b",null,"Name:",-1)),ce(" "+Y(((a=o.contact)==null?void 0:a.name)||"-"),1)]),f("div",null,[e[29]||(e[29]=f("b",null,"Email:",-1)),e[30]||(e[30]=ce()),f("a",{href:`mailto:${(c=o.contact)==null?void 0:c.email}`},Y((u=o.contact)==null?void 0:u.email),9,G4)]),f("div",null,[e[31]||(e[31]=f("b",null,"Phone:",-1)),ce(" "+Y(((h=o.contact)==null?void 0:h.phone)||"-"),1)])]),f("div",null,[f("div",null,[e[32]||(e[32]=f("b",null,"Travel date:",-1)),ce(" "+Y(o.travelDate),1)]),f("div",null,[e[33]||(e[33]=f("b",null,"Items:",-1)),ce(" "+Y((o.items||[]).map(m=>m.title).join(", ")||"(none)"),1)])])]),f("pre",K4,Y(o.message),1),f("div",Q4,[f("button",{onClick:m=>i.mark(o,"new")},"Mark new",8,J4),f("button",{onClick:m=>i.mark(o,"inprogress")},"In progress",8,Y4),f("button",{onClick:m=>i.mark(o,"done")},"Done",8,X4),f("button",{class:"danger",onClick:m=>i.mark(o,"archived")},"Archive",8,Z4)])])}),128))])):ne("",!0),r.user&&r.tab==="content"?(O(),L("section",e6,[e[40]||(e[40]=f("h3",null,"Site Content",-1)),e[41]||(e[41]=f("p",{class:"hint"},"常用字段在左边；右边可直接编辑 JSON（更自由）。保存任意一处即可。",-1)),f("div",t6,[f("div",n6,[e[34]||(e[34]=f("label",{class:"lbl"},"Home slogan (EN)",-1)),Ue(f("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>r.content.homeSloganEn=o),class:"inp",placeholder:"Your Journey, Our Passion."},null,512),[[ze,r.content.homeSloganEn]]),e[35]||(e[35]=f("label",{class:"lbl"},"Home slogan (ZH)",-1)),Ue(f("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>r.content.homeSloganZh=o),class:"inp",placeholder:"您的旅程，我们的热爱。"},null,512),[[ze,r.content.homeSloganZh]]),e[36]||(e[36]=f("label",{class:"lbl"},"Airport Transfer (from AED)",-1)),Ue(f("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>r.content.priceAirportFrom=o),type:"number",class:"inp",placeholder:"e.g. 90"},null,512),[[ze,r.content.priceAirportFrom,void 0,{number:!0}]]),e[37]||(e[37]=f("label",{class:"lbl"},"Half-day Driver (from AED)",-1)),Ue(f("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>r.content.priceHalfDayFrom=o),type:"number",class:"inp",placeholder:"e.g. 300"},null,512),[[ze,r.content.priceHalfDayFrom,void 0,{number:!0}]]),e[38]||(e[38]=f("label",{class:"lbl"},"Full-day Driver (from AED)",-1)),Ue(f("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>r.content.priceFullDayFrom=o),type:"number",class:"inp",placeholder:"e.g. 510"},null,512),[[ze,r.content.priceFullDayFrom,void 0,{number:!0}]]),f("div",s6,[f("button",{onClick:e[13]||(e[13]=(...o)=>i.saveContentOnly&&i.saveContentOnly(...o))},"Save content")])]),f("div",r6,[e[39]||(e[39]=f("label",{class:"lbl"},"Raw JSON (advanced)",-1)),Ue(f("textarea",{"onUpdate:modelValue":e[14]||(e[14]=o=>r.contentJSON=o),class:"json"},null,512),[[ze,r.contentJSON]]),f("div",i6,[f("button",{onClick:e[15]||(e[15]=(...o)=>i.saveJSON&&i.saveJSON(...o))},"Save JSON"),r.jsonErr?(O(),L("span",o6,"JSON 格式错误："+Y(r.jsonErr),1)):ne("",!0)])])])])):ne("",!0),r.user&&r.tab==="news"?(O(),L("section",a6,[e[44]||(e[44]=f("h3",null,"News & Offers",-1)),f("form",{class:"news-form",onSubmit:e[22]||(e[22]=es((...o)=>i.addNewsItem&&i.addNewsItem(...o),["prevent"]))},[Ue(f("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>r.nf.title=o),class:"inp",placeholder:"Title",required:""},null,512),[[ze,r.nf.title]]),Ue(f("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>r.nf.ctaText=o),class:"inp",placeholder:"CTA text (optional)"},null,512),[[ze,r.nf.ctaText]]),Ue(f("input",{"onUpdate:modelValue":e[18]||(e[18]=o=>r.nf.ctaLink=o),class:"inp",placeholder:"/transfers or https://..."},null,512),[[ze,r.nf.ctaLink]]),Ue(f("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>r.nf.startAt=o),class:"inp",placeholder:"Start (YYYY-MM-DD)"},null,512),[[ze,r.nf.startAt]]),Ue(f("input",{"onUpdate:modelValue":e[20]||(e[20]=o=>r.nf.endAt=o),class:"inp",placeholder:"End (YYYY-MM-DD)"},null,512),[[ze,r.nf.endAt]]),f("label",null,[Ue(f("input",{type:"checkbox","onUpdate:modelValue":e[21]||(e[21]=o=>r.nf.pin=o)},null,512),[[Em,r.nf.pin]]),e[42]||(e[42]=ce(" PIN",-1))]),e[43]||(e[43]=f("button",{type:"submit"},"Add",-1))],32),(O(!0),L(We,null,It(r.news,o=>(O(),L("div",{key:o.id,class:"card"},[f("div",l6,[f("b",null,Y(o.title),1),o.pin?(O(),L("span",c6,"PIN")):ne("",!0)]),f("div",u6,[f("span",null,"CTA: "+Y(o.ctaText)+" → "+Y(o.ctaLink),1),f("span",null,"time: "+Y(o.startAt||"-")+" ~ "+Y(o.endAt||"-"),1)]),f("div",d6,[f("button",{onClick:a=>i.togglePin(o)},Y(o.pin?"Unpin":"Pin"),9,h6)])]))),128))])):ne("",!0),r.user&&r.tab==="images"?(O(),L("section",f6,[e[46]||(e[46]=f("h3",null,"Images",-1)),f("div",p6,[e[45]||(e[45]=f("label",null,"Home hero image",-1)),f("input",{type:"file",accept:"image/*",onChange:e[23]||(e[23]=o=>i.pick(o,"images/home/hero.jpg","homeHeroUrl"))},null,32),f("div",m6,[Ue(f("input",{"onUpdate:modelValue":e[24]||(e[24]=o=>r.content.homeHeroUrl=o),class:"inp",placeholder:"https://..."},null,512),[[ze,r.content.homeHeroUrl]]),f("button",{onClick:e[25]||(e[25]=(...o)=>i.saveContentOnly&&i.saveContentOnly(...o))},"Save URL")])])])):ne("",!0)])}const Ab=ft(V4,[["render",g6],["__scopeId","data-v-a85461b4"]]),v6=Object.freeze(Object.defineProperty({__proto__:null,default:Ab},Symbol.toStringTag,{value:"Module"})),_6={name:"Home",components:{NewsBoard:yb,CarCard:un},data(){return{currentIndex:0,bannerImages:[new URL("/assets/banner1-DjPx_cAn.jpg",import.meta.url).href,new URL("/assets/banner2-DwLu9nI3.jpg",import.meta.url).href,new URL("/assets/banner3-I6jzlz9s.jpg",import.meta.url).href,new URL("/assets/banner4-CRtfJVKr.jpg",import.meta.url).href,new URL("/assets/banner5-CLWkLY9C.jpg",import.meta.url).href,new URL("/assets/banner9-uIX4Dg8A.jpg",import.meta.url).href],car1:Ol,car2:Ll,car3:Ul,car4:Fl,tp1:Wl,tp2:ql,tp3:Bl,tp4:jl,sf1:Hl,sf2:$l,sf3:zl,sf4:Gl,ct1:Kl,ct2:Ql,ct3:Jl,ct4:Yl,dc1:Xl,dc2:Zl,dc3:ec,dc4:tc,faqs:[{q:"迪拜的发展脉络是什么？",a:"迪拜由海湾贸易与采珠港口起步，成长为物流与航空枢纽；近二十年转向旅游、会展与金融，因此形成今日的现代天际线与完善的城市基础设施。",open:!1},{q:"有哪些文化礼仪需要注意？",a:"阿联酋奉行伊斯兰传统。公共场合请着装得体，参观清真寺需遵守礼规与安检；在斋月及禁酒日，营业时间与娱乐活动会有所调整。",open:!1},{q:"气候如何，行程该如何安排？",a:"属炎热沙漠气候。建议采用 <em>Heat-Smart</em> 节奏：早晚进行户外活动，中午安排室内景点（观景台、博物馆、商场）。",open:!1},{q:"适合亲子与长者吗？",a:"适合。可按需提供儿童/增高座椅；沙漠项目可在 ≥48 小时提前通知下调整为更温和的早晨场；中午室内时间更适合各年龄层。",open:!1}]}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open}},mounted(){setInterval(()=>{this.currentIndex=(this.currentIndex+1)%this.bannerImages.length},1e4)}},y6={class:"home"},b6={class:"banner-container"},w6=["src"],E6={class:"intro-text"},T6={class:"news-trust-grid"},A6={class:"news-col"},I6={class:"cards-container"},C6={class:"cards-container"},S6={class:"cards-container"},R6={class:"cards-container"},k6={class:"cards-container"},P6={class:"text-card faq-accordion"},D6=["onClick","aria-expanded"],x6={key:0,class:"faq-a"},N6=["innerHTML"];function M6(t,e,n,s,r,i){const o=dt("NewsBoard"),a=dt("CarCard");return O(),L("div",y6,[f("div",b6,[f("img",{src:r.bannerImages[r.currentIndex],alt:"横幅",class:"banner"},null,8,w6),e[0]||(e[0]=f("div",{class:"floating-logos"},[f("img",{src:Ot,alt:"金色标志",class:"logo"}),f("img",{src:Bt,alt:"文字标志",class:"logo-text"})],-1))]),e[11]||(e[11]=f("h2",null,"万德假日，欢迎您访问 WanderWonderWorldDubai.com",-1)),e[12]||(e[12]=f("p",{class:"slogan"},"您的旅程，我们的热爱。",-1)),f("div",E6,[e[3]||(e[3]=f("h3",null,"迪拜旅行 · 有温度的服务",-1)),e[4]||(e[4]=f("p",null," 万德假日（WanderWonderWorld）是您在迪拜值得信赖的旅行伙伴，提供专业服务与难忘体验。 无论是专车接送、金色沙漠探险，还是天际线游船观光，我们都为您定制贴合心愿的旅程。 借助本地专家洞察与个性化关怀，带您走进阿联酋的多彩与活力。 ",-1)),f("div",T6,[f("section",A6,[U(o)]),e[1]||(e[1]=Ee('<section class="trust-col" data-v-53729f9c><section class="trust" data-v-53729f9c><h3 class="trust-title" data-v-53729f9c>您在迪拜值得信赖的行程专家</h3><div class="trust-stack" data-v-53729f9c><article class="trust-card trust-lime" data-v-53729f9c><div class="trust-icon" data-v-53729f9c><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-53729f9c><path d="M12 3l7 3v6c0 4.418-3.582 8-8 8s-8-3.582-8-8V6l9-3z" fill="none" stroke="currentColor" stroke-width="1.8" data-v-53729f9c></path><path d="M9 12l2 2 4-4" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" data-v-53729f9c></path></svg></div><div class="trust-text" data-v-53729f9c><h4 data-v-53729f9c>持牌运营 · 全面保险</h4><p data-v-53729f9c> RTA 持牌车辆与商业保险司机；DTCM 合规运营，全程安心无忧。 </p></div></article><article class="trust-card trust-purple" data-v-53729f9c><div class="trust-icon" data-v-53729f9c><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-53729f9c><circle cx="12" cy="12" r="4.5" fill="none" stroke="currentColor" stroke-width="1.8" data-v-53729f9c></circle><path d="M12 2v3M12 19v3M4.22 4.22l2.12 2.12M17.66 17.66l2.12 2.12M2 12h3M19 12h3M4.22 19.78l2.12-2.12M17.66 6.34l2.12-2.12" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" data-v-53729f9c></path></svg></div><div class="trust-text" data-v-53729f9c><h4 data-v-53729f9c>防暑节奏 · 更舒适</h4><p data-v-53729f9c> 早晚安排户外，中午转为室内（观景台、博物馆、商场）——夏季更清凉，亲子更友好。 </p></div></article><article class="trust-card trust-teal" data-v-53729f9c><div class="trust-icon" data-v-53729f9c><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-53729f9c><circle cx="12" cy="12" r="9" fill="none" stroke="currentColor" stroke-width="1.8" data-v-53729f9c></circle><circle cx="12" cy="12" r="2.2" fill="none" stroke="currentColor" stroke-width="1.6" data-v-53729f9c></circle><path d="M3.5 12h7m2.9 0h7M12 3.5v4.8M8.2 18.4l2.2-3.8m5.4 3.8l-2.2-3.8" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" data-v-53729f9c></path></svg></div><div class="trust-text" data-v-53729f9c><h4 data-v-53729f9c>司机讲解 · 私享导览</h4><p data-v-53729f9c> 中英双语司机沿途讲解；老迪拜徒步或指定场馆可加配持证导游（按需安排）。 </p></div></article></div></section></section>',1))]),e[5]||(e[5]=Ee('<div class="whatsapp-wrapper" data-v-53729f9c><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-53729f9c><img src="'+dn+'" alt="WhatsApp" data-v-53729f9c><span class="whatsapp-text" data-v-53729f9c>需要帮助？点击咨询！</span></a></div><h3 class="section-title" data-v-53729f9c>私人接送</h3>',2)),f("div",I6,[U(a,{image:r.car1,title:"机场接送",subtitle:"含司机用车",tour:"迪拜市区",duration:"以航班为准",price:"AED 190 起",link:"/transfers/short1"},null,8,["image"]),U(a,{image:r.car2,title:"半日包车（含司机）",subtitle:"含司机用车",tour:"迪拜市区",duration:"5小时",price:"AED 300 起",link:"/transfers/short1"},null,8,["image"]),U(a,{image:r.car3,title:"全日包车（含司机）",subtitle:"含司机用车",tour:"迪拜市区",duration:"10小时",price:"AED 510 起",link:"/transfers/long1"},null,8,["image"]),U(a,{image:r.car4,title:"迪拜—阿布扎比往返",subtitle:"含司机用车",tour:"阿布扎比",duration:"10小时",price:"AED 610 起",link:"/transfers/long1"},null,8,["image"])]),e[6]||(e[6]=f("h3",{class:"section-title"},"精选行程套餐",-1)),f("div",C6,[U(a,{image:r.tp1,title:"迪拜3晚入门之旅",subtitle:"行程套餐",tour:"迪拜市区",duration:"4天",price:"成人 AED 849 起",link:"/package/34nights1"},null,8,["image"]),U(a,{image:r.tp2,title:"4晚亲子优选",subtitle:"行程套餐",tour:"迪拜市区",duration:"5天",price:"成人 AED 1099 起",link:"/package/34nights1"},null,8,["image"]),U(a,{image:r.tp3,title:"迪拜+阿布扎比5晚精华",subtitle:"行程套餐",tour:"迪拜 + 阿布扎比",duration:"6天",price:"成人 AED 1349 起",link:"/package/56nights1"},null,8,["image"]),U(a,{image:r.tp4,title:"6晚臻选升级",subtitle:"行程套餐",tour:"迪拜 + 阿布扎比",duration:"7天",price:"成人 AED 1599 起",link:"/package/56nights1"},null,8,["image"])]),e[7]||(e[7]=f("h3",{class:"section-title"},"沙漠探险",-1)),f("div",S6,[U(a,{image:r.sf1,title:"晨曦沙丘越野",subtitle:"经典系列",tour:"早晨私人团",duration:"4.5小时",price:"AED 500 起",link:"/safari/regsafari1"},null,8,["image"]),U(a,{image:r.sf2,title:"日落沙丘优选",subtitle:"臻选系列",tour:"日落私人团",duration:"6小时",price:"AED 700 起",link:"/safari/regsafari1"},null,8,["image"]),U(a,{image:r.sf3,title:"加长版沙丘刺激",subtitle:"尊尚系列",tour:"加长私人团",duration:"7小时",price:"AED 1100 起",link:"/safari/upsafari1"},null,8,["image"]),U(a,{image:r.sf4,title:"皇家沙漠过夜营",subtitle:"皇室系列",tour:"豪华过夜",duration:"16小时",price:"AED 2000 起",link:"/safari/upsafari1"},null,8,["image"])]),e[8]||(e[8]=f("h3",{class:"section-title"},"城市观光",-1)),f("div",R6,[U(a,{image:r.ct1,title:"半日迪拜精华",subtitle:"城市观光服务",tour:"迪拜市区",duration:"5小时",price:"AED 325 起",link:"/city/city121"},null,8,["image"]),U(a,{image:r.ct2,title:"全日迪拜全景",subtitle:"城市观光服务",tour:"迪拜市区",duration:"10小时",price:"AED 559 起",link:"/city/city121"},null,8,["image"]),U(a,{image:r.ct3,title:"阿布扎比文化一日游",subtitle:"城市观光服务",tour:"阿布扎比",duration:"10–11小时",price:"AED 659 起",link:"/city/city341"},null,8,["image"]),U(a,{image:r.ct4,title:"哈塔山谷度假一日游",subtitle:"城市观光服务",tour:"哈塔",duration:"10–11小时",price:"AED 710 起",link:"/city/city341"},null,8,["image"])]),e[9]||(e[9]=f("h3",{class:"section-title"},"游船晚宴",-1)),f("div",k6,[U(a,{image:r.dc1,title:"迪拜溪传统独桅帆船晚餐",subtitle:"游船观光",tour:"迪拜溪（Al Seef）",duration:"1.5–2小时",price:"AED 85 起",link:"/city/sndcruise1"},null,8,["image"]),U(a,{image:r.dc2,title:"迪拜码头独桅帆船晚餐",subtitle:"游船观光",tour:"迪拜码头",duration:"2小时",price:"AED 115 起",link:"/city/sndcruise1"},null,8,["image"]),U(a,{image:r.dc3,title:"水道玻璃游船晚餐",subtitle:"游船观光",tour:"迪拜运河",duration:"约2小时",price:"AED 149 起",link:"/city/sndcruise1"},null,8,["image"]),U(a,{image:r.dc4,title:"Lotus 巨型游艇晚餐",subtitle:"游船观光",tour:"迪拜码头 / 港湾",duration:"3小时",price:"AED 239 起",link:"/city/sndcruise1"},null,8,["image"])]),e[10]||(e[10]=Ee('<div class="text-card" data-v-53729f9c><h2 data-v-53729f9c>如何使用万德假日（WanderWonderWorld）— 简洁清晰</h2><ol class="process-list" data-v-53729f9c><li data-v-53729f9c><strong data-v-53729f9c>浏览</strong> 上方各栏目：私人接送、行程套餐、沙漠探险、城市观光或游船晚宴。</li><li data-v-53729f9c><strong data-v-53729f9c>加入万德购物车</strong> 点击“加入万德购物车”或“立即预订”，将心仪服务加入清单。</li><li data-v-53729f9c><strong data-v-53729f9c>打开万德购物车</strong> 填写姓名、邮箱、出行日期与简要需求说明；支持一次提交多项服务。</li><li data-v-53729f9c><strong data-v-53729f9c>提交</strong> — 我们会在 <em data-v-53729f9c>3个工作日</em> 内邮件回复。需要更快？请通过 <a href="https://wa.me/971589831967" target="_blank" rel="noopener" data-v-53729f9c>WhatsApp</a> 或 <a href="mailto:info@wanderwonderworlddubai.com" data-v-53729f9c>电子邮件</a> 联系我们。 </li><li data-v-53729f9c><strong data-v-53729f9c>确认</strong> — 确认后您将收到行程单与上车详情；服务前 24 小时我们会通过 WhatsApp 再次确认。</li></ol></div>',1)),f("div",P6,[e[2]||(e[2]=f("h2",null,"常见问题 — 迪拜一览",-1)),(O(!0),L(We,null,It(r.faqs,(c,u)=>(O(),L("div",{key:u,class:"faq-row"},[f("button",{class:"faq-q",onClick:h=>i.toggleFaq(u),"aria-expanded":c.open.toString()},[f("span",{class:mt(["tri",{open:c.open}])},null,2),ce(" "+Y(c.q),1)],8,D6),U(uh,{name:"faq"},{default:Qe(()=>[c.open?(O(),L("div",x6,[f("p",{innerHTML:c.a},null,8,N6)])):ne("",!0)]),_:2},1024)]))),128))])])])}const V6=ft(_6,[["render",M6],["__scopeId","data-v-53729f9c"]]),O6={name:"Transfers",components:{CarCard:un},data(){return{banner:En,logoGold:Ot,logoText:Bt,car1:Ol,car2:Ll,car3:Ul,car4:Fl,faqs:[{question:"需要提前预订接送服务吗？",answer:"建议提前预订以确保车辆与司机的可用，并锁定您偏好的车型。",open:!1},{question:"机场接机是否包含等候时间？",answer:"是的，机场接机包含最长 60 分钟免费等候；超出部分可能产生少量等候费用。",open:!1},{question:"行程中可以临时延长用车吗？",answer:"可以，视当日车辆可用情况而定，并按小时收取加时费用。",open:!1},{question:"价格是否包含景点门票或餐食？",answer:"不包含。报价仅涵盖车辆与司机服务；景点门票、餐食及个人消费不在内。",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:qn,wechatQR:cn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){zt().open()}}},L6={class:"transfers"},U6={class:"banner-container"},F6=["src"],W6={class:"floating-logos"},q6=["src"],B6=["src"],j6={class:"cards-container"},H6={class:"cta-row-wrapper"},$6={class:"cta-row"},z6={key:0,class:"center-toast",role:"status","aria-live":"polite"},G6={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},K6={class:"qr-modal-box"},Q6=["src"],J6={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},Y6={class:"qr-modal-box"},X6=["src"],Z6={class:"faq-card"},ex=["onClick"],tx={class:"faq-icon"},nx={key:0,class:"faq-answer"};function sx(t,e,n,s,r,i){const o=dt("CarCard");return O(),L("div",L6,[f("div",U6,[f("img",{src:r.banner,alt:"接送横幅",class:"banner"},null,8,F6),f("div",W6,[f("img",{src:r.logoGold,alt:"金色标志",class:"logo"},null,8,q6),f("img",{src:r.logoText,alt:"文字标志",class:"logo-text"},null,8,B6)])]),e[8]||(e[8]=Ee('<div class="intro" data-v-716c97a5><h1 data-v-716c97a5>迪拜私人接送 — 轻松抵达</h1><p data-v-716c97a5>以舒适与便捷开启您的迪拜旅程。万德假日（WanderWonderWorld）为您提供口碑优选的私人接送与含司机用车服务，车队整洁保养到位，资深司机熟悉阿联酋道路。无论是无忧的机场接送，还是个性化城市观光与商务行程，我们都以专业、顺畅的服务，贴合您的出行心愿。</p></div><div class="whatsapp-wrapper" data-v-716c97a5><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-716c97a5><img src="'+dn+'" alt="WhatsApp" data-v-716c97a5><span class="whatsapp-text" data-v-716c97a5>需要帮助？点击咨询！</span></a></div>',2)),f("div",j6,[U(o,{image:r.car1,title:"机场接送",subtitle:"含司机用车",tour:"迪拜市区",duration:"以航班为准",price:"AED 190 起",link:"/transfers/short1"},null,8,["image"]),U(o,{image:r.car2,title:"半日包车（含司机）",subtitle:"含司机用车",tour:"迪拜市区",duration:"5小时",price:"AED 300 起",link:"/transfers/short1"},null,8,["image"]),U(o,{image:r.car3,title:"全日包车（含司机）",subtitle:"含司机用车",tour:"迪拜市区",duration:"10小时",price:"AED 510 起",link:"/transfers/long"},null,8,["image"]),U(o,{image:r.car4,title:"迪拜至阿布扎比（观光）",subtitle:"含司机用车",tour:"阿布扎比",duration:"10小时",price:"AED 610 起",link:"/transfers/long"},null,8,["image"])]),e[9]||(e[9]=Ee('<div class="text-card" data-v-716c97a5><h2 data-v-716c97a5>迪拜司导用车价目表</h2><table class="price-table" data-v-716c97a5><thead data-v-716c97a5><tr data-v-716c97a5><th data-v-716c97a5>司导服务</th><th data-v-716c97a5>车型</th><th data-v-716c97a5>价格</th></tr></thead><tbody data-v-716c97a5><tr data-v-716c97a5><td data-v-716c97a5>机场接送（DXB → 迪拜市区酒店）</td><td data-v-716c97a5>SUV（4–6人）</td><td data-v-716c97a5><strong style="color:#b01b1b;" data-v-716c97a5>AED 190</strong></td></tr><tr data-v-716c97a5><td data-v-716c97a5></td><td data-v-716c97a5>商务车（7–10人）</td><td data-v-716c97a5><strong style="color:#b01b1b;" data-v-716c97a5>AED 230</strong></td></tr><tr data-v-716c97a5><td data-v-716c97a5>机场接送（AUH → 迪拜市区酒店）</td><td data-v-716c97a5>SUV（4–6人）</td><td data-v-716c97a5><strong style="color:#b01b1b;" data-v-716c97a5>AED 330</strong></td></tr><tr data-v-716c97a5><td data-v-716c97a5></td><td data-v-716c97a5>商务车（7–10人）</td><td data-v-716c97a5><strong style="color:#b01b1b;" data-v-716c97a5>AED 380</strong></td></tr><tr data-v-716c97a5><td data-v-716c97a5>半日包车（含司机，5小时）</td><td data-v-716c97a5>SUV（4–6人）</td><td data-v-716c97a5><strong style="color:#b01b1b;" data-v-716c97a5>AED 300</strong></td></tr><tr data-v-716c97a5><td data-v-716c97a5></td><td data-v-716c97a5>商务车（7–10人）</td><td data-v-716c97a5><strong style="color:#b01b1b;" data-v-716c97a5>AED 330</strong></td></tr><tr data-v-716c97a5><td data-v-716c97a5>全日包车（含司机，10小时）</td><td data-v-716c97a5>SUV（4–6人）</td><td data-v-716c97a5><strong style="color:#b01b1b;" data-v-716c97a5>AED 510</strong></td></tr><tr data-v-716c97a5><td data-v-716c97a5></td><td data-v-716c97a5>商务车（7–10人）</td><td data-v-716c97a5><strong style="color:#b01b1b;" data-v-716c97a5>AED 550</strong></td></tr><tr data-v-716c97a5><td data-v-716c97a5>迪拜 → 阿布扎比观光（10小时）</td><td data-v-716c97a5>SUV（4–6人）</td><td data-v-716c97a5><strong style="color:#b01b1b;" data-v-716c97a5>AED 610</strong></td></tr><tr data-v-716c97a5><td data-v-716c97a5></td><td data-v-716c97a5>商务车（7–10人）</td><td data-v-716c97a5><strong style="color:#b01b1b;" data-v-716c97a5>AED 650</strong></td></tr></tbody></table></div>',1)),f("div",H6,[f("div",$6,[f("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...a)=>i.copyEmail&&i.copyEmail(...a))}," 邮件联系我们 "),f("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...a)=>i.openWhatsappModal&&i.openWhatsappModal(...a))}," WhatsApp 联系我们 "),f("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...a)=>i.openWechatModal&&i.openWechatModal(...a))}," 微信联系我们 "),f("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...a)=>i.bookNow&&i.bookNow(...a))}," 万德购物车 ")])]),r.showEmailToast?(O(),L("div",z6,[...e[6]||(e[6]=[f("div",{class:"center-toast-box"},[f("p",null,[f("strong",null,"info@wanderwonderworlddubai.com"),ce(" 已复制到您的剪贴板")])],-1)])])):ne("",!0),r.showWhatsappModal?(O(),L("div",G6,[f("div",K6,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.whatsappQR,alt:"WhatsApp 二维码"},null,8,Q6)])])):ne("",!0),r.showWechatModal?(O(),L("div",J6,[f("div",Y6,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.wechatQR,alt:"微信二维码"},null,8,X6)])])):ne("",!0),f("div",Z6,[e[7]||(e[7]=f("h2",null,"常见问题",-1)),(O(!0),L(We,null,It(r.faqs,(a,c)=>(O(),L("div",{key:c,class:"faq-item"},[f("div",{class:"faq-question",onClick:u=>i.toggleFaq(c)},[f("span",null,Y(a.question),1),f("span",tx,Y(a.open?"▲":"▼"),1)],8,ex),a.open?(O(),L("div",nx,[f("p",null,Y(a.answer),1)])):ne("",!0)]))),128))]),e[10]||(e[10]=Ee('<div class="text-card" data-v-716c97a5><h2 data-v-716c97a5>顺畅出行：我们的迪拜司导服务</h2><p data-v-716c97a5>万德假日为您提供专业可靠的司导服务，专注舒适与安心。我们的车辆整洁保养良好，由持证且经验丰富的司机运营；从高效的机场接送到按需定制的一日行程，确保安全省心的出行体验。我们始终重视准点守时、车辆安全与优质服务。</p></div><div class="text-card" data-v-716c97a5><h2 data-v-716c97a5>量身定制：私人用车与司机选择</h2><p data-v-716c97a5><strong data-v-716c97a5>机场接送：</strong> 提供迪拜（DXB）与阿布扎比（AUH）机场至两地任意目的地的准点迎送服务，司机实时关注航班动态，航班延误亦可及时衔接。</p><p data-v-716c97a5><strong data-v-716c97a5>半日/全日包车：</strong> 以小时或天为单位的司导服务，自由安排行程节奏，适用于城市观光、商务会议或家庭出游。</p><p data-v-716c97a5><strong data-v-716c97a5>安全与舒适：</strong> 车辆行李空间充足；如需儿童座椅，请提前告知，我们将为您的家庭出行提供更周到的保障。</p><p data-v-716c97a5><strong data-v-716c97a5>价格说明：</strong> 价格根据车型与用车时长透明计费；欢迎联系我们，根据您的具体计划提供详细报价。</p></div><div class="text-card" data-v-716c97a5><h2 data-v-716c97a5>预订条款与细则</h2><p data-v-716c97a5><strong data-v-716c97a5>服务名额：</strong> 所有服务以车辆与司机当日可用为准，建议提前预订以确保心仪日期与车型。</p><p data-v-716c97a5><strong data-v-716c97a5>车辆使用：</strong> 司导服务适用于私人接送与日间观光；车内禁止饮食与吸烟。</p><p data-v-716c97a5><strong data-v-716c97a5>取消政策：</strong> 取消需遵循预订政策以避免费用；具体条款将在预订时告知。</p><p data-v-716c97a5><strong data-v-716c97a5>未到场（No-Show）：</strong> 如到约定上车点迟到且未事先通知，可能视为未到场并产生相应费用。</p><p data-v-716c97a5><strong data-v-716c97a5>超时计费：</strong> 行程加时将按车型与原预订时长另行计费。</p><p data-v-716c97a5><strong data-v-716c97a5>旺季附加费：</strong> 特定日期可能收取旺季附加费，预订时将明确说明。</p><p data-v-716c97a5><strong data-v-716c97a5>导游说明：</strong> 司机并非持证导游，如需持证中文或英文导游，可按需另行安排并收取相应费用。</p></div><div class="text-card" data-v-716c97a5><h2 data-v-716c97a5>万德假日的目的地服务</h2><p data-v-716c97a5>作为迪拜持牌目的地管理公司（DMC），万德假日提供覆盖面广的旅游与交通解决方案。我们的含司机用车服务贯穿机场接送、城市观光、商务会务与家庭休闲行程，旨在为您带来专业顺畅的体验。</p><p data-v-716c97a5>我们提供多样车型选择，包括豪华轿车、家庭宽体商务车与舒适旅游巴士；所有车辆均由专业司机全程协助。若涉及团体预订或复杂行程，我们的团队可为您定制与您愿景高度匹配的专属方案。</p></div>',4))])}const rx=ft(O6,[["render",sx],["__scopeId","data-v-716c97a5"]]),ix={name:"Packages",components:{CarCard:un},data(){return{banner:En,logoGold:Ot,logoText:Bt,car1:Wl,car2:ql,car3:Bl,car4:jl,faqs:[{question:"套餐价格包含哪些内容？",answer:"私人往返机场接送、含早酒店、按行程配备的私人用车、所列景点门票（如哈利法塔124/125、The View/迪拜之框、码头晚餐游船等），以及晚间沙漠探险（亲子可改为更温和的早晨场）。为纯陆地产品，不含机票与签证。",open:!1},{question:"成人与儿童价格如何适用？",answer:"成人价适用于 11 岁及以上；儿童价适用于 3–10 岁并与成人同房不加床；婴儿 0–2 岁免费（不占座/床）。加床与单房差按季节与酒店政策收取。",open:!1},{question:"观光日程的先后顺序可以调整吗？",answer:"可以。我们为私人行程，可依据您的航班、季节与活动调整每日顺序。旺季/热门景点可能需要更换门票时段。",open:!1},{question:"阿布扎比清真寺的着装要求会严格执行吗？",answer:"会。女士需遮盖头发、肩膀与腿部；男士需穿长裤。安检严格，我们会提前说明并提供着装建议。",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:qn,wechatQR:cn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){zt().open()}}},ox={class:"packages"},ax={class:"banner-container"},lx=["src"],cx={class:"floating-logos"},ux=["src"],dx=["src"],hx={class:"cards-container"},fx={class:"cta-row-wrapper"},px={class:"cta-row"},mx={key:0,class:"center-toast",role:"status","aria-live":"polite"},gx={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},vx={class:"qr-modal-box"},_x=["src"],yx={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},bx={class:"qr-modal-box"},wx=["src"],Ex={class:"faq-card"},Tx=["onClick"],Ax={class:"faq-icon"},Ix={key:0,class:"faq-answer"};function Cx(t,e,n,s,r,i){const o=dt("CarCard");return O(),L("div",ox,[f("div",ax,[f("img",{src:r.banner,alt:"套餐横幅",class:"banner"},null,8,lx),f("div",cx,[f("img",{src:r.logoGold,alt:"金色标志",class:"logo"},null,8,ux),f("img",{src:r.logoText,alt:"文字标志",class:"logo-text"},null,8,dx)])]),e[8]||(e[8]=Ee('<div class="intro" data-v-673fc3c9><h1 data-v-673fc3c9>迪拜假期套餐 — 私人定制 · 弹性安排</h1><p data-v-673fc3c9> 用更聪明的方式规划您的迪拜之旅。我们的四款「纯陆地」私人套餐，将必看地标与「防暑节奏」巧妙结合： 早晚户外，中午室内。老迪拜徒步（含持证中文导游）与水上的 <em data-v-673fc3c9>阿布拉</em> 小船体验为标准配置； 全程由司机兼中文讲解随行。以「价值优先」为定价原则，覆盖成人与儿童价格、私人机场接送、甄选含早酒店、 合规与认证车辆，让旅程顺畅安心。 </p></div><div class="whatsapp-wrapper" data-v-673fc3c9><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-673fc3c9><img src="'+dn+'" alt="WhatsApp" data-v-673fc3c9><span class="whatsapp-text" data-v-673fc3c9>需要帮助？点击咨询！</span></a></div>',2)),f("div",hx,[U(o,{image:r.car1,title:"迪拜3晚入门之旅",subtitle:"行程套餐",tour:"迪拜市区",duration:"4天",price:"成人 AED 849 起",link:"/package/34nights1"},null,8,["image"]),U(o,{image:r.car2,title:"4晚亲子优选",subtitle:"行程套餐",tour:"迪拜市区",duration:"5天",price:"成人 AED 1099 起",link:"/package/34nights1"},null,8,["image"]),U(o,{image:r.car3,title:"迪拜 + 阿布扎比5晚精华",subtitle:"行程套餐",tour:"迪拜 + 阿布扎比",duration:"6天",price:"成人 AED 1349 起",link:"/package/56nights1"},null,8,["image"]),U(o,{image:r.car4,title:"6晚臻选升级",subtitle:"行程套餐",tour:"迪拜 + 阿布扎比",duration:"7天",price:"成人 AED 1599 起",link:"/package/56nights1"},null,8,["image"])]),e[9]||(e[9]=Ee('<div class="text-card" data-v-673fc3c9><h2 data-v-673fc3c9>迪拜行程套餐价目表</h2><table class="price-table" data-v-673fc3c9><thead data-v-673fc3c9><tr data-v-673fc3c9><th data-v-673fc3c9>套餐</th><th data-v-673fc3c9>行程时长</th><th data-v-673fc3c9>价格</th></tr></thead><tbody data-v-673fc3c9><tr data-v-673fc3c9><td data-v-673fc3c9>迪拜3晚入门之旅</td><td data-v-673fc3c9>4天</td><td data-v-673fc3c9><strong style="color:#b01b1b;" data-v-673fc3c9>成人 AED 849 | 儿童 AED 669</strong></td></tr><tr data-v-673fc3c9><td data-v-673fc3c9>4晚亲子优选</td><td data-v-673fc3c9>5天</td><td data-v-673fc3c9><strong style="color:#b01b1b;" data-v-673fc3c9>成人 AED 1099 | 儿童 AED 919</strong></td></tr><tr data-v-673fc3c9><td data-v-673fc3c9>迪拜 + 阿布扎比5晚精华</td><td data-v-673fc3c9>6天</td><td data-v-673fc3c9><strong style="color:#b01b1b;" data-v-673fc3c9>成人 AED 1349 | 儿童 AED 1169</strong></td></tr><tr data-v-673fc3c9><td data-v-673fc3c9>6晚臻选升级</td><td data-v-673fc3c9>7天</td><td data-v-673fc3c9><strong style="color:#b01b1b;" data-v-673fc3c9>成人 AED 1599 | 儿童 AED 1419</strong></td></tr></tbody></table><p style="margin-top:8px;font-size:0.95rem;color:#555;" data-v-673fc3c9> * 以上为每位价格，按双人/大床同住计算。已含 5% VAT。酒店将另收取「旅游迪拉姆税」（约 AED 10–20/间/晚）。 </p></div>',1)),f("div",fx,[f("div",px,[f("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...a)=>i.copyEmail&&i.copyEmail(...a))},"邮件联系我们"),f("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...a)=>i.openWhatsappModal&&i.openWhatsappModal(...a))},"WhatsApp 联系我们"),f("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...a)=>i.openWechatModal&&i.openWechatModal(...a))},"微信联系我们"),f("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...a)=>i.bookNow&&i.bookNow(...a))},"万德购物车")])]),r.showEmailToast?(O(),L("div",mx,[...e[6]||(e[6]=[f("div",{class:"center-toast-box"},[f("p",null,[f("strong",null,"info@wanderwonderworlddubai.com"),ce(" 已复制到您的剪贴板")])],-1)])])):ne("",!0),r.showWhatsappModal?(O(),L("div",gx,[f("div",vx,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.whatsappQR,alt:"WhatsApp 二维码"},null,8,_x)])])):ne("",!0),r.showWechatModal?(O(),L("div",yx,[f("div",bx,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.wechatQR,alt:"微信二维码"},null,8,wx)])])):ne("",!0),f("div",Ex,[e[7]||(e[7]=f("h2",null,"常见问题",-1)),(O(!0),L(We,null,It(r.faqs,(a,c)=>(O(),L("div",{key:c,class:"faq-item"},[f("div",{class:"faq-question",onClick:u=>i.toggleFaq(c)},[f("span",null,Y(a.question),1),f("span",Ax,Y(a.open?"▲":"▼"),1)],8,Tx),a.open?(O(),L("div",Ix,[f("p",null,Y(a.answer),1)])):ne("",!0)]))),128))]),e[10]||(e[10]=Ee('<div class="text-card" data-v-673fc3c9><h2 data-v-673fc3c9>按你的方式探索迪拜：我们的私人套餐</h2><p data-v-673fc3c9><strong data-v-673fc3c9>迪拜3晚入门之旅：</strong> 老迪拜徒步（持证中文导游，约2小时）+ 传统 <em data-v-673fc3c9>阿布拉</em> 摆渡；其后可二选一： <em data-v-673fc3c9>迪拜之框</em> 或 <em data-v-673fc3c9>棕榈塔观景台 The View</em>。安排迪拜码头晚餐游船与 晚间沙漠探险（亲子家庭可在 ≥48 小时提前通知下，改为更温和的早晨版本）。 </p><p data-v-673fc3c9><strong data-v-673fc3c9>4晚亲子优选：</strong> 第一天晚间抵达留足缓冲；沙漠探险顺延至第二日更有精力。现代迪拜半日游含 哈利法塔 124/125 层（非高峰时段），晚间在 JBR 与 Bluewaters 悠闲漫步。 可按需替换亲子友好项目（如水族馆）。 </p><p data-v-673fc3c9><strong data-v-673fc3c9>迪拜 + 阿布扎比5晚精华：</strong> 行程中段前往阿布扎比以平衡节奏：谢赫扎耶德大清真寺（入内参观；周五访客时段有限）与阿布扎比卢浮宫 （通常周一闭馆；我们将据实调整）。返回迪拜后，结合老迪拜徒步 + 阿布拉与您 预订好的哈利法塔时段，再配以码头晚餐游船。 </p><p data-v-673fc3c9><strong data-v-673fc3c9>6晚臻选升级：</strong> 沙漠探险 VIP 升级，亚特兰蒂斯水上乐园 &amp; 失落的空间水族馆，另含一天自由活动（购物或泳池时光）。 包含一日阿布扎比（大清真寺入内 + 总统府外苑或卢浮宫其一）。可选加购：迪拜码头日落私人游艇。 </p></div><div class="text-card" data-v-673fc3c9><h2 data-v-673fc3c9>条款与细则（行程套餐）</h2><p data-v-673fc3c9><strong data-v-673fc3c9>价格与房型：</strong> 纯陆地价按每位成人、双人/大床同住计算，<em data-v-673fc3c9>已含 5% VAT</em>。 儿童（3–10 岁）默认不加床与大人同住；婴儿 0–2 岁免费（不占座/床）。 酒店「旅游迪拉姆税」由住客于前台自付（约 AED 10–20/间/晚）。 标准入住 15:00 / 退房 12:00；如需早入住/晚退房，视房态或需附加费。 </p><p data-v-673fc3c9><strong data-v-673fc3c9>包含项目：</strong> 私人往返机场接送（DXB），甄选含早酒店，<em data-v-673fc3c9>私人车辆 + 司机兼中文讲解</em>， <em data-v-673fc3c9>老迪拜徒步配持证中文导游（约2小时）</em>，套餐所列景点门票 （如哈利法塔 124/125；The View/迪拜之框；卢浮宫/亚特兰蒂斯等以套餐为准）， 迪拜码头晚餐游船（<em data-v-673fc3c9>含私人接送</em>），晚间沙漠探险（如标注则为 VIP 升级）， 车载瓶装水。 </p><p data-v-673fc3c9><strong data-v-673fc3c9>不含项目：</strong> 国际机票、签证、个人旅行保险；除说明外的午/晚餐；酒精饮品；个人消费； 自选项目/升级；除特别说明外，其他日的额外持证导游；旺季/活动附加费； 单房差/加床费；行李员服务；自愿小费等。 </p><p data-v-673fc3c9><strong data-v-673fc3c9>儿童座椅与安全：</strong> 阿联酋法律要求婴幼儿使用合规安全座椅并单独占座。请在预订时告知实际需求数量；务必遵从当地法规。 </p><p data-v-673fc3c9><strong data-v-673fc3c9>阿布扎比大清真寺着装：</strong> 女士需遮盖头发、肩膀与腿部；男士须着长裤。安检严格，着装不合规可能被拒入。 周五访客时段有限，我们会提前提醒并给出着装建议。 </p><p data-v-673fc3c9><strong data-v-673fc3c9>斋月与旺季：</strong> 斋月期间沙漠营地表演暂停；酒精供应受限；景点开放时间或有调整。 新年夜等重大活动可能有强制性附加费用。 </p><p data-v-673fc3c9><strong data-v-673fc3c9>改期与取消：</strong> ≥48 小时：免费改期/退款；24–48 小时：收取 50%；＜24 小时或未到场：收取 100%。 不可退门票/酒店晚按供应商政策执行。不可抗力（如沙尘暴、暴雨）优先改期；如无法改期，仅收取不可追回成本。 </p></div><div class="text-card" data-v-673fc3c9><h2 data-v-673fc3c9>万德假日 · 套餐服务说明</h2><p data-v-673fc3c9> 我们以「防暑节奏」设计行程（中午室内，黄金时段户外），标配老迪拜徒步 + 阿布拉； 提供亲子友好的沙漠方案。WhatsApp 礼宾（08:00–22:00）、认证司机、干净营地、 需提前预约的儿童座椅，以及「≥48 小时一次免费改期」，共同保障旅途顺滑与安全。 </p></div>',3))])}const Sx=ft(ix,[["render",Cx],["__scopeId","data-v-673fc3c9"]]),Rx={name:"Safari",components:{CarCard:un},data(){return{banner:En,logoGold:Ot,logoText:Bt,car1:Hl,car2:$l,car3:zl,car4:Gl,addon1:bb,addon2:wb,addon3:Eb,addon4:Tb,faqs:[{question:"迪拜沙漠团通常包含哪些内容？",answer:"一般包含四驱车辆酒店接送、专业司机带领的冲沙、沙丘拍照打卡、骆驼骑乘、沙板体验与简易茶点；按套餐不同，可包含营地现场表演与 BBQ 自助晚餐。奢华或过夜套餐将配备专属营地与升级餐饮。",open:!1},{question:"沙漠行程通常需要多长时间？",answer:"时长取决于所选套餐：早晨团约 4–5 小时；傍晚团约 6 小时；过夜团含次日早餐，约 16 小时。",open:!1},{question:"需要提前预订沙漠行程吗？",answer:"建议提前预订以确保日期与车辆，尤其在周末与旺季。当天临时报名可能无法保证名额。",open:!1},{question:"参加沙漠团该如何着装？",answer:"建议轻便透气的休闲装，如薄长裤/短裤与透气上衣；鞋履可选运动鞋或凉鞋。冬季夜晚温差较大，建议携带薄外套。",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:qn,wechatQR:cn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){zt().open()}}},kx={class:"safari"},Px={class:"banner-container"},Dx=["src"],xx={class:"floating-logos"},Nx=["src"],Mx=["src"],Vx={class:"cards-container"},Ox={class:"cards-container"},Lx={class:"cta-row-wrapper"},Ux={class:"cta-row"},Fx={key:0,class:"center-toast",role:"status","aria-live":"polite"},Wx={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},qx={class:"qr-modal-box"},Bx=["src"],jx={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},Hx={class:"qr-modal-box"},$x=["src"],zx={class:"faq-card"},Gx=["onClick"],Kx={class:"faq-icon"},Qx={key:0,class:"faq-answer"};function Jx(t,e,n,s,r,i){const o=dt("CarCard");return O(),L("div",kx,[f("div",Px,[f("img",{src:r.banner,alt:"沙漠接送横幅",class:"banner"},null,8,Dx),f("div",xx,[f("img",{src:r.logoGold,alt:"金色标志",class:"logo"},null,8,Nx),f("img",{src:r.logoText,alt:"文字标志",class:"logo-text"},null,8,Mx)])]),e[8]||(e[8]=Ee('<div class="intro" data-v-ee8539b6><h1 data-v-ee8539b6>迪拜至臻冒险 — 沙漠探险之旅</h1><p data-v-ee8539b6>用最地道的方式邂逅迪拜沙海。我们的精选沙漠行程覆盖清晨的活力越野、黄昏的金色落日，以及过夜营地的文化沉浸。每条线路都具备独特体验，您可按旅行风格自由选择。预订万德假日（WanderWonderWorld），以专业、顺畅且难忘的方式驶向沙丘深处。</p></div><div class="whatsapp-wrapper" data-v-ee8539b6><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-ee8539b6><img src="'+dn+'" alt="WhatsApp" data-v-ee8539b6><span class="whatsapp-text" data-v-ee8539b6>需要帮助？点击咨询！</span></a></div>',2)),f("div",Vx,[U(o,{image:r.car1,title:"晨曦沙丘越野",subtitle:"经典系列",tour:"早晨私人团",duration:"4.5小时",price:"AED 500 起",link:"/safari/regsafari1"},null,8,["image"]),U(o,{image:r.car2,title:"日落沙丘优选",subtitle:"臻选系列",tour:"日落私人团",duration:"6小时",price:"AED 700 起",link:"/safari/regsafari1"},null,8,["image"]),U(o,{image:r.car3,title:"加长版沙丘刺激",subtitle:"尊尚系列",tour:"加长私人团",duration:"7小时",price:"AED 1100 起",link:"/safari/upsafari1"},null,8,["image"]),U(o,{image:r.car4,title:"皇家沙漠过夜营",subtitle:"皇室系列",tour:"豪华过夜",duration:"16小时",price:"AED 2000 起",link:"/safari/upsafari1"},null,8,["image"]),f("div",Ox,[U(o,{image:r.addon1,title:"全地形车（150cc）",subtitle:"加选项目",tour:"沙漠探险",duration:"30分钟",price:"AED 140 / 人",link:"/safari/addon1"},null,8,["image"]),U(o,{image:r.addon2,title:"沙滩车（双座）",subtitle:"加选项目",tour:"沙漠探险",duration:"30分钟",price:"AED 420 / 辆",link:"/safari/addon1"},null,8,["image"]),U(o,{image:r.addon3,title:"旅拍摄影套餐",subtitle:"加选项目",tour:"精修10张 + 全部原片",duration:"—",price:"AED 150 / 套",link:"/safari/addon1"},null,8,["image"]),U(o,{image:r.addon4,title:"水烟 / 饮品",subtitle:"加选项目",tour:"持牌营地可选",duration:"—",price:"详情咨询",link:"/safari/addon1"},null,8,["image"])])]),e[9]||(e[9]=Ee('<div class="text-card" data-v-ee8539b6><h2 data-v-ee8539b6>迪拜沙漠探险价目表</h2><table class="price-table" data-v-ee8539b6><thead data-v-ee8539b6><tr data-v-ee8539b6><th data-v-ee8539b6>沙漠项目</th><th data-v-ee8539b6>时间/时长</th><th data-v-ee8539b6>价格</th></tr></thead><tbody data-v-ee8539b6><tr data-v-ee8539b6><td data-v-ee8539b6>晨曦沙丘越野｜经典系列</td><td data-v-ee8539b6>08:00 – 12:30</td><td data-v-ee8539b6><strong style="color:#b01b1b;" data-v-ee8539b6>AED 500</strong></td></tr><tr data-v-ee8539b6><td data-v-ee8539b6>日落沙丘优选｜臻选系列</td><td data-v-ee8539b6>15:00 – 21:00</td><td data-v-ee8539b6><strong style="color:#b01b1b;" data-v-ee8539b6>AED 700</strong></td></tr><tr data-v-ee8539b6><td data-v-ee8539b6>加长版沙丘刺激｜尊尚系列</td><td data-v-ee8539b6>14:00 – 21:00</td><td data-v-ee8539b6><strong style="color:#b01b1b;" data-v-ee8539b6>AED 1100</strong></td></tr><tr data-v-ee8539b6><td data-v-ee8539b6>皇家沙漠过夜营｜皇室系列</td><td data-v-ee8539b6>15:00 – 09:00（+1 天）</td><td data-v-ee8539b6><strong style="color:#b01b1b;" data-v-ee8539b6>AED 2000</strong></td></tr><tr data-v-ee8539b6><td data-v-ee8539b6>加选 全地形车（150cc）</td><td data-v-ee8539b6>30min</td><td data-v-ee8539b6><strong style="color:#b01b1b;" data-v-ee8539b6>AED 140</strong></td></tr><tr data-v-ee8539b6><td data-v-ee8539b6>加选 沙滩车（双座）</td><td data-v-ee8539b6>30min</td><td data-v-ee8539b6><strong style="color:#b01b1b;" data-v-ee8539b6>AED 420</strong></td></tr><tr data-v-ee8539b6><td data-v-ee8539b6>加选 旅拍摄影套餐</td><td data-v-ee8539b6>——</td><td data-v-ee8539b6><strong style="color:#b01b1b;" data-v-ee8539b6>AED 150</strong></td></tr><tr data-v-ee8539b6><td data-v-ee8539b6>水烟 / 酒精饮品</td><td data-v-ee8539b6>——</td><td data-v-ee8539b6><strong style="color:#b01b1b;" data-v-ee8539b6>详见菜单</strong></td></tr></tbody></table></div>',1)),f("div",Lx,[f("div",Ux,[f("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...a)=>i.copyEmail&&i.copyEmail(...a))}," 邮件联系我们 "),f("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...a)=>i.openWhatsappModal&&i.openWhatsappModal(...a))}," WhatsApp 联系我们 "),f("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...a)=>i.openWechatModal&&i.openWechatModal(...a))}," 微信联系我们 "),f("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...a)=>i.bookNow&&i.bookNow(...a))}," 万德购物车 ")])]),r.showEmailToast?(O(),L("div",Fx,[...e[6]||(e[6]=[f("div",{class:"center-toast-box"},[f("p",null,[f("strong",null,"info@wanderwonderworlddubai.com"),ce(" 已复制到您的剪贴板")])],-1)])])):ne("",!0),r.showWhatsappModal?(O(),L("div",Wx,[f("div",qx,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.whatsappQR,alt:"WhatsApp 二维码"},null,8,Bx)])])):ne("",!0),r.showWechatModal?(O(),L("div",jx,[f("div",Hx,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.wechatQR,alt:"微信二维码"},null,8,$x)])])):ne("",!0),f("div",zx,[e[7]||(e[7]=f("h2",null,"常见问题",-1)),(O(!0),L(We,null,It(r.faqs,(a,c)=>(O(),L("div",{key:c,class:"faq-item"},[f("div",{class:"faq-question",onClick:u=>i.toggleFaq(c)},[f("span",null,Y(a.question),1),f("span",Kx,Y(a.open?"▲":"▼"),1)],8,Gx),a.open?(O(),L("div",Qx,[f("p",null,Y(a.answer),1)])):ne("",!0)]))),128))]),e[10]||(e[10]=Ee('<div class="text-card" data-v-ee8539b6><h2 data-v-ee8539b6>难忘之旅：我们的迪拜沙漠体验</h2><p data-v-ee8539b6>万德假日以安全、舒适且富有激情的方式，带您体验不同层次的沙漠之旅。从清晨温和的金色沙丘穿越到日落时分的越野冲沙，我们将刺激与文化融合。全程配备私人四驱座驾、专业司机兼中文讲解与甄选营地，为亲子、情侣与团队打造高品质、真实而不失高级感的体验。</p></div><div class="text-card" data-v-ee8539b6><h2 data-v-ee8539b6>定制沙漠行程：私人团可选方案</h2><p data-v-ee8539b6><strong data-v-ee8539b6>晨曦沙丘越野 | 经典系列：</strong> 半日行程，适合亲子、长者与短途旅客。清凉早晨冲沙、骆驼骑乘、沙板体验与简易茶点。</p><p data-v-ee8539b6><strong data-v-ee8539b6>日落沙丘优选 | 臻选系列：</strong> 人气之选。下午冲沙、日落打卡、骆驼骑乘、营地文化表演与 BBQ 自助晚餐。</p><p data-v-ee8539b6><strong data-v-ee8539b6>加长版沙丘刺激 | 尊尚系列：</strong> 为探险控而设。深入沙海的加长冲沙、尊贵营地 VIP 区、升级餐食与限定演出。</p><p data-v-ee8539b6><strong data-v-ee8539b6>皇家沙漠过夜营 | 皇室系列：</strong> 终极奢享。高级 SUV 接送，私享冲沙、香槟迎宾（仅限持牌营地）、精致晚宴与豪华帐篷过夜，观星体验并含次日早餐。</p></div><div class="text-card" data-v-ee8539b6><h2 data-v-ee8539b6>条款与细则</h2><p data-v-ee8539b6><strong data-v-ee8539b6>名额与资源：</strong> 所有行程以车辆、司机与营地当日可用为准，建议提前预订以锁定日期与套餐。</p><p data-v-ee8539b6><strong data-v-ee8539b6>车辆与安全：</strong> 行程使用保养良好的四驱车辆；为安全起见，车内禁止饮食与吸烟，请遵循司机指引。</p><p data-v-ee8539b6><strong data-v-ee8539b6>取消规则：</strong> 取消需遵循预订政策，费用将依取消时间而定；详细规则以预订时说明为准。</p><p data-v-ee8539b6><strong data-v-ee8539b6>未到场政策：</strong> 如未提前通知并未在约定地点集合，可能视为未到场并收取相应费用。</p><p data-v-ee8539b6><strong data-v-ee8539b6>超时费用：</strong> 超出原定时间的加时将按车型与预订时长计费。</p><p data-v-ee8539b6><strong data-v-ee8539b6>旺季附加：</strong> 旺季或节假日可能产生附加费，确认前会明确告知。</p><p data-v-ee8539b6><strong data-v-ee8539b6>安全提示：</strong> 冲沙等活动请遵从司机指示；携带儿童与长者请提前告知，以便推荐合适行程；可按需提供儿童座椅。</p><p data-v-ee8539b6><strong data-v-ee8539b6>加选项目与酒水：</strong> 全地形车/沙滩车、旅拍、水烟等可提前预订；含酒精饮品仅在持牌营地供应并遵守阿联酋法规。</p><p data-v-ee8539b6><strong data-v-ee8539b6>导游说明：</strong> 司机并非持证导游；如需持证中文导游，可按需另行安排并收取费用。</p></div><div class="text-card" data-v-ee8539b6><h2 data-v-ee8539b6>万德假日 · 沙漠探险服务</h2><p data-v-ee8539b6>我们提供从刺激冲沙到奢华过夜的全系沙漠产品，兼顾安全、文化与服务品质。无论初访或高端定制，我们的方案均以国际标准执行，可靠专业。</p><p data-v-ee8539b6>行程覆盖早晨、傍晚、加长与皇室过夜等多种选择；均配备现代四驱车辆与持证、经验丰富的司机团队，放心与尽兴并重。针对家庭、情侣、团队或企业团建，我们可为您定制专属线路与时间表。</p></div>',4))])}const Yx=ft(Rx,[["render",Jx],["__scopeId","data-v-ee8539b6"]]),Xx={name:"City",components:{CarCard:un},data(){return{banner:En,logoGold:Ot,logoText:Bt,car1:Kl,car2:Ql,car3:Jl,car4:Yl,faqs:[{question:"价格包含哪些内容？",answer:"私人车辆 + 司机兼中文讲解；迪拜线路含约2小时老迪拜徒步（持证中文导游）；阿布拉船票（迪拜线路）；瓶装水、萨利克过路费与官方停车费。除特别说明外，门票与餐食为自选加购。",open:!1},{question:"费用是按车还是按人计算？",answer:"按车计价，7座车型最多6位乘客。依法须为儿童配备儿童/增高座椅，可在预订时提出。可加价升级更大车型（海狮/中巴/豪华SUV）。",open:!1},{question:"观光顺序可以调整吗？",answer:"可以。为私人灵活线路，我们会结合航班、季节、路况与门票时段优化安排。高峰日期可能需调整以获得更佳时段。",open:!1},{question:"阿布扎比清真寺的着装要求会严格执行吗？",answer:"会。女士需遮盖头发、肩膀与腿部；男士需穿长裤。安检严格，着装不合规可能被拒入。周五访客时段有限。",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:qn,wechatQR:cn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){zt().open()}}},Zx={class:"city"},eN={class:"banner-container"},tN=["src"],nN={class:"floating-logos"},sN=["src"],rN=["src"],iN={class:"cards-container"},oN={class:"cta-row-wrapper"},aN={class:"cta-row"},lN={key:0,class:"center-toast",role:"status","aria-live":"polite"},cN={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},uN={class:"qr-modal-box"},dN=["src"],hN={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},fN={class:"qr-modal-box"},pN=["src"],mN={class:"faq-card"},gN=["onClick"],vN={class:"faq-icon"},_N={key:0,class:"faq-answer"};function yN(t,e,n,s,r,i){const o=dt("CarCard");return O(),L("div",Zx,[f("div",eN,[f("img",{src:r.banner,alt:"城市观光横幅",class:"banner"},null,8,tN),f("div",nN,[f("img",{src:r.logoGold,alt:"金色标志",class:"logo"},null,8,sN),f("img",{src:r.logoText,alt:"文字标志",class:"logo-text"},null,8,rN)])]),e[8]||(e[8]=Ee('<div class="intro" data-v-b1568461><h1 data-v-b1568461>迪拜城市观光 — 弹性安排 · 深度发现</h1><p data-v-b1568461> 以四款<strong data-v-b1568461>私人（按车计价）</strong>城市观光，自由玩转迪拜。我们采用「防暑节奏」设计行程： 早晚户外，中午室内；迪拜线路标配<strong data-v-b1568461>老迪拜徒步</strong> + <em data-v-b1568461>阿布拉</em> 摆渡（徒步段由持证中文导游带领，其余时段由<strong data-v-b1568461>司机兼中文讲解</strong>随行）。 明晰的「价值优先」定价、每车最多6位（7座）、车载瓶装水与合规认证车辆，让您从酒店接到送一路顺畅。 </p></div><div class="whatsapp-wrapper" data-v-b1568461><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-b1568461><img src="'+dn+'" alt="WhatsApp" data-v-b1568461><span class="whatsapp-text" data-v-b1568461>需要帮助？点击咨询！</span></a></div>',2)),f("div",iN,[U(o,{image:r.car1,title:"半日迪拜精华",subtitle:"城市观光服务",tour:"迪拜市区",duration:"5小时",price:"AED 325 起",link:"/city/city121"},null,8,["image"]),U(o,{image:r.car2,title:"全日迪拜全景",subtitle:"城市观光服务",tour:"迪拜市区",duration:"10小时",price:"AED 559 起",link:"/city/city121"},null,8,["image"]),U(o,{image:r.car3,title:"阿布扎比文化一日游",subtitle:"城市观光服务",tour:"阿布扎比",duration:"10–11小时",price:"AED 659 起",link:"/city/city341"},null,8,["image"]),U(o,{image:r.car4,title:"哈塔山谷度假一日游",subtitle:"城市观光服务",tour:"哈塔",duration:"10–11小时",price:"AED 710 起",link:"/city/city341"},null,8,["image"])]),e[9]||(e[9]=Ee('<div class="text-card" data-v-b1568461><h2 data-v-b1568461>迪拜城市观光价目表</h2><table class="price-table" data-v-b1568461><thead data-v-b1568461><tr data-v-b1568461><th data-v-b1568461>城市观光</th><th data-v-b1568461>时间/时长</th><th data-v-b1568461>价格</th></tr></thead><tbody data-v-b1568461><tr data-v-b1568461><td data-v-b1568461>半日迪拜精华</td><td data-v-b1568461>5小时</td><td data-v-b1568461><strong style="color:#b01b1b;" data-v-b1568461>AED 325 起</strong></td></tr><tr data-v-b1568461><td data-v-b1568461>全日迪拜全景</td><td data-v-b1568461>10小时</td><td data-v-b1568461><strong style="color:#b01b1b;" data-v-b1568461>AED 559 起</strong></td></tr><tr data-v-b1568461><td data-v-b1568461>阿布扎比文化一日游</td><td data-v-b1568461>10–11小时</td><td data-v-b1568461><strong style="color:#b01b1b;" data-v-b1568461>AED 659 起</strong></td></tr><tr data-v-b1568461><td data-v-b1568461>哈塔山谷度假一日游</td><td data-v-b1568461>10–11小时</td><td data-v-b1568461><strong style="color:#b01b1b;" data-v-b1568461>AED 710 起</strong></td></tr></tbody></table><p style="margin-top:8px;font-size:0.95rem;color:#555;" data-v-b1568461> * 以上为<strong data-v-b1568461>按车计价</strong>（7座，最多载6位）。超时<strong data-v-b1568461>AED 75/小时</strong>。 迪拜线路含老迪拜徒步 + 阿布拉摆渡。除特别说明外，景点门票与餐食为自选加购。 依法须使用儿童/增高座椅，可在预订时提出需求。 </p></div>',1)),f("div",oN,[f("div",aN,[f("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...a)=>i.copyEmail&&i.copyEmail(...a))},"邮件联系我们"),f("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...a)=>i.openWhatsappModal&&i.openWhatsappModal(...a))},"WhatsApp 联系我们"),f("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...a)=>i.openWechatModal&&i.openWechatModal(...a))},"微信联系我们"),f("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...a)=>i.bookNow&&i.bookNow(...a))},"万德购物车")])]),r.showEmailToast?(O(),L("div",lN,[...e[6]||(e[6]=[f("div",{class:"center-toast-box"},[f("p",null,[f("strong",null,"info@wanderwonderworlddubai.com"),ce(" 已复制到您的剪贴板")])],-1)])])):ne("",!0),r.showWhatsappModal?(O(),L("div",cN,[f("div",uN,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.whatsappQR,alt:"WhatsApp 二维码"},null,8,dN)])])):ne("",!0),r.showWechatModal?(O(),L("div",hN,[f("div",fN,[f("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.wechatQR,alt:"微信二维码"},null,8,pN)])])):ne("",!0),f("div",mN,[e[7]||(e[7]=f("h2",null,"常见问题",-1)),(O(!0),L(We,null,It(r.faqs,(a,c)=>(O(),L("div",{key:c,class:"faq-item"},[f("div",{class:"faq-question",onClick:u=>i.toggleFaq(c)},[f("span",null,Y(a.question),1),f("span",vN,Y(a.open?"▲":"▼"),1)],8,gN),a.open?(O(),L("div",_N,[f("p",null,Y(a.answer),1)])):ne("",!0)]))),128))]),e[10]||(e[10]=Ee('<div class="text-card" data-v-b1568461><h2 data-v-b1568461>按你的方式探索迪拜：私人城市观光</h2><p data-v-b1568461><strong data-v-b1568461>半日迪拜精华：</strong> 老迪拜徒步（持证中文导游）+ 阿布拉横渡，畅游市集（香料/黄金），前往朱美拉海滨拍照，最后抵达迪拜购物中心/音乐喷泉（或未来博物馆 MoTF 外观）。紧凑5小时，避暑避堵。</p><p data-v-b1568461><strong data-v-b1568461>全日迪拜全景：</strong> 一整天的「防暑节奏」：上午老迪拜徒步 + 阿布拉；中午转入室内（迪拜之框或棕榈塔观景台 The View，或哈利法塔124/125层）；黄金时段在市集古堡 Souk Madinat 及迪拜码头/蓝水岛/ JBR 一带拍照。</p><p data-v-b1568461><strong data-v-b1568461>阿布扎比文化日：</strong> 谢赫扎耶德大清真寺入内参观（须遵守着装），车览总统府与海滨大道，二选一：阿布扎比卢浮宫或总统府 Qasr Al Watan（视购票时段而定）。我们将根据周五礼拜与路况调整时间。</p><p data-v-b1568461><strong data-v-b1568461>哈塔山地休闲日：</strong> 水坝观景台（可选皮划艇）、哈塔遗产村、Wadi Hub 活动区与哈塔山顶公园。建议使用四驱车型。天气与路况可能为安全起见调整顺序。</p></div><div class="text-card" data-v-b1568461><h2 data-v-b1568461>条款与细则（城市观光）</h2><p data-v-b1568461><strong data-v-b1568461>价格与座位：</strong> 费用按车计（7座，最多6位）。超时 AED 75/小时。偏远接送点（如杰贝阿里/DWC/沙迦交界）或收取小额附加费。固定出发有助错峰；亦可应需定制时间。</p><p data-v-b1568461><strong data-v-b1568461>包含：</strong> 私人车辆 + 司机兼中文讲解；迪拜线路含约2小时老迪拜徒步配持证中文导游；阿布拉船票（迪拜线路）；瓶装水、萨利克过路费与官方停车费。</p><p data-v-b1568461><strong data-v-b1568461>不含：</strong> 除说明外之门票与餐食；自选活动费用（如皮划艇、观景台等）；全日持证导游加配；旺季/活动附加；小费；个人旅行保险。</p><p data-v-b1568461><strong data-v-b1568461>儿童座椅与安全：</strong> 阿联酋法律要求按龄使用儿童/增高座椅并单独占座；请在预订时提出数量。车辆内禁止饮食与吸烟。</p><p data-v-b1568461><strong data-v-b1568461>阿布扎比大清真寺：</strong> 女士需遮盖头发、肩膀与腿部；男士须穿长裤。安检严格，着装不合规可能被拒入。周五访客时段有限。</p><p data-v-b1568461><strong data-v-b1568461>斋月与旺季：</strong> 沙漠营地表演暂停；酒精供应受限；景点时段或有调整。新年夜与大型活动可能有强制性附加与道路管制。</p><p data-v-b1568461><strong data-v-b1568461>改期与取消：</strong> ≥24小时免费改/退；12–24小时收取50%；&lt;12小时或未到场收取100%。不可退门票按供应商政策执行。不可抗力（沙尘暴/暴雨/临时关闭）优先改期；无法改期时仅收取不可追回成本。</p></div><div class="text-card" data-v-b1568461><h2 data-v-b1568461>万德假日 · 城市观光服务</h2><p data-v-b1568461> 我们以「防暑节奏」规划行程，迪拜线路标配老迪拜徒步 + 阿布拉，并保持自选项目透明。 提供 WhatsApp 礼宾（08:00–22:00）、认证司机与车辆、干净安全的停靠点、按需儿童座椅， 以及一次（≥24小时）免费改期，让您的当天接送与游览更省心。 </p></div>',3))])}const bN=ft(Xx,[["render",yN],["__scopeId","data-v-b1568461"]]),wN={name:"Packages",components:{CarCard:un},data(){return{banner:En,logoGold:Ot,logoText:Bt,car1:Xl,car2:Zl,car3:ec,car4:tc,faqs:[{question:"票价包含哪些内容？",answer:"包含船上座位、自助晚餐（清真；可选素/荤；耆那/纯素需提前告知）、瓶装水/软饮，以及在法律/季节允许时的表演。已含税。接送、酒水（限持牌船只）、座位升级与节日布置为自选加购。",open:!1},{question:"在哪里登船？何时到达？",answer:"电子确认单会显示具体码头与地图链接。河/码头/运河航线：20:00 登船、20:30 开航。Lotus 超级游艇：19:00 报到，19:30 开航，全程 3 小时。请准时抵达——迟到将由船方视作未到场。",open:!1},{question:"是否提供酒店接送？",answer:"提供——迪拜市区私家往返：轿车 1–4 人 AED 180，MPV 5–7 人 AED 220，面包车 10–14 人 AED 350。Jebel Ali/JVC/DIP 额外 +AED 40–60；从沙迦出发 +AED 100。儿童座椅可免费预留（数量有限）。",open:!1},{question:"船上是否提供酒水？",answer:"仅在持牌船只/许可日期提供（如 Lotus 可加购 Premium Drinks）。斋月及官方禁酒日不供应含酒精饮品，遵循阿联酋相关法规。",open:!1},{question:"取消/改期政策是什么？",answer:"河/码头/运河：≥24h 免费；12–24h 收 50%；<12h 或未到场收 100%。Lotus/VIP：≥48h 免费；24–48h 收 50%；<24h 收 100%。节庆夜条款更严。",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:qn,wechatQR:cn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){zt().open()}}},EN={class:"safari"},TN={class:"banner-container"},AN=["src"],IN={class:"floating-logos"},CN=["src"],SN=["src"],RN={class:"cards-container"},kN={class:"cta-row-wrapper"},PN={class:"cta-row"},DN={key:0,class:"center-toast",role:"status","aria-live":"polite"},xN={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},NN={class:"qr-modal-box"},MN=["src"],VN={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},ON={class:"qr-modal-box"},LN=["src"],UN={class:"faq-card"},FN=["onClick"],WN={class:"faq-icon"},qN={key:0,class:"faq-answer"};function BN(t,e,n,s,r,i){const o=dt("CarCard");return O(),L("div",EN,[f("div",TN,[f("img",{src:r.banner,alt:"产品横幅",class:"banner"},null,8,AN),f("div",IN,[f("img",{src:r.logoGold,alt:"金色徽标",class:"logo"},null,8,CN),f("img",{src:r.logoText,alt:"文字徽标",class:"logo-text"},null,8,SN)])]),e[8]||(e[8]=Ee('<div class="intro" data-v-1c3c5e31><h1 data-v-1c3c5e31>迪拜游船晚宴 — 夜色臻享与品质之选</h1><p data-v-1c3c5e31> 提供四条经典夜游航线可选：迪拜河传统木船、Marina 码头天际线、迪拜水运河玻璃游船，以及 Lotus 超级游艇。价格透明，升级清晰（上层甲板/靠窗座、VIP 休息区），酒店私家接送可选。 可按需提供素食/耆那教餐；船上文娱遵循当地法规。电子确认单含登船码头地图与 24/7 紧急联系人， 全程顺畅无忧。 </p></div><div class="whatsapp-wrapper" data-v-1c3c5e31><a href="https://wa.me/971589831967?text=你好，万德假日迪拜！我想咨询游船晚宴。" class="whatsapp-button hover-reveal" data-v-1c3c5e31><img src="'+dn+'" alt="WhatsApp 图标" data-v-1c3c5e31><span class="whatsapp-text" data-v-1c3c5e31>需要帮助？立即咨询！</span></a></div>',2)),f("div",RN,[U(o,{image:r.car1,title:"迪拜溪传统独桅帆船晚餐",subtitle:"游船观光",tour:"迪拜溪（Al Seef）",duration:"1.5–2 小时",price:"AED 85 起",link:"/city/sndcruise1"},null,8,["image"]),U(o,{image:r.car2,title:"迪拜码头独桅帆船晚餐",subtitle:"游船观光",tour:"迪拜码头",duration:"2 小时",price:"AED 115 起",link:"/city/sndcruise1"},null,8,["image"]),U(o,{image:r.car3,title:"水道玻璃游船晚餐",subtitle:"游船观光",tour:"迪拜运河",duration:"2–2.5 小时",price:"AED 149 起",link:"/city/sndcruise1"},null,8,["image"]),U(o,{image:r.car4,title:"Lotus 巨型游艇晚餐",subtitle:"游船观光",tour:"迪拜码头 / 港湾",duration:"3 小时",price:"AED 239 起",link:"/city/sndcruise1"},null,8,["image"])]),e[9]||(e[9]=Ee('<div class="text-card" data-v-1c3c5e31><h2 data-v-1c3c5e31>迪拜游船晚宴价格表</h2><table class="price-table" data-v-1c3c5e31><thead data-v-1c3c5e31><tr data-v-1c3c5e31><th data-v-1c3c5e31>游船产品</th><th data-v-1c3c5e31>时间/时长</th><th data-v-1c3c5e31>仅门票价格</th></tr></thead><tbody data-v-1c3c5e31><tr data-v-1c3c5e31><td data-v-1c3c5e31>迪拜溪传统独桅帆船晚餐</td><td data-v-1c3c5e31>90–120 分钟</td><td data-v-1c3c5e31><strong style="color:#b01b1b;" data-v-1c3c5e31>成人 AED 85 | 儿童 AED 70</strong></td></tr><tr data-v-1c3c5e31><td data-v-1c3c5e31>迪拜码头独桅帆船晚餐</td><td data-v-1c3c5e31>2 小时</td><td data-v-1c3c5e31><strong style="color:#b01b1b;" data-v-1c3c5e31>成人 AED 115 | 儿童 AED 95</strong></td></tr><tr data-v-1c3c5e31><td data-v-1c3c5e31>水道玻璃游船晚餐</td><td data-v-1c3c5e31>约 2 小时</td><td data-v-1c3c5e31><strong style="color:#b01b1b;" data-v-1c3c5e31>成人 AED 149 | 儿童 AED 119</strong></td></tr><tr data-v-1c3c5e31><td data-v-1c3c5e31>Lotus 巨型游艇晚餐</td><td data-v-1c3c5e31>3 小时</td><td data-v-1c3c5e31><strong style="color:#b01b1b;" data-v-1c3c5e31>成人 AED 239 | 儿童 AED 189</strong></td></tr></tbody></table><p style="margin-top:8px;font-size:0.95rem;color:#555;" data-v-1c3c5e31> * 以上价格为<strong data-v-1c3c5e31>每人</strong>计。婴儿（0–2 岁）免费。仅门票不含酒店接送与座位升级。 可选私家往返接送（迪拜城区）：轿车 1–4 人 AED 180 / MPV 5–7 人 AED 220 / 面包车 10–14 人 AED 350 （Jebel Ali/JVC/DIP 额外 +AED 40–60；从沙迦出发 +AED 100）。可按需免费提供儿童安全座椅（数量有限；依据阿联酋法规）。 </p></div>',1)),f("div",kN,[f("div",PN,[f("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...a)=>i.copyEmail&&i.copyEmail(...a))},"邮件咨询"),f("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...a)=>i.openWhatsappModal&&i.openWhatsappModal(...a))},"WhatsApp 咨询"),f("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...a)=>i.openWechatModal&&i.openWechatModal(...a))},"微信咨询"),f("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...a)=>i.bookNow&&i.bookNow(...a))},"万德购物车")])]),r.showEmailToast?(O(),L("div",DN,[...e[6]||(e[6]=[f("div",{class:"center-toast-box"},[f("p",null,[f("strong",null,"info@wanderwonderworlddubai.com"),ce(" 已复制到剪贴板")])],-1)])])):ne("",!0),r.showWhatsappModal?(O(),L("div",xN,[f("div",NN,[f("button",{class:"qr-close","aria-label":"关闭",onClick:e[4]||(e[4]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.whatsappQR,alt:"WhatsApp 二维码"},null,8,MN)])])):ne("",!0),r.showWechatModal?(O(),L("div",VN,[f("div",ON,[f("button",{class:"qr-close","aria-label":"关闭",onClick:e[5]||(e[5]=(...a)=>i.closeModals&&i.closeModals(...a))},"×"),f("img",{src:r.wechatQR,alt:"微信二维码"},null,8,LN)])])):ne("",!0),f("div",UN,[e[7]||(e[7]=f("h2",null,"常见问题",-1)),(O(!0),L(We,null,It(r.faqs,(a,c)=>(O(),L("div",{key:c,class:"faq-item"},[f("div",{class:"faq-question",onClick:u=>i.toggleFaq(c)},[f("span",null,Y(a.question),1),f("span",WN,Y(a.open?"▲":"▼"),1)],8,FN),a.open?(O(),L("div",qN,[f("p",null,Y(a.answer),1)])):ne("",!0)]))),128))]),e[10]||(e[10]=Ee('<div class="text-card" data-v-1c3c5e31><h2 data-v-1c3c5e31>水上良宵，从这里挑选：航线总览</h2><p data-v-1c3c5e31><strong data-v-1c3c5e31>迪拜河传统木船晚宴：</strong>乘坐阿拉伯多乌木船（Dhow），欣赏老迪拜天际线；国际自助晚餐，含瓶装水/软饮；按规定开放时有 <em data-v-1c3c5e31>Tanoura</em> 民俗表演。亲民价位、氛围轻松。可付费锁定<em data-v-1c3c5e31>上层甲板</em>或<em data-v-1c3c5e31>靠窗座</em>，加购登船前老城迷你步行＋阿布拉小船，或私家酒店接送。</p><p data-v-1c3c5e31><strong data-v-1c3c5e31>迪拜码头 Marina 木船晚宴：</strong>人气夜景航线——Marina、JBR 与 Bluewaters 一线尽收眼底。船型可能为传统木船或现代玻璃船（由运营方安排）。含自助晚餐与软饮，按规定开放文娱。可选上层/靠窗座位与生日/纪念日桌面布置。</p><p data-v-1c3c5e31><strong data-v-1c3c5e31>迪拜水运河玻璃游船晚宴：</strong>高端玻璃全景船，途经水运河与商务湾桥群，大片落地视野，安静而带“轻法餐”氛围；有机会优先安排窗景位（以当日情况为准）。可加购登船前速览 Dubai Frame 门票。</p><p data-v-1c3c5e31><strong data-v-1c3c5e31>Lotus 超级游艇晚宴：</strong>畅游 3 小时，迪拜大型游艇之一；现场 DJ、多层甲板、开放式料理台与休闲沙发区。可选 VIP 沙发区；在许可日期可加购 Premium Drinks 酒水套餐。</p></div><div class="text-card" data-v-1c3c5e31><h2 data-v-1c3c5e31>条款与细则（游船晚宴）</h2><p data-v-1c3c5e31><strong data-v-1c3c5e31>登船与时间：</strong>标准航线（河/码头/水运河）20:00 登船、20:30 开航，航行约 90–120 分钟。Lotus 超级游艇 19:00 报到，19:30–22:30 航行。迟到将视作未到场，由船方认定。</p><p data-v-1c3c5e31><strong data-v-1c3c5e31>费用包含：</strong>仅门票包含船上座位、自助晚餐（清真；可选素/荤；耆那/纯素需提前告知）、瓶装水/软饮，以及在允许时段的演出。含税。酒精饮品仅在持牌船只与非斋月/非禁酒日提供。</p><p data-v-1c3c5e31><strong data-v-1c3c5e31>接送服务：</strong>酒店私家往返接送可按价目表加购。可按需免费提供儿童/增高座椅（数量有限）。车辆内禁止饮食与吸烟。</p><p data-v-1c3c5e31><strong data-v-1c3c5e31>座位安排：</strong>先到先得或由运营方统筹。付费升级保证区域（上层/靠窗/VIP），不保证具体桌号。同行家庭尽量安排同桌。</p><p data-v-1c3c5e31><strong data-v-1c3c5e31>天气/航线：</strong>海事管控、风力或水路交通可能调整航线/泊位（如运河瀑布临时关闭）。如运营方取消，可改期或全额退款；若仅变更航线但照常航行，则不予退款。</p><p data-v-1c3c5e31><strong data-v-1c3c5e31>改期与取消：</strong>河/码头/运河：≥24 小时免费；12–24 小时收 50%；&lt;12 小时或未到场收 100%。Lotus/VIP：≥48 小时免费；24–48 小时收 50%；&lt;24 小时收 100%。节庆夜（跨年/国庆/大型活动）条款更严且可能加价。</p><p data-v-1c3c5e31><strong data-v-1c3c5e31>合规与安全：</strong>船只持 DMCA/RTA 执照，配备救生衣与专业船员；接送车辆已投保并由 RTA 持证司机驾驶。</p></div><div class="text-card" data-v-1c3c5e31><h2 data-v-1c3c5e31>为何选择在万德假日预订游船</h2><p data-v-1c3c5e31> 票价有竞争力，升级选项清晰，客服响应及时。提供 08:00–22:00 WhatsApp 礼宾服务，可选私家酒店接送（免费儿童座椅按需预留），节日/纪念日加项（蛋糕、桌面布置、摄影），并在规则时窗内提供一次免费改期（视余位而定）， 让您的夜晚从确认到登船都更省心。 </p></div>',3))])}const jN=ft(wN,[["render",BN],["__scopeId","data-v-1c3c5e31"]]),HN=[{path:"/",name:"Home",component:E5},{path:"/transfers",name:"Transfers",component:$5},{path:"/packages",name:"Packages",component:p2},{path:"/safari",name:"Safari",component:U2},{path:"/city",name:"City",component:a4},{path:"/cruise",name:"Cruise",component:P4},{path:"/cn",name:"HomeZh",component:V6},{path:"/cn/transfers",name:"TransfersZh",component:rx},{path:"/cn/packages",name:"PackagesZh",component:Sx},{path:"/cn/safari",name:"SafariZh",component:Yx},{path:"/cn/city",name:"CityZh",component:bN},{path:"/cn/cruise",name:"CruiseZh",component:jN},{path:"/contact",name:"Contact",component:M4},{path:"/admin",name:"Admin",component:Ab},{path:"/transfers/short",name:"TransferShort",component:()=>rt(()=>import("./short-SjwPjgwN.js"),__vite__mapDeps([0,1,2]))},{path:"/transfers/long",name:"TransferLong",component:()=>rt(()=>import("./long-DADxjPOK.js"),__vite__mapDeps([3,4,5]))},{path:"/safari/regsafari",name:"SafariReg",component:()=>rt(()=>import("./regsafari-BOPgz6p3.js"),__vite__mapDeps([6,7]))},{path:"/safari/upsafari",name:"SafariUp",component:()=>rt(()=>import("./upsafari-DZisK2Oe.js"),__vite__mapDeps([8,9]))},{path:"/safari/addon",name:"Addon",component:()=>rt(()=>import("./addon-D5gcUvWn.js"),__vite__mapDeps([10,11]))},{path:"/package/34nights",name:"34Nights",component:()=>rt(()=>import("./34nights-C8e_FVuv.js"),__vite__mapDeps([12,13]))},{path:"/package/56nights",name:"56Nights",component:()=>rt(()=>import("./56nights-CPZB0aPa.js"),__vite__mapDeps([14,15]))},{path:"/city/city12",name:"City12",component:()=>rt(()=>import("./city12-CgLIXmbH.js"),__vite__mapDeps([16,17]))},{path:"/city/city34",name:"City34",component:()=>rt(()=>import("./city34-Bgj4gJCW.js"),__vite__mapDeps([18,19]))},{path:"/city/sndcruise",name:"Sndcruise",component:()=>rt(()=>import("./sndcruise-8JzkE6KW.js"),__vite__mapDeps([20,21]))},{path:"/city/sndcruise1",name:"Sndcruise1",component:()=>rt(()=>import("./sndcruise1-Cn0K54PA.js"),__vite__mapDeps([22,23]))},{path:"/city/city121",name:"City121",component:()=>rt(()=>import("./city121-Dy-xSb5u.js"),__vite__mapDeps([24,25]))},{path:"/city/city341",name:"City341",component:()=>rt(()=>import("./city341-IM1zhmd5.js"),__vite__mapDeps([26,27]))},{path:"/transfers/short1",name:"TransferShort1",component:()=>rt(()=>import("./short1-asyXQQDe.js"),__vite__mapDeps([28,1,29]))},{path:"/transfers/long1",name:"TransferLong1",component:()=>rt(()=>import("./long1-BpUZ5giK.js"),__vite__mapDeps([30,4,31]))},{path:"/safari/addon1",name:"Addon1",component:()=>rt(()=>import("./addon1-J2uIQgM1.js"),__vite__mapDeps([32,33]))},{path:"/safari/regsafari1",name:"SafariReg1",component:()=>rt(()=>import("./regsafari1-D1N17UjA.js"),__vite__mapDeps([34,35]))},{path:"/safari/upsafari1",name:"SafariUp1",component:()=>rt(()=>import("./upsafari1-BOoRnx2w.js"),__vite__mapDeps([36,37]))},{path:"/package/34nights1",name:"34Nights1",component:()=>rt(()=>import("./34nights1-BO7U8kwR.js"),__vite__mapDeps([38,39]))},{path:"/package/56nights1",name:"56Nights1",component:()=>rt(()=>import("./56nights1-ZinxNGOg.js"),__vite__mapDeps([40,41]))},{path:"/admin",name:"Admin",component:()=>rt(()=>Promise.resolve().then(()=>v6),void 0)}],$N=OD({history:dD(),routes:HN,scrollBehavior(t,e,n){return n||{left:0,top:0}}}),ph=Kk(x3),Ib=Xk();ph.use(Ib);ph.use($N);zt(Ib).hydrate();ph.mount("#app");export{Eb as A,Tb as B,Wl as C,ql as D,Bl as E,We as F,jl as G,Kl as H,Ql as I,Jl as J,Yl as K,Xl as L,Zl as M,ec as N,tc as O,ft as _,Ee as a,f as b,L as c,ne as d,ce as e,qn as f,En as g,Bt as h,Ll as i,dn as j,Ul as k,Ot as l,U as m,Qe as n,O as o,dt as p,Hl as q,It as r,$l as s,Y as t,zt as u,zl as v,cn as w,Gl as x,bb as y,wb as z};
