const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/short-B0PTVPXE.js","assets/carcard8-CLTewSkQ.js","assets/short-B3aB3VqX.css","assets/long-jD3DKlYB.js","assets/carcard10-fJ-4C_RU.js","assets/long-DFcb-721.css","assets/regsafari-2mK85YtY.js","assets/regsafari-DRYLbAk5.css","assets/upsafari-CcMuoZ7A.js","assets/upsafari-O-3FsNpe.css","assets/addon-D7AX6mXJ.js","assets/addon-CKFEkCO8.css","assets/34nights-DtoV-x-6.js","assets/34nights-nx6txDt0.css","assets/56nights-D-0LW1D9.js","assets/56nights-CdcvtOPP.css","assets/city12-BA3Us99r.js","assets/city12-CBs4US1c.css","assets/city34-D3_Jn_G6.js","assets/city34-C54-tUyP.css","assets/sndcruise-DwgzJ8Nf.js","assets/sndcruise-DAbfsW2I.css","assets/sndcruise1-BdUpmoBm.js","assets/sndcruise1-DVDIxNEA.css","assets/city121-BpEISzmS.js","assets/city121-Be4WkuGt.css","assets/city341-CRbnXdZN.js","assets/city341-DBeZ4mkS.css","assets/short1-BRBIujAd.js","assets/short1-DNQ9yGNu.css","assets/long1-7ycQxYQO.js","assets/long1-BZ73t1Qk.css","assets/addon1-Hhe4xMD7.js","assets/addon1-BwgoeQEA.css","assets/regsafari1-CYc6QNUA.js","assets/regsafari1-opoPLyza.css","assets/upsafari1-DgqMkwWs.js","assets/upsafari1-CrIvP4pv.css","assets/34nights1-d_Vqsmnl.js","assets/34nights1-BN0ZtMxn.css","assets/56nights1-Cqhg0aIH.js","assets/56nights1-Cx_KRm7r.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Db=()=>{};var Mf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],o=t[n++],l=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},ru={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,o=a?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|o>>4;let g=(o&15)<<2|d>>6,_=d&63;l||(_=64,a||(g=64)),r.push(n[h],n[f],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ig(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||d==null||f==null)throw new Nb;const g=i<<2|o>>4;if(r.push(g),d!==64){const _=o<<4&240|d>>2;if(r.push(_),f!==64){const P=d<<6&192|f;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mb=function(t){const e=Ig(t);return ru.encodeByteArray(e,!0)},Mo=function(t){return Mb(t).replace(/\./g,"")},Cg=function(t){try{return ru.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=()=>kg().__FIREBASE_DEFAULTS__,Ob=()=>{if(typeof process>"u"||typeof Mf>"u")return;const t=Mf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Lb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cg(t[1]);return e&&JSON.parse(e)},hc=()=>{try{return Db()||Vb()||Ob()||Lb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pg=t=>{var e,n;return(n=(e=hc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Sg=t=>{const e=Pg(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rg=()=>{var t;return(t=hc())==null?void 0:t.config},Dg=t=>{var e;return(e=hc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function su(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mo(JSON.stringify(n)),Mo(JSON.stringify(a)),""].join(".")}const Ui={};function Fb(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ui))Ui[e]?t.emulator.push(e):t.prod.push(e);return t}function Ub(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Vf=!1;function iu(t,e){if(typeof window>"u"||typeof document>"u"||!Qr(window.location.host)||Ui[t]===e||Ui[t]||Vf)return;Ui[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=Fb().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Vf=!0,a()},g}function h(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=Ub(r),_=n("text"),P=document.getElementById(_)||document.createElement("span"),x=n("learnmore"),N=document.getElementById(x)||document.createElement("a"),H=n("preprendIcon"),L=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const $=g.element;o($),h(N,x);const D=d();l(L,H),$.append(L,P,N,D),document.body.appendChild($)}i?(P.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function qb(){var e;const t=(e=hc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $b(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zb(){return!qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function au(){try{return typeof indexedDB=="object"}catch{return!1}}function Gb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="FirebaseError";class Hn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kb,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oi.prototype.create)}}class oi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?Qb(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Hn(s,o,r)}}function Qb(t,e){return t.replace(Zb,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Zb=/\{\$([^}]+)}/g;function Yb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Of(i)&&Of(a)){if(!vs(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Of(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jb(t,e){const n=new Xb(t,e);return n.subscribe.bind(n)}class Xb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ew(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vl),s.error===void 0&&(s.error=Vl),s.complete===void 0&&(s.complete=Vl);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ew(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vl(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=1e3,nw=2,rw=4*60*60*1e3,sw=.5;function iw(t,e=tw,n=nw){const r=e*Math.pow(n,t),s=Math.round(sw*r*(Math.random()-.5)*2);return Math.min(rw,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class Un{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ra;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cw(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ow(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ow(t){return t===as?void 0:t}function cw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const dw={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},uw=Ae.INFO,hw={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},fw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=hw[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fc{constructor(e){this.name=e,this._logLevel=uw,this._logHandler=fw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const pw=(t,e)=>e.some(n=>t instanceof n);let Lf,Ff;function mw(){return Lf||(Lf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gw(){return Ff||(Ff=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ng=new WeakMap,pd=new WeakMap,Mg=new WeakMap,Ol=new WeakMap,ou=new WeakMap;function vw(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Nr(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Ng.set(n,t)}).catch(()=>{}),ou.set(e,t),e}function yw(t){if(pd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});pd.set(t,e)}let md={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _w(t){md=t(md)}function bw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ll(this),e,...n);return Mg.set(r,e.sort?e.sort():[e]),Nr(r)}:gw().includes(t)?function(...e){return t.apply(Ll(this),e),Nr(Ng.get(this))}:function(...e){return Nr(t.apply(Ll(this),e))}}function ww(t){return typeof t=="function"?bw(t):(t instanceof IDBTransaction&&yw(t),pw(t,mw())?new Proxy(t,md):t)}function Nr(t){if(t instanceof IDBRequest)return vw(t);if(Ol.has(t))return Ol.get(t);const e=ww(t);return e!==t&&(Ol.set(t,e),ou.set(e,t)),e}const Ll=t=>ou.get(t);function Tw(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=Nr(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Nr(a.result),l.oldVersion,l.newVersion,Nr(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const Ew=["get","getKey","getAll","getAllKeys","count"],Aw=["put","add","delete","clear"],Fl=new Map;function Uf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fl.get(e))return Fl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Aw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ew.includes(n)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(o.shift())),(await Promise.all([d[n](...o),s&&l.done]))[0]};return Fl.set(e,i),i}_w(t=>({...t,get:(e,n,r)=>Uf(e,n)||t.get(e,n,r),has:(e,n)=>!!Uf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gd="@firebase/app",Wf="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new fc("@firebase/app"),kw="@firebase/app-compat",Pw="@firebase/analytics-compat",Sw="@firebase/analytics",Rw="@firebase/app-check-compat",Dw="@firebase/app-check",xw="@firebase/auth",Nw="@firebase/auth-compat",Mw="@firebase/database",Vw="@firebase/data-connect",Ow="@firebase/database-compat",Lw="@firebase/functions",Fw="@firebase/functions-compat",Uw="@firebase/installations",Ww="@firebase/installations-compat",qw="@firebase/messaging",Bw="@firebase/messaging-compat",Hw="@firebase/performance",jw="@firebase/performance-compat",$w="@firebase/remote-config",zw="@firebase/remote-config-compat",Gw="@firebase/storage",Kw="@firebase/storage-compat",Qw="@firebase/firestore",Zw="@firebase/ai",Yw="@firebase/firestore-compat",Jw="firebase",Xw="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",eT={[gd]:"fire-core",[kw]:"fire-core-compat",[Sw]:"fire-analytics",[Pw]:"fire-analytics-compat",[Dw]:"fire-app-check",[Rw]:"fire-app-check-compat",[xw]:"fire-auth",[Nw]:"fire-auth-compat",[Mw]:"fire-rtdb",[Vw]:"fire-data-connect",[Ow]:"fire-rtdb-compat",[Lw]:"fire-fn",[Fw]:"fire-fn-compat",[Uw]:"fire-iid",[Ww]:"fire-iid-compat",[qw]:"fire-fcm",[Bw]:"fire-fcm-compat",[Hw]:"fire-perf",[jw]:"fire-perf-compat",[$w]:"fire-rc",[zw]:"fire-rc-compat",[Gw]:"fire-gcs",[Kw]:"fire-gcs-compat",[Qw]:"fire-fst",[Yw]:"fire-fst-compat",[Zw]:"fire-vertex","fire-js":"fire-js",[Jw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Map,tT=new Map,yd=new Map;function qf(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ar(t){const e=t.name;if(yd.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;yd.set(e,t);for(const n of sa.values())qf(n,t);for(const n of tT.values())qf(n,t);return!0}function ci(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new oi("app","Firebase",nT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=Xw;function Vg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vd,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Mr.create("bad-app-name",{appName:String(s)});if(n||(n=Rg()),!n)throw Mr.create("no-options");const i=sa.get(s);if(i){if(vs(n,i.options)&&vs(r,i.config))return i;throw Mr.create("duplicate-app",{appName:s})}const a=new lw(s);for(const l of yd.values())a.addComponent(l);const o=new rT(n,r,a);return sa.set(s,o),o}function pc(t=vd){const e=sa.get(t);if(!e&&t===vd&&Rg())return Vg();if(!e)throw Mr.create("no-app",{appName:t});return e}function Bf(){return Array.from(sa.values())}function yn(t,e,n){let r=eT[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}ar(new Un(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firebase-heartbeat-database",iT=1,ia="firebase-heartbeat-store";let Ul=null;function Og(){return Ul||(Ul=Tw(sT,iT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ia)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),Ul}async function aT(t){try{const n=(await Og()).transaction(ia),r=await n.objectStore(ia).get(Lg(t));return await n.done,r}catch(e){if(e instanceof Hn)ir.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function Hf(t,e){try{const r=(await Og()).transaction(ia,"readwrite");await r.objectStore(ia).put(e,Lg(t)),await r.done}catch(n){if(n instanceof Hn)ir.warn(n.message);else{const r=Mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function Lg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=1024,cT=30;class lT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jf();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>cT){const a=hT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jf(),{heartbeatsToSend:r,unsentEntries:s}=dT(this._heartbeatsCache.heartbeats),i=Mo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ir.warn(n),""}}}function jf(){return new Date().toISOString().substring(0,10)}function dT(t,e=oT){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),$f(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),$f(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return au()?Gb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $f(t){return Mo(JSON.stringify({version:2,heartbeats:t})).length}function hT(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t){ar(new Un("platform-logger",e=>new Iw(e),"PRIVATE")),ar(new Un("heartbeat",e=>new lT(e),"PRIVATE")),yn(gd,Wf,t),yn(gd,Wf,"esm2020"),yn("fire-js","")}fT("");var pT="firebase",mT="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn(pT,mT,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,Fg={activated:!1,tokenObservers:[]},gT={initialized:!1,enabled:!1};function dt(t){return _d.get(t)||{...Fg}}function vT(t,e){return _d.set(t,e),_d.get(t)}function mc(){return gT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="https://content-firebaseappcheck.googleapis.com/v1",yT="exchangeRecaptchaV3Token",_T="exchangeDebugToken",zf={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},bT=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r,s,i){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=s,s>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ra,this.pending.promise.catch(n=>{}),await TT(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ra,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function TT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},jt=new oi("appCheck","AppCheck",ET);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t=!1){var e;return t?(e=self.grecaptcha)==null?void 0:e.enterprise:self.grecaptcha}function cu(t){if(!dt(t).activated)throw jt.create("use-before-activation",{appName:t.name})}function Wg(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),s=Math.floor((e-n*3600*24-r*3600)/60),i=e-n*3600*24-r*3600-s*60;let a="";return n&&(a+=so(n)+"d:"),r&&(a+=so(r)+"h:"),a+=so(s)+"m:"+so(i)+"s",a}function so(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu({url:t,body:e},n){const r={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const i={method:"POST",body:JSON.stringify(e),headers:r};let a;try{a=await fetch(t,i)}catch(f){throw jt.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(a.status!==200)throw jt.create("fetch-status-error",{httpStatus:a.status});let o;try{o=await a.json()}catch(f){throw jt.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const l=o.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw jt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${o.ttl}`});const d=Number(l[1])*1e3,h=Date.now();return{token:o.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}}function AT(t,e){const{projectId:n,appId:r,apiKey:s}=t.options;return{url:`${Ug}/projects/${n}/apps/${r}:${yT}?key=${s}`,body:{recaptcha_v3_token:e}}}function qg(t,e){const{projectId:n,appId:r,apiKey:s}=t.options;return{url:`${Ug}/projects/${n}/apps/${r}:${_T}?key=${s}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="firebase-app-check-database",CT=1,aa="firebase-app-check-store",Bg="debug-token";let io=null;function Hg(){return io||(io=new Promise((t,e)=>{try{const n=indexedDB.open(IT,CT);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var s;e(jt.create("storage-open",{originalErrorMessage:(s=r.target.error)==null?void 0:s.message}))},n.onupgradeneeded=r=>{const s=r.target.result;switch(r.oldVersion){case 0:s.createObjectStore(aa,{keyPath:"compositeKey"})}}}catch(n){e(jt.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),io)}function kT(t){return $g(zg(t))}function PT(t,e){return jg(zg(t),e)}function ST(t){return jg(Bg,t)}function RT(){return $g(Bg)}async function jg(t,e){const r=(await Hg()).transaction(aa,"readwrite"),i=r.objectStore(aa).put({compositeKey:t,value:e});return new Promise((a,o)=>{i.onsuccess=l=>{a()},r.onerror=l=>{var d;o(jt.create("storage-set",{originalErrorMessage:(d=l.target.error)==null?void 0:d.message}))}})}async function $g(t){const n=(await Hg()).transaction(aa,"readonly"),s=n.objectStore(aa).get(t);return new Promise((i,a)=>{s.onsuccess=o=>{const l=o.target.result;i(l?l.value:void 0)},n.onerror=o=>{var l;a(jt.create("storage-get",{originalErrorMessage:(l=o.target.error)==null?void 0:l.message}))}})}function zg(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new fc("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(t){if(au()){let e;try{e=await kT(t)}catch(n){Dr.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function Wl(t,e){return au()?PT(t,e).catch(n=>{Dr.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function xT(){let t;try{t=await RT()}catch{}if(t)return t;{const e=crypto.randomUUID();return ST(e).catch(n=>Dr.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(){return mc().enabled}async function uu(){const t=mc();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function NT(){const t=kg(),e=mc();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new ra;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(xT())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT={error:"UNKNOWN_ERROR"};function VT(t){return ru.encodeString(JSON.stringify(t),!1)}async function bd(t,e=!1,n=!1){const r=t.app;cu(r);const s=dt(r);let i=s.token,a;if(i&&!Ws(i)&&(s.token=void 0,i=void 0),!i){const d=await s.cachedTokenPromise;d&&(Ws(d)?i=d:await Wl(r,void 0))}if(!e&&i&&Ws(i))return{token:i.token};let o=!1;if(du())try{s.exchangeTokenPromise||(s.exchangeTokenPromise=lu(qg(r,await uu()),t.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),o=!0);const d=await s.exchangeTokenPromise;return await Wl(r,d),s.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?Dr.warn(d.message):n&&Dr.error(d),ql(d)}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),o=!0),i=await dt(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?Dr.warn(d.message):n&&Dr.error(d),a=d}let l;return i?a?Ws(i)?l={token:i.token,internalError:a}:l=ql(a):(l={token:i.token},s.token=i,await Wl(r,i)):l=ql(a),o&&Qg(r,l),l}async function OT(t){const e=t.app;cu(e);const{provider:n}=dt(e);if(du()){const r=await uu(),{token:s}=await lu(qg(e,r),t.heartbeatServiceProvider);return{token:s}}else{const{token:r}=await n.getToken();return{token:r}}}function Gg(t,e,n,r){const{app:s}=t,i=dt(s),a={next:n,error:r,type:e};if(i.tokenObservers=[...i.tokenObservers,a],i.token&&Ws(i.token)){const o=i.token;Promise.resolve().then(()=>{n({token:o.token}),Kf(t)}).catch(()=>{})}i.cachedTokenPromise.then(()=>Kf(t))}function Kg(t,e){const n=dt(t),r=n.tokenObservers.filter(s=>s.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Kf(t){const{app:e}=t,n=dt(e);let r=n.tokenRefresher;r||(r=LT(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function LT(t){const{app:e}=t;return new wT(async()=>{const n=dt(e);let r;if(n.token?r=await bd(t,!0):r=await bd(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=dt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,s),Math.max(0,r-Date.now())}else return 0},zf.RETRIAL_MIN_WAIT,zf.RETRIAL_MAX_WAIT)}function Qg(t,e){const n=dt(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ws(t){return t.expireTimeMillis-Date.now()>0}function ql(t){return{token:VT(MT),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=dt(this.app);for(const n of e)Kg(this.app,n.next);return Promise.resolve()}}function UT(t,e){return new FT(t,e)}function WT(t){return{getToken:e=>bd(t,e),getLimitedUseToken:()=>OT(t),addTokenListener:e=>Gg(t,"INTERNAL",e),removeTokenListener:e=>Kg(t.app,e)}}const qT="@firebase/app-check",BT="0.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="https://www.google.com/recaptcha/api.js";function jT(t,e){const n=new ra,r=dt(t);r.reCAPTCHAState={initialized:n};const s=$T(t),i=Gf(!1);return i?Qf(t,e,i,s,n):KT(()=>{const a=Gf(!1);if(!a)throw new Error("no recaptcha");Qf(t,e,a,s,n)}),n.promise}function Qf(t,e,n,r,s){n.ready(()=>{GT(t,e,n,r),s.resolve(n)})}function $T(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function zT(t){cu(t);const n=await dt(t).reCAPTCHAState.initialized.promise;return new Promise((r,s)=>{const i=dt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(i.widgetId,{action:"fire_app_check"}))})})}function GT(t,e,n,r){const s=n.render(r,{sitekey:e,size:"invisible",callback:()=>{dt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{dt(t).reCAPTCHAState.succeeded=!1}}),i=dt(t);i.reCAPTCHAState={...i.reCAPTCHAState,widgetId:s}}function KT(t){const e=document.createElement("script");e.src=HT,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var r,s,i;ZT(this._throttleData);const e=await zT(this._app).catch(a=>{throw jt.create("recaptcha-error")});if(!((r=dt(this._app).reCAPTCHAState)!=null&&r.succeeded))throw jt.create("recaptcha-error");let n;try{n=await lu(AT(this._app,e),this._heartbeatServiceProvider)}catch(a){throw(s=a.code)!=null&&s.includes("fetch-status-error")?(this._throttleData=QT(Number((i=a.customData)==null?void 0:i.httpStatus),this._throttleData),jt.create("initial-throttle",{time:Wg(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):a}return this._throttleData=null,n}initialize(e){this._app=e,this._heartbeatServiceProvider=ci(e,"heartbeat"),jT(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof hu?this._siteKey===e._siteKey:!1}}function QT(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+bT,httpStatus:t};{const n=e?e.backoffCount:0,r=iw(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function ZT(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw jt.create("throttled",{time:Wg(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t=pc(),e){t=Ke(t);const n=ci(t,"app-check");if(mc().initialized||NT(),du()&&uu().then(s=>console.log(`App Check debug token: ${s}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&i.provider.isEqual(e.provider))return s;throw jt.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return JT(t,e.provider,e.isTokenAutoRefreshEnabled),dt(t).isTokenAutoRefreshEnabled&&Gg(r,"INTERNAL",()=>{}),r}function JT(t,e,n=!1){const r=vT(t,{...Fg});r.activated=!0,r.provider=e,r.cachedTokenPromise=DT(t).then(s=>(s&&Ws(s)&&(r.token=s,Qg(t,{token:s.token})),s)),r.isTokenAutoRefreshEnabled=n&&t.automaticDataCollectionEnabled,!t.automaticDataCollectionEnabled&&n&&Dr.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),r.provider.initialize(t)}const XT="app-check",Zf="app-check-internal";function e0(){ar(new Un(XT,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return UT(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Zf).initialize()})),ar(new Un(Zf,t=>{const e=t.getProvider("app-check").getImmediate();return WT(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),yn(qT,BT)}e0();var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,Zg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,y){function b(){}b.prototype=y.prototype,E.D=y.prototype,E.prototype=new b,E.prototype.constructor=E,E.C=function(A,k,I){for(var w=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)w[xe-2]=arguments[xe];return y.prototype[k].apply(A,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,y,b){b||(b=0);var A=Array(16);if(typeof y=="string")for(var k=0;16>k;++k)A[k]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(k=0;16>k;++k)A[k]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=E.g[0],b=E.g[1],k=E.g[2];var I=E.g[3],w=y+(I^b&(k^I))+A[0]+3614090360&4294967295;y=b+(w<<7&4294967295|w>>>25),w=I+(k^y&(b^k))+A[1]+3905402710&4294967295,I=y+(w<<12&4294967295|w>>>20),w=k+(b^I&(y^b))+A[2]+606105819&4294967295,k=I+(w<<17&4294967295|w>>>15),w=b+(y^k&(I^y))+A[3]+3250441966&4294967295,b=k+(w<<22&4294967295|w>>>10),w=y+(I^b&(k^I))+A[4]+4118548399&4294967295,y=b+(w<<7&4294967295|w>>>25),w=I+(k^y&(b^k))+A[5]+1200080426&4294967295,I=y+(w<<12&4294967295|w>>>20),w=k+(b^I&(y^b))+A[6]+2821735955&4294967295,k=I+(w<<17&4294967295|w>>>15),w=b+(y^k&(I^y))+A[7]+4249261313&4294967295,b=k+(w<<22&4294967295|w>>>10),w=y+(I^b&(k^I))+A[8]+1770035416&4294967295,y=b+(w<<7&4294967295|w>>>25),w=I+(k^y&(b^k))+A[9]+2336552879&4294967295,I=y+(w<<12&4294967295|w>>>20),w=k+(b^I&(y^b))+A[10]+4294925233&4294967295,k=I+(w<<17&4294967295|w>>>15),w=b+(y^k&(I^y))+A[11]+2304563134&4294967295,b=k+(w<<22&4294967295|w>>>10),w=y+(I^b&(k^I))+A[12]+1804603682&4294967295,y=b+(w<<7&4294967295|w>>>25),w=I+(k^y&(b^k))+A[13]+4254626195&4294967295,I=y+(w<<12&4294967295|w>>>20),w=k+(b^I&(y^b))+A[14]+2792965006&4294967295,k=I+(w<<17&4294967295|w>>>15),w=b+(y^k&(I^y))+A[15]+1236535329&4294967295,b=k+(w<<22&4294967295|w>>>10),w=y+(k^I&(b^k))+A[1]+4129170786&4294967295,y=b+(w<<5&4294967295|w>>>27),w=I+(b^k&(y^b))+A[6]+3225465664&4294967295,I=y+(w<<9&4294967295|w>>>23),w=k+(y^b&(I^y))+A[11]+643717713&4294967295,k=I+(w<<14&4294967295|w>>>18),w=b+(I^y&(k^I))+A[0]+3921069994&4294967295,b=k+(w<<20&4294967295|w>>>12),w=y+(k^I&(b^k))+A[5]+3593408605&4294967295,y=b+(w<<5&4294967295|w>>>27),w=I+(b^k&(y^b))+A[10]+38016083&4294967295,I=y+(w<<9&4294967295|w>>>23),w=k+(y^b&(I^y))+A[15]+3634488961&4294967295,k=I+(w<<14&4294967295|w>>>18),w=b+(I^y&(k^I))+A[4]+3889429448&4294967295,b=k+(w<<20&4294967295|w>>>12),w=y+(k^I&(b^k))+A[9]+568446438&4294967295,y=b+(w<<5&4294967295|w>>>27),w=I+(b^k&(y^b))+A[14]+3275163606&4294967295,I=y+(w<<9&4294967295|w>>>23),w=k+(y^b&(I^y))+A[3]+4107603335&4294967295,k=I+(w<<14&4294967295|w>>>18),w=b+(I^y&(k^I))+A[8]+1163531501&4294967295,b=k+(w<<20&4294967295|w>>>12),w=y+(k^I&(b^k))+A[13]+2850285829&4294967295,y=b+(w<<5&4294967295|w>>>27),w=I+(b^k&(y^b))+A[2]+4243563512&4294967295,I=y+(w<<9&4294967295|w>>>23),w=k+(y^b&(I^y))+A[7]+1735328473&4294967295,k=I+(w<<14&4294967295|w>>>18),w=b+(I^y&(k^I))+A[12]+2368359562&4294967295,b=k+(w<<20&4294967295|w>>>12),w=y+(b^k^I)+A[5]+4294588738&4294967295,y=b+(w<<4&4294967295|w>>>28),w=I+(y^b^k)+A[8]+2272392833&4294967295,I=y+(w<<11&4294967295|w>>>21),w=k+(I^y^b)+A[11]+1839030562&4294967295,k=I+(w<<16&4294967295|w>>>16),w=b+(k^I^y)+A[14]+4259657740&4294967295,b=k+(w<<23&4294967295|w>>>9),w=y+(b^k^I)+A[1]+2763975236&4294967295,y=b+(w<<4&4294967295|w>>>28),w=I+(y^b^k)+A[4]+1272893353&4294967295,I=y+(w<<11&4294967295|w>>>21),w=k+(I^y^b)+A[7]+4139469664&4294967295,k=I+(w<<16&4294967295|w>>>16),w=b+(k^I^y)+A[10]+3200236656&4294967295,b=k+(w<<23&4294967295|w>>>9),w=y+(b^k^I)+A[13]+681279174&4294967295,y=b+(w<<4&4294967295|w>>>28),w=I+(y^b^k)+A[0]+3936430074&4294967295,I=y+(w<<11&4294967295|w>>>21),w=k+(I^y^b)+A[3]+3572445317&4294967295,k=I+(w<<16&4294967295|w>>>16),w=b+(k^I^y)+A[6]+76029189&4294967295,b=k+(w<<23&4294967295|w>>>9),w=y+(b^k^I)+A[9]+3654602809&4294967295,y=b+(w<<4&4294967295|w>>>28),w=I+(y^b^k)+A[12]+3873151461&4294967295,I=y+(w<<11&4294967295|w>>>21),w=k+(I^y^b)+A[15]+530742520&4294967295,k=I+(w<<16&4294967295|w>>>16),w=b+(k^I^y)+A[2]+3299628645&4294967295,b=k+(w<<23&4294967295|w>>>9),w=y+(k^(b|~I))+A[0]+4096336452&4294967295,y=b+(w<<6&4294967295|w>>>26),w=I+(b^(y|~k))+A[7]+1126891415&4294967295,I=y+(w<<10&4294967295|w>>>22),w=k+(y^(I|~b))+A[14]+2878612391&4294967295,k=I+(w<<15&4294967295|w>>>17),w=b+(I^(k|~y))+A[5]+4237533241&4294967295,b=k+(w<<21&4294967295|w>>>11),w=y+(k^(b|~I))+A[12]+1700485571&4294967295,y=b+(w<<6&4294967295|w>>>26),w=I+(b^(y|~k))+A[3]+2399980690&4294967295,I=y+(w<<10&4294967295|w>>>22),w=k+(y^(I|~b))+A[10]+4293915773&4294967295,k=I+(w<<15&4294967295|w>>>17),w=b+(I^(k|~y))+A[1]+2240044497&4294967295,b=k+(w<<21&4294967295|w>>>11),w=y+(k^(b|~I))+A[8]+1873313359&4294967295,y=b+(w<<6&4294967295|w>>>26),w=I+(b^(y|~k))+A[15]+4264355552&4294967295,I=y+(w<<10&4294967295|w>>>22),w=k+(y^(I|~b))+A[6]+2734768916&4294967295,k=I+(w<<15&4294967295|w>>>17),w=b+(I^(k|~y))+A[13]+1309151649&4294967295,b=k+(w<<21&4294967295|w>>>11),w=y+(k^(b|~I))+A[4]+4149444226&4294967295,y=b+(w<<6&4294967295|w>>>26),w=I+(b^(y|~k))+A[11]+3174756917&4294967295,I=y+(w<<10&4294967295|w>>>22),w=k+(y^(I|~b))+A[2]+718787259&4294967295,k=I+(w<<15&4294967295|w>>>17),w=b+(I^(k|~y))+A[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(k+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+I&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var b=y-this.blockSize,A=this.B,k=this.h,I=0;I<y;){if(k==0)for(;I<=b;)s(this,E,I),I+=this.blockSize;if(typeof E=="string"){for(;I<y;)if(A[k++]=E.charCodeAt(I++),k==this.blockSize){s(this,A),k=0;break}}else for(;I<y;)if(A[k++]=E[I++],k==this.blockSize){s(this,A),k=0;break}}this.h=k,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var b=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=b&255,b/=256;for(this.u(E),E=Array(16),y=b=0;4>y;++y)for(var A=0;32>A;A+=8)E[b++]=this.g[y]>>>A&255;return E};function i(E,y){var b=o;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=y(E)}function a(E,y){this.h=y;for(var b=[],A=!0,k=E.length-1;0<=k;k--){var I=E[k]|0;A&&I==y||(b[k]=I,A=!1)}this.g=b}var o={};function l(E){return-128<=E&&128>E?i(E,function(y){return new a([y|0],0>y?-1:0)}):new a([E|0],0>E?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return N(d(-E));for(var y=[],b=1,A=0;E>=b;A++)y[A]=E/b|0,b*=4294967296;return new a(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return N(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(y,8)),A=f,k=0;k<E.length;k+=8){var I=Math.min(8,E.length-k),w=parseInt(E.substring(k,k+I),y);8>I?(I=d(Math.pow(y,I)),A=A.j(I).add(d(w))):(A=A.j(b),A=A.add(d(w)))}return A}var f=l(0),g=l(1),_=l(16777216);t=a.prototype,t.m=function(){if(x(this))return-N(this).m();for(var E=0,y=1,b=0;b<this.g.length;b++){var A=this.i(b);E+=(0<=A?A:4294967296+A)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(P(this))return"0";if(x(this))return"-"+N(this).toString(E);for(var y=d(Math.pow(E,6)),b=this,A="";;){var k=D(b,y).g;b=H(b,k.j(y));var I=((0<b.g.length?b.g[0]:b.h)>>>0).toString(E);if(b=k,P(b))return I+A;for(;6>I.length;)I="0"+I;A=I+A}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function P(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=H(this,E),x(E)?-1:P(E)?0:1};function N(E){for(var y=E.g.length,b=[],A=0;A<y;A++)b[A]=~E.g[A];return new a(b,~E.h).add(g)}t.abs=function(){return x(this)?N(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],A=0,k=0;k<=y;k++){var I=A+(this.i(k)&65535)+(E.i(k)&65535),w=(I>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);A=w>>>16,I&=65535,w&=65535,b[k]=w<<16|I}return new a(b,b[b.length-1]&-2147483648?-1:0)};function H(E,y){return E.add(N(y))}t.j=function(E){if(P(this)||P(E))return f;if(x(this))return x(E)?N(this).j(N(E)):N(N(this).j(E));if(x(E))return N(this.j(N(E)));if(0>this.l(_)&&0>E.l(_))return d(this.m()*E.m());for(var y=this.g.length+E.g.length,b=[],A=0;A<2*y;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var k=0;k<E.g.length;k++){var I=this.i(A)>>>16,w=this.i(A)&65535,xe=E.i(k)>>>16,tt=E.i(k)&65535;b[2*A+2*k]+=w*tt,L(b,2*A+2*k),b[2*A+2*k+1]+=I*tt,L(b,2*A+2*k+1),b[2*A+2*k+1]+=w*xe,L(b,2*A+2*k+1),b[2*A+2*k+2]+=I*xe,L(b,2*A+2*k+2)}for(A=0;A<y;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=y;A<2*y;A++)b[A]=0;return new a(b,0)};function L(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function $(E,y){this.g=E,this.h=y}function D(E,y){if(P(y))throw Error("division by zero");if(P(E))return new $(f,f);if(x(E))return y=D(N(E),y),new $(N(y.g),N(y.h));if(x(y))return y=D(E,N(y)),new $(N(y.g),y.h);if(30<E.g.length){if(x(E)||x(y))throw Error("slowDivide_ only works with positive integers.");for(var b=g,A=y;0>=A.l(E);)b=K(b),A=K(A);var k=G(b,1),I=G(A,1);for(A=G(A,2),b=G(b,2);!P(A);){var w=I.add(A);0>=w.l(E)&&(k=k.add(b),I=w),A=G(A,1),b=G(b,1)}return y=H(E,k.j(y)),new $(k,y)}for(k=f;0<=E.l(y);){for(b=Math.max(1,Math.floor(E.m()/y.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),I=d(b),w=I.j(y);x(w)||0<w.l(E);)b-=A,I=d(b),w=I.j(y);P(I)&&(I=g),k=k.add(I),E=H(E,w)}return new $(k,E)}t.A=function(E){return D(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],A=0;A<y;A++)b[A]=this.i(A)&E.i(A);return new a(b,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],A=0;A<y;A++)b[A]=this.i(A)|E.i(A);return new a(b,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],A=0;A<y;A++)b[A]=this.i(A)^E.i(A);return new a(b,this.h^E.h)};function K(E){for(var y=E.g.length+1,b=[],A=0;A<y;A++)b[A]=E.i(A)<<1|E.i(A-1)>>>31;return new a(b,E.h)}function G(E,y){var b=y>>5;y%=32;for(var A=E.g.length-b,k=[],I=0;I<A;I++)k[I]=0<y?E.i(I+b)>>>y|E.i(I+b+1)<<32-y:E.i(I+b);return new a(k,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Zg=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,Vr=a}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});var ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yg,Mi,Jg,_o,wd,Xg,ev,tv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,u,p){return c==Array.prototype||c==Object.prototype||(c[u]=p.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ao=="object"&&ao];for(var u=0;u<c.length;++u){var p=c[u];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(c,u){if(u)e:{var p=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var R=c[v];if(!(R in p))break e;p=p[R]}c=c[c.length-1],v=p[c],u=u(v),u!=v&&u!=null&&e(p,c,{configurable:!0,writable:!0,value:u})}}function i(c,u){c instanceof String&&(c+="");var p=0,v=!1,R={next:function(){if(!v&&p<c.length){var M=p++;return{value:u(M,c[M]),done:!1}}return v=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}s("Array.prototype.values",function(c){return c||function(){return i(this,function(u,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(c){var u=typeof c;return u=u!="object"?u:c?Array.isArray(c)?"array":u:"null",u=="array"||u=="object"&&typeof c.length=="number"}function d(c){var u=typeof c;return u=="object"&&c!=null||u=="function"}function h(c,u,p){return c.call.apply(c.bind,arguments)}function f(c,u,p){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,v),c.apply(u,R)}}return function(){return c.apply(u,arguments)}}function g(c,u,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function _(c,u){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function P(c,u){function p(){}p.prototype=u.prototype,c.aa=u.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(v,R,M){for(var J=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)J[Le-2]=arguments[Le];return u.prototype[R].apply(v,J)}}function x(c){const u=c.length;if(0<u){const p=Array(u);for(let v=0;v<u;v++)p[v]=c[v];return p}return[]}function N(c,u){for(let p=1;p<arguments.length;p++){const v=arguments[p];if(l(v)){const R=c.length||0,M=v.length||0;c.length=R+M;for(let J=0;J<M;J++)c[R+J]=v[J]}else c.push(v)}}class H{constructor(u,p){this.i=u,this.j=p,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function L(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=o.navigator;return c&&(c=c.userAgent)?c:""}function D(c){return D[" "](c),c}D[" "]=function(){};var K=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function G(c,u,p){for(const v in c)u.call(p,c[v],v,c)}function E(c,u){for(const p in c)u.call(void 0,c[p],p,c)}function y(c){const u={};for(const p in c)u[p]=c[p];return u}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,u){let p,v;for(let R=1;R<arguments.length;R++){v=arguments[R];for(p in v)c[p]=v[p];for(let M=0;M<b.length;M++)p=b[M],Object.prototype.hasOwnProperty.call(v,p)&&(c[p]=v[p])}}function k(c){var u=1;c=c.split(":");const p=[];for(;0<u&&c.length;)p.push(c.shift()),u--;return c.length&&p.push(c.join(":")),p}function I(c){o.setTimeout(()=>{throw c},0)}function w(){var c=zt;let u=null;return c.g&&(u=c.g,c.g=c.g.next,c.g||(c.h=null),u.next=null),u}class xe{constructor(){this.h=this.g=null}add(u,p){const v=tt.get();v.set(u,p),this.h?this.h.next=v:this.g=v,this.h=v}}var tt=new H(()=>new Oe,c=>c.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(u,p){this.h=u,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let me,Ee=!1,zt=new xe,mn=()=>{const c=o.Promise.resolve(void 0);me=()=>{c.then(nn)}};var nn=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(p){I(p)}var u=tt;u.j(c),100>u.h&&(u.h++,c.next=u.g,u.g=c)}Ee=!1};function $e(){this.s=this.s,this.C=this.C}$e.prototype.s=!1,$e.prototype.ma=function(){this.s||(this.s=!0,this.N())},$e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(c,u){this.type=c,this.g=this.target=u,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var pr=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,u=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const p=()=>{};o.addEventListener("test",p,u),o.removeEventListener("test",p,u)}catch{}return c}();function Cn(c,u){if(ze.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=u,u=c.relatedTarget){if(K){e:{try{D(u.nodeName);var R=!0;break e}catch{}R=!1}R||(u=null)}}else p=="mouseover"?u=c.fromElement:p=="mouseout"&&(u=c.toElement);this.relatedTarget=u,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:qt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Cn.aa.h.call(this)}}P(Cn,ze);var qt={2:"touch",3:"pen",4:"mouse"};Cn.prototype.h=function(){Cn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),re=0;function ee(c,u,p,v,R){this.listener=c,this.proxy=null,this.src=u,this.type=p,this.capture=!!v,this.ha=R,this.key=++re,this.da=this.fa=!1}function ie(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Re(c){this.src=c,this.g={},this.h=0}Re.prototype.add=function(c,u,p,v,R){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var J=C(c,u,v,R);return-1<J?(u=c[J],p||(u.fa=!1)):(u=new ee(u,this.src,M,!!v,R),u.fa=p,c.push(u)),u};function T(c,u){var p=u.type;if(p in c.g){var v=c.g[p],R=Array.prototype.indexOf.call(v,u,void 0),M;(M=0<=R)&&Array.prototype.splice.call(v,R,1),M&&(ie(u),c.g[p].length==0&&(delete c.g[p],c.h--))}}function C(c,u,p,v){for(var R=0;R<c.length;++R){var M=c[R];if(!M.da&&M.listener==u&&M.capture==!!p&&M.ha==v)return R}return-1}var S="closure_lm_"+(1e6*Math.random()|0),U={};function z(c,u,p,v,R){if(Array.isArray(u)){for(var M=0;M<u.length;M++)z(c,u[M],p,v,R);return null}return p=pe(p),c&&c[F]?c.K(u,p,d(v)?!!v.capture:!1,R):q(c,u,p,!1,v,R)}function q(c,u,p,v,R,M){if(!u)throw Error("Invalid event type");var J=d(R)?!!R.capture:!!R,Le=ne(c);if(Le||(c[S]=Le=new Re(c)),p=Le.add(u,p,v,J,M),p.proxy)return p;if(v=X(),p.proxy=v,v.src=c,v.listener=p,c.addEventListener)pr||(R=J),R===void 0&&(R=!1),c.addEventListener(u.toString(),v,R);else if(c.attachEvent)c.attachEvent(Q(u.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function X(){function c(p){return u.call(c.src,c.listener,p)}const u=ue;return c}function Y(c,u,p,v,R){if(Array.isArray(u))for(var M=0;M<u.length;M++)Y(c,u[M],p,v,R);else v=d(v)?!!v.capture:!!v,p=pe(p),c&&c[F]?(c=c.i,u=String(u).toString(),u in c.g&&(M=c.g[u],p=C(M,p,v,R),-1<p&&(ie(M[p]),Array.prototype.splice.call(M,p,1),M.length==0&&(delete c.g[u],c.h--)))):c&&(c=ne(c))&&(u=c.g[u.toString()],c=-1,u&&(c=C(u,p,v,R)),(p=-1<c?u[c]:null)&&Z(p))}function Z(c){if(typeof c!="number"&&c&&!c.da){var u=c.src;if(u&&u[F])T(u.i,c);else{var p=c.type,v=c.proxy;u.removeEventListener?u.removeEventListener(p,v,c.capture):u.detachEvent?u.detachEvent(Q(p),v):u.addListener&&u.removeListener&&u.removeListener(v),(p=ne(u))?(T(p,c),p.h==0&&(p.src=null,u[S]=null)):ie(c)}}}function Q(c){return c in U?U[c]:U[c]="on"+c}function ue(c,u){if(c.da)c=!0;else{u=new Cn(u,this);var p=c.listener,v=c.ha||c.src;c.fa&&Z(c),c=p.call(v,u)}return c}function ne(c){return c=c[S],c instanceof Re?c:null}var ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(c){return typeof c=="function"?c:(c[ce]||(c[ce]=function(u){return c.handleEvent(u)}),c[ce])}function he(){$e.call(this),this.i=new Re(this),this.M=this,this.F=null}P(he,$e),he.prototype[F]=!0,he.prototype.removeEventListener=function(c,u,p,v){Y(this,c,u,p,v)};function be(c,u){var p,v=c.F;if(v)for(p=[];v;v=v.F)p.push(v);if(c=c.M,v=u.type||u,typeof u=="string")u=new ze(u,c);else if(u instanceof ze)u.target=u.target||c;else{var R=u;u=new ze(v,c),A(u,R)}if(R=!0,p)for(var M=p.length-1;0<=M;M--){var J=u.g=p[M];R=ke(J,v,!0,u)&&R}if(J=u.g=c,R=ke(J,v,!0,u)&&R,R=ke(J,v,!1,u)&&R,p)for(M=0;M<p.length;M++)J=u.g=p[M],R=ke(J,v,!1,u)&&R}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var c=this.i,u;for(u in c.g){for(var p=c.g[u],v=0;v<p.length;v++)ie(p[v]);delete c.g[u],c.h--}}this.F=null},he.prototype.K=function(c,u,p,v){return this.i.add(String(c),u,!1,p,v)},he.prototype.L=function(c,u,p,v){return this.i.add(String(c),u,!0,p,v)};function ke(c,u,p,v){if(u=c.i.g[String(u)],!u)return!0;u=u.concat();for(var R=!0,M=0;M<u.length;++M){var J=u[M];if(J&&!J.da&&J.capture==p){var Le=J.listener,yt=J.ha||J.src;J.fa&&T(c.i,J),R=Le.call(yt,v)!==!1&&R}}return R&&!v.defaultPrevented}function mt(c,u,p){if(typeof c=="function")p&&(c=g(c,p));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:o.setTimeout(c,u||0)}function gt(c){c.g=mt(()=>{c.g=null,c.i&&(c.i=!1,gt(c))},c.l);const u=c.h;c.h=null,c.m.apply(null,u)}class rn extends $e{constructor(u,p){super(),this.m=u,this.l=p,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:gt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Et(c){$e.call(this),this.h=c,this.g={}}P(Et,$e);var mr=[];function gi(c){G(c.g,function(u,p){this.g.hasOwnProperty(p)&&Z(u)},c),c.g={}}Et.prototype.N=function(){Et.aa.N.call(this),gi(this)},Et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vt=o.JSON.stringify,sn=o.JSON.parse,Ba=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function ks(){}ks.prototype.h=null;function Bh(c){return c.h||(c.h=c.i())}function Hh(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wl(){ze.call(this,"d")}P(wl,ze);function Tl(){ze.call(this,"c")}P(Tl,ze);var Jr={},jh=null;function Ha(){return jh=jh||new he}Jr.La="serverreachability";function $h(c){ze.call(this,Jr.La,c)}P($h,ze);function yi(c){const u=Ha();be(u,new $h(u))}Jr.STAT_EVENT="statevent";function zh(c,u){ze.call(this,Jr.STAT_EVENT,c),this.stat=u}P(zh,ze);function Mt(c){const u=Ha();be(u,new zh(u,c))}Jr.Ma="timingevent";function Gh(c,u){ze.call(this,Jr.Ma,c),this.size=u}P(Gh,ze);function _i(c,u){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},u)}function bi(){this.g=!0}bi.prototype.xa=function(){this.g=!1};function cb(c,u,p,v,R,M){c.info(function(){if(c.g)if(M)for(var J="",Le=M.split("&"),yt=0;yt<Le.length;yt++){var De=Le[yt].split("=");if(1<De.length){var At=De[0];De=De[1];var It=At.split("_");J=2<=It.length&&It[1]=="type"?J+(At+"="+De+"&"):J+(At+"=redacted&")}}else J=null;else J=M;return"XMLHTTP REQ ("+v+") [attempt "+R+"]: "+u+`
`+p+`
`+J})}function lb(c,u,p,v,R,M,J){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+R+"]: "+u+`
`+p+`
`+M+" "+J})}function Ps(c,u,p,v){c.info(function(){return"XMLHTTP TEXT ("+u+"): "+ub(c,p)+(v?" "+v:"")})}function db(c,u){c.info(function(){return"TIMEOUT: "+u})}bi.prototype.info=function(){};function ub(c,u){if(!c.g)return u;if(!u)return null;try{var p=JSON.parse(u);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var v=p[c];if(!(2>v.length)){var R=v[1];if(Array.isArray(R)&&!(1>R.length)){var M=R[0];if(M!="noop"&&M!="stop"&&M!="close")for(var J=1;J<R.length;J++)R[J]=""}}}}return vt(p)}catch{return u}}var ja={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},El;function $a(){}P($a,ks),$a.prototype.g=function(){return new XMLHttpRequest},$a.prototype.i=function(){return{}},El=new $a;function gr(c,u,p,v){this.j=c,this.i=u,this.l=p,this.R=v||1,this.U=new Et(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qh}function Qh(){this.i=null,this.g="",this.h=!1}var Zh={},Al={};function Il(c,u,p){c.L=1,c.v=Qa($n(u)),c.m=p,c.P=!0,Yh(c,null)}function Yh(c,u){c.F=Date.now(),za(c),c.A=$n(c.v);var p=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),hf(p.i,"t",v),c.C=0,p=c.j.J,c.h=new Qh,c.g=Rf(c.j,p?u:null,!c.m),0<c.O&&(c.M=new rn(g(c.Y,c,c.g),c.O)),u=c.U,p=c.g,v=c.ca;var R="readystatechange";Array.isArray(R)||(R&&(mr[0]=R.toString()),R=mr);for(var M=0;M<R.length;M++){var J=z(p,R[M],v||u.handleEvent,!1,u.h||u);if(!J)break;u.g[J.key]=J}u=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,u)):(c.u="GET",c.g.ea(c.A,c.u,null,u)),yi(),cb(c.i,c.u,c.A,c.l,c.R,c.m)}gr.prototype.ca=function(c){c=c.target;const u=this.M;u&&zn(c)==3?u.j():this.Y(c)},gr.prototype.Y=function(c){try{if(c==this.g)e:{const It=zn(this.g);var u=this.g.Ba();const Ds=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||_f(this.g)))){this.J||It!=4||u==7||(u==8||0>=Ds?yi(3):yi(2)),Cl(this);var p=this.g.Z();this.X=p;t:if(Jh(this)){var v=_f(this.g);c="";var R=v.length,M=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),wi(this);var J="";break t}this.h.i=new o.TextDecoder}for(u=0;u<R;u++)this.h.h=!0,c+=this.h.i.decode(v[u],{stream:!(M&&u==R-1)});v.length=0,this.h.g+=c,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=p==200,lb(this.i,this.u,this.A,this.l,this.R,It,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,yt=this.g;if((Le=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Le)){var De=Le;break t}}De=null}if(p=De)Ps(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kl(this,p);else{this.o=!1,this.s=3,Mt(12),Xr(this),wi(this);break e}}if(this.P){p=!0;let gn;for(;!this.J&&this.C<J.length;)if(gn=hb(this,J),gn==Al){It==4&&(this.s=4,Mt(14),p=!1),Ps(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Zh){this.s=4,Mt(15),Ps(this.i,this.l,J,"[Invalid Chunk]"),p=!1;break}else Ps(this.i,this.l,gn,null),kl(this,gn);if(Jh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||J.length!=0||this.h.h||(this.s=1,Mt(16),p=!1),this.o=this.o&&p,!p)Ps(this.i,this.l,J,"[Invalid Chunked Response]"),Xr(this),wi(this);else if(0<J.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Nl(At),At.M=!0,Mt(11))}}else Ps(this.i,this.l,J,null),kl(this,J);It==4&&Xr(this),this.o&&!this.J&&(It==4?Cf(this.j,this):(this.o=!1,za(this)))}else Sb(this.g),p==400&&0<J.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Xr(this),wi(this)}}}catch{}finally{}};function Jh(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hb(c,u){var p=c.C,v=u.indexOf(`
`,p);return v==-1?Al:(p=Number(u.substring(p,v)),isNaN(p)?Zh:(v+=1,v+p>u.length?Al:(u=u.slice(v,v+p),c.C=v+p,u)))}gr.prototype.cancel=function(){this.J=!0,Xr(this)};function za(c){c.S=Date.now()+c.I,Xh(c,c.I)}function Xh(c,u){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_i(g(c.ba,c),u)}function Cl(c){c.B&&(o.clearTimeout(c.B),c.B=null)}gr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(db(this.i,this.A),this.L!=2&&(yi(),Mt(17)),Xr(this),this.s=2,wi(this)):Xh(this,this.S-c)};function wi(c){c.j.G==0||c.J||Cf(c.j,c)}function Xr(c){Cl(c);var u=c.M;u&&typeof u.ma=="function"&&u.ma(),c.M=null,gi(c.U),c.g&&(u=c.g,c.g=null,u.abort(),u.ma())}function kl(c,u){try{var p=c.j;if(p.G!=0&&(p.g==c||Pl(p.h,c))){if(!c.K&&Pl(p.h,c)&&p.G==3){try{var v=p.Da.g.parse(u)}catch{v=null}if(Array.isArray(v)&&v.length==3){var R=v;if(R[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)to(p),Xa(p);else break e;xl(p),Mt(18)}}else p.za=R[1],0<p.za-p.T&&37500>R[2]&&p.F&&p.v==0&&!p.C&&(p.C=_i(g(p.Za,p),6e3));if(1>=nf(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ts(p,11)}else if((c.K||p.g==c)&&to(p),!L(u))for(R=p.Da.g.parse(u),u=0;u<R.length;u++){let De=R[u];if(p.T=De[0],De=De[1],p.G==2)if(De[0]=="c"){p.K=De[1],p.ia=De[2];const At=De[3];At!=null&&(p.la=At,p.j.info("VER="+p.la));const It=De[4];It!=null&&(p.Aa=It,p.j.info("SVER="+p.Aa));const Ds=De[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(v=1.5*Ds,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const gn=c.g;if(gn){const ro=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ro){var M=v.h;M.g||ro.indexOf("spdy")==-1&&ro.indexOf("quic")==-1&&ro.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Sl(M,M.h),M.h=null))}if(v.D){const Ml=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(v.ya=Ml,Be(v.I,v.D,Ml))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var J=c;if(v.qa=Sf(v,v.J?v.ia:null,v.W),J.K){rf(v.h,J);var Le=J,yt=v.L;yt&&(Le.I=yt),Le.B&&(Cl(Le),za(Le)),v.g=J}else Af(v);0<p.i.length&&eo(p)}else De[0]!="stop"&&De[0]!="close"||ts(p,7);else p.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?ts(p,7):Dl(p):De[0]!="noop"&&p.l&&p.l.ta(De),p.v=0)}}yi(4)}catch{}}var fb=class{constructor(c,u){this.g=c,this.map=u}};function ef(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tf(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nf(c){return c.h?1:c.g?c.g.size:0}function Pl(c,u){return c.h?c.h==u:c.g?c.g.has(u):!1}function Sl(c,u){c.g?c.g.add(u):c.h=u}function rf(c,u){c.h&&c.h==u?c.h=null:c.g&&c.g.has(u)&&c.g.delete(u)}ef.prototype.cancel=function(){if(this.i=sf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sf(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let u=c.i;for(const p of c.g.values())u=u.concat(p.D);return u}return x(c.i)}function pb(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var u=[],p=c.length,v=0;v<p;v++)u.push(c[v]);return u}u=[],p=0;for(v in c)u[p++]=c[v];return u}function mb(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var u=[];c=c.length;for(var p=0;p<c;p++)u.push(p);return u}u=[],p=0;for(const v in c)u[p++]=v;return u}}}function af(c,u){if(c.forEach&&typeof c.forEach=="function")c.forEach(u,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,u,void 0);else for(var p=mb(c),v=pb(c),R=v.length,M=0;M<R;M++)u.call(void 0,v[M],p&&p[M],c)}var of=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gb(c,u){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var v=c[p].indexOf("="),R=null;if(0<=v){var M=c[p].substring(0,v);R=c[p].substring(v+1)}else M=c[p];u(M,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function es(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof es){this.h=c.h,Ga(this,c.j),this.o=c.o,this.g=c.g,Ka(this,c.s),this.l=c.l;var u=c.i,p=new Ai;p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),cf(this,p),this.m=c.m}else c&&(u=String(c).match(of))?(this.h=!1,Ga(this,u[1]||"",!0),this.o=Ti(u[2]||""),this.g=Ti(u[3]||"",!0),Ka(this,u[4]),this.l=Ti(u[5]||"",!0),cf(this,u[6]||"",!0),this.m=Ti(u[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}es.prototype.toString=function(){var c=[],u=this.j;u&&c.push(Ei(u,lf,!0),":");var p=this.g;return(p||u=="file")&&(c.push("//"),(u=this.o)&&c.push(Ei(u,lf,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(Ei(p,p.charAt(0)=="/"?_b:yb,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",Ei(p,wb)),c.join("")};function $n(c){return new es(c)}function Ga(c,u,p){c.j=p?Ti(u,!0):u,c.j&&(c.j=c.j.replace(/:$/,""))}function Ka(c,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);c.s=u}else c.s=null}function cf(c,u,p){u instanceof Ai?(c.i=u,Tb(c.i,c.h)):(p||(u=Ei(u,bb)),c.i=new Ai(u,c.h))}function Be(c,u,p){c.i.set(u,p)}function Qa(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ti(c,u){return c?u?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ei(c,u,p){return typeof c=="string"?(c=encodeURI(c).replace(u,vb),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vb(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var lf=/[#\/\?@]/g,yb=/[#\?:]/g,_b=/[#\?]/g,bb=/[#\?@]/g,wb=/#/g;function Ai(c,u){this.h=this.g=null,this.i=c||null,this.j=!!u}function vr(c){c.g||(c.g=new Map,c.h=0,c.i&&gb(c.i,function(u,p){c.add(decodeURIComponent(u.replace(/\+/g," ")),p)}))}t=Ai.prototype,t.add=function(c,u){vr(this),this.i=null,c=Ss(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(u),this.h+=1,this};function df(c,u){vr(c),u=Ss(c,u),c.g.has(u)&&(c.i=null,c.h-=c.g.get(u).length,c.g.delete(u))}function uf(c,u){return vr(c),u=Ss(c,u),c.g.has(u)}t.forEach=function(c,u){vr(this),this.g.forEach(function(p,v){p.forEach(function(R){c.call(u,R,v,this)},this)},this)},t.na=function(){vr(this);const c=Array.from(this.g.values()),u=Array.from(this.g.keys()),p=[];for(let v=0;v<u.length;v++){const R=c[v];for(let M=0;M<R.length;M++)p.push(u[v])}return p},t.V=function(c){vr(this);let u=[];if(typeof c=="string")uf(this,c)&&(u=u.concat(this.g.get(Ss(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)u=u.concat(c[p])}return u},t.set=function(c,u){return vr(this),this.i=null,c=Ss(this,c),uf(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[u]),this.h+=1,this},t.get=function(c,u){return c?(c=this.V(c),0<c.length?String(c[0]):u):u};function hf(c,u,p){df(c,u),0<p.length&&(c.i=null,c.g.set(Ss(c,u),x(p)),c.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],u=Array.from(this.g.keys());for(var p=0;p<u.length;p++){var v=u[p];const M=encodeURIComponent(String(v)),J=this.V(v);for(v=0;v<J.length;v++){var R=M;J[v]!==""&&(R+="="+encodeURIComponent(String(J[v]))),c.push(R)}}return this.i=c.join("&")};function Ss(c,u){return u=String(u),c.j&&(u=u.toLowerCase()),u}function Tb(c,u){u&&!c.j&&(vr(c),c.i=null,c.g.forEach(function(p,v){var R=v.toLowerCase();v!=R&&(df(this,v),hf(this,R,p))},c)),c.j=u}function Eb(c,u){const p=new bi;if(o.Image){const v=new Image;v.onload=_(yr,p,"TestLoadImage: loaded",!0,u,v),v.onerror=_(yr,p,"TestLoadImage: error",!1,u,v),v.onabort=_(yr,p,"TestLoadImage: abort",!1,u,v),v.ontimeout=_(yr,p,"TestLoadImage: timeout",!1,u,v),o.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else u(!1)}function Ab(c,u){const p=new bi,v=new AbortController,R=setTimeout(()=>{v.abort(),yr(p,"TestPingServer: timeout",!1,u)},1e4);fetch(c,{signal:v.signal}).then(M=>{clearTimeout(R),M.ok?yr(p,"TestPingServer: ok",!0,u):yr(p,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(R),yr(p,"TestPingServer: error",!1,u)})}function yr(c,u,p,v,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),v(p)}catch{}}function Ib(){this.g=new Ba}function Cb(c,u,p){const v=p||"";try{af(c,function(R,M){let J=R;d(R)&&(J=vt(R)),u.push(v+M+"="+encodeURIComponent(J))})}catch(R){throw u.push(v+"type="+encodeURIComponent("_badmap")),R}}function Za(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Za,ks),Za.prototype.g=function(){return new Ya(this.l,this.j)},Za.prototype.i=function(c){return function(){return c}}({});function Ya(c,u){he.call(this),this.D=c,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ya,he),t=Ya.prototype,t.open=function(c,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=u,this.readyState=1,Ci(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(u.body=c),(this.D||o).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ff(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ff(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var u=c.value?c.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!c.done}))&&(this.response=this.responseText+=u)}c.done?Ii(this):Ci(this),this.readyState==3&&ff(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ii(this))},t.Qa=function(c){this.g&&(this.response=c,Ii(this))},t.ga=function(){this.g&&Ii(this)};function Ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ci(c)}t.setRequestHeader=function(c,u){this.u.append(c,u)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],u=this.h.entries();for(var p=u.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=u.next();return c.join(`\r
`)};function Ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pf(c){let u="";return G(c,function(p,v){u+=v,u+=":",u+=p,u+=`\r
`}),u}function Rl(c,u,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=pf(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):Be(c,u,p))}function Ze(c){he.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ze,he);var kb=/^https?$/i,Pb=["POST","PUT"];t=Ze.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,u,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);u=u?u.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():El.g(),this.v=this.o?Bh(this.o):Bh(El),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(u,String(c),!0),this.B=!1}catch(M){mf(this,M);return}if(c=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var R in v)p.set(R,v[R]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const M of v.keys())p.set(M,v.get(M));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),R=o.FormData&&c instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Pb,u,void 0))||v||R||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,J]of p)this.g.setRequestHeader(M,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yf(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){mf(this,M)}};function mf(c,u){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=u,c.m=5,gf(c),Ja(c)}function gf(c){c.A||(c.A=!0,be(c,"complete"),be(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,be(this,"complete"),be(this,"abort"),Ja(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ja(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vf(this):this.bb())},t.bb=function(){vf(this)};function vf(c){if(c.h&&typeof a<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)mt(c.Ea,0,c);else if(be(c,"readystatechange"),zn(c)==4){c.h=!1;try{const J=c.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var p;if(!(p=u)){var v;if(v=J===0){var R=String(c.D).match(of)[1]||null;!R&&o.self&&o.self.location&&(R=o.self.location.protocol.slice(0,-1)),v=!kb.test(R?R.toLowerCase():"")}p=v}if(p)be(c,"complete"),be(c,"success");else{c.m=6;try{var M=2<zn(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",gf(c)}}finally{Ja(c)}}}}function Ja(c,u){if(c.g){yf(c);const p=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,u||be(c,"ready");try{p.onreadystatechange=v}catch{}}}function yf(c){c.I&&(o.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var u=this.g.responseText;return c&&u.indexOf(c)==0&&(u=u.substring(c.length)),sn(u)}};function _f(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sb(c){const u={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(L(c[v]))continue;var p=k(c[v]);const R=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const M=u[R]||[];u[R]=M,M.push(p)}E(u,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(c,u,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||u}function bf(c){this.Aa=0,this.i=[],this.j=new bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ki("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ki("baseRetryDelayMs",5e3,c),this.cb=ki("retryDelaySeedMs",1e4,c),this.Wa=ki("forwardChannelMaxRetries",2,c),this.wa=ki("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ef(c&&c.concurrentRequestLimit),this.Da=new Ib,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bf.prototype,t.la=8,t.G=1,t.connect=function(c,u,p,v){Mt(0),this.W=c,this.H=u||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=Sf(this,null,this.W),eo(this)};function Dl(c){if(wf(c),c.G==3){var u=c.U++,p=$n(c.I);if(Be(p,"SID",c.K),Be(p,"RID",u),Be(p,"TYPE","terminate"),Pi(c,p),u=new gr(c,c.j,u),u.L=2,u.v=Qa($n(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(u.v.toString(),"")}catch{}!p&&o.Image&&(new Image().src=u.v,p=!0),p||(u.g=Rf(u.j,null),u.g.ea(u.v)),u.F=Date.now(),za(u)}Pf(c)}function Xa(c){c.g&&(Nl(c),c.g.cancel(),c.g=null)}function wf(c){Xa(c),c.u&&(o.clearTimeout(c.u),c.u=null),to(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&o.clearTimeout(c.s),c.s=null)}function eo(c){if(!tf(c.h)&&!c.s){c.s=!0;var u=c.Ga;me||mn(),Ee||(me(),Ee=!0),zt.add(u,c),c.B=0}}function Rb(c,u){return nf(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=u.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_i(g(c.Ga,c,u),kf(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const R=new gr(this,this.j,c);let M=this.o;if(this.S&&(M?(M=y(M),A(M,this.S)):M=this.S),this.m!==null||this.O||(R.H=M,M=null),this.P)e:{for(var u=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(u+=v,4096<u){u=p;break e}if(u===4096||p===this.i.length-1){u=p+1;break e}}u=1e3}else u=1e3;u=Ef(this,R,u),p=$n(this.I),Be(p,"RID",c),Be(p,"CVER",22),this.D&&Be(p,"X-HTTP-Session-Id",this.D),Pi(this,p),M&&(this.O?u="headers="+encodeURIComponent(String(pf(M)))+"&"+u:this.m&&Rl(p,this.m,M)),Sl(this.h,R),this.Ua&&Be(p,"TYPE","init"),this.P?(Be(p,"$req",u),Be(p,"SID","null"),R.T=!0,Il(R,p,null)):Il(R,p,u),this.G=2}}else this.G==3&&(c?Tf(this,c):this.i.length==0||tf(this.h)||Tf(this))};function Tf(c,u){var p;u?p=u.l:p=c.U++;const v=$n(c.I);Be(v,"SID",c.K),Be(v,"RID",p),Be(v,"AID",c.T),Pi(c,v),c.m&&c.o&&Rl(v,c.m,c.o),p=new gr(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),u&&(c.i=u.D.concat(c.i)),u=Ef(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sl(c.h,p),Il(p,v,u)}function Pi(c,u){c.H&&G(c.H,function(p,v){Be(u,v,p)}),c.l&&af({},function(p,v){Be(u,v,p)})}function Ef(c,u,p){p=Math.min(c.i.length,p);var v=c.l?g(c.l.Na,c.l,c):null;e:{var R=c.i;let M=-1;for(;;){const J=["count="+p];M==-1?0<p?(M=R[0].g,J.push("ofs="+M)):M=0:J.push("ofs="+M);let Le=!0;for(let yt=0;yt<p;yt++){let De=R[yt].g;const At=R[yt].map;if(De-=M,0>De)M=Math.max(0,R[yt].g-100),Le=!1;else try{Cb(At,J,"req"+De+"_")}catch{v&&v(At)}}if(Le){v=J.join("&");break e}}}return c=c.i.splice(0,p),u.D=c,v}function Af(c){if(!c.g&&!c.u){c.Y=1;var u=c.Fa;me||mn(),Ee||(me(),Ee=!0),zt.add(u,c),c.v=0}}function xl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_i(g(c.Fa,c),kf(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,If(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_i(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Xa(this),If(this))};function Nl(c){c.A!=null&&(o.clearTimeout(c.A),c.A=null)}function If(c){c.g=new gr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var u=$n(c.qa);Be(u,"RID","rpc"),Be(u,"SID",c.K),Be(u,"AID",c.T),Be(u,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(u,"TO",c.ja),Be(u,"TYPE","xmlhttp"),Pi(c,u),c.m&&c.o&&Rl(u,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=Qa($n(u)),p.m=null,p.P=!0,Yh(p,c)}t.Za=function(){this.C!=null&&(this.C=null,Xa(this),xl(this),Mt(19))};function to(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Cf(c,u){var p=null;if(c.g==u){to(c),Nl(c),c.g=null;var v=2}else if(Pl(c.h,u))p=u.D,rf(c.h,u),v=1;else return;if(c.G!=0){if(u.o)if(v==1){p=u.m?u.m.length:0,u=Date.now()-u.F;var R=c.B;v=Ha(),be(v,new Gh(v,p)),eo(c)}else Af(c);else if(R=u.s,R==3||R==0&&0<u.X||!(v==1&&Rb(c,u)||v==2&&xl(c)))switch(p&&0<p.length&&(u=c.h,u.i=u.i.concat(p)),R){case 1:ts(c,5);break;case 4:ts(c,10);break;case 3:ts(c,6);break;default:ts(c,2)}}}function kf(c,u){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*u}function ts(c,u){if(c.j.info("Error code "+u),u==2){var p=g(c.fb,c),v=c.Xa;const R=!v;v=new es(v||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ga(v,"https"),Qa(v),R?Eb(v.toString(),p):Ab(v.toString(),p)}else Mt(2);c.G=0,c.l&&c.l.sa(u),Pf(c),wf(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Pf(c){if(c.G=0,c.ka=[],c.l){const u=sf(c.h);(u.length!=0||c.i.length!=0)&&(N(c.ka,u),N(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function Sf(c,u,p){var v=p instanceof es?$n(p):new es(p);if(v.g!="")u&&(v.g=u+"."+v.g),Ka(v,v.s);else{var R=o.location;v=R.protocol,u=u?u+"."+R.hostname:R.hostname,R=+R.port;var M=new es(null);v&&Ga(M,v),u&&(M.g=u),R&&Ka(M,R),p&&(M.l=p),v=M}return p=c.D,u=c.ya,p&&u&&Be(v,p,u),Be(v,"VER",c.la),Pi(c,v),v}function Rf(c,u,p){if(u&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=c.Ca&&!c.pa?new Ze(new Za({eb:p})):new Ze(c.pa),u.Ha(c.J),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Df(){}t=Df.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function no(){}no.prototype.g=function(c,u){return new Gt(c,u)};function Gt(c,u){he.call(this),this.g=new bf(u),this.l=c,this.h=u&&u.messageUrlParams||null,c=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(c?c["X-WebChannel-Content-Type"]=u.messageContentType:c={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(c?c["X-WebChannel-Client-Profile"]=u.va:c={"X-WebChannel-Client-Profile":u.va}),this.g.S=c,(c=u&&u.Sb)&&!L(c)&&(this.g.m=c),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!L(u)&&(this.g.D=u,c=this.h,c!==null&&u in c&&(c=this.h,u in c&&delete c[u])),this.j=new Rs(this)}P(Gt,he),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Dl(this.g)},Gt.prototype.o=function(c){var u=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=vt(c),c=p);u.i.push(new fb(u.Ya++,c)),u.G==3&&eo(u)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,Gt.aa.N.call(this)};function xf(c){wl.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var u=c.__sm__;if(u){e:{for(const p in u){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,u=u!==null&&c in u?u[c]:void 0),this.data=u}else this.data=c}P(xf,wl);function Nf(){Tl.call(this),this.status=1}P(Nf,Tl);function Rs(c){this.g=c}P(Rs,Df),Rs.prototype.ua=function(){be(this.g,"a")},Rs.prototype.ta=function(c){be(this.g,new xf(c))},Rs.prototype.sa=function(c){be(this.g,new Nf)},Rs.prototype.ra=function(){be(this.g,"b")},no.prototype.createWebChannel=no.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,tv=function(){return new no},ev=function(){return Ha()},Xg=Jr,wd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,_o=ja,Kh.COMPLETE="complete",Jg=Kh,Hh.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",he.prototype.listen=he.prototype.K,Mi=Hh,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Yg=Ze}).apply(typeof ao<"u"?ao:typeof self<"u"?self:typeof window<"u"?window:{});const Jf="@firebase/firestore",Xf="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let li="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new fc("@firebase/firestore");function Ms(){return ys.logLevel}function se(t,...e){if(ys.logLevel<=Ae.DEBUG){const n=e.map(fu);ys.debug(`Firestore (${li}): ${t}`,...n)}}function or(t,...e){if(ys.logLevel<=Ae.ERROR){const n=e.map(fu);ys.error(`Firestore (${li}): ${t}`,...n)}}function Zs(t,...e){if(ys.logLevel<=Ae.WARN){const n=e.map(fu);ys.warn(`Firestore (${li}): ${t}`,...n)}}function fu(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nv(t,r,n)}function nv(t,e,n){let r=`FIRESTORE (${li}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw or(r),new Error(r)}function Ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||nv(e,s,r)}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class n0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r0{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new rv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class s0{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i0{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new s0(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ep{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a0{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ep(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ep(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=o0(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Td(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Bl(s)===Bl(i)?Ie(s,i):Bl(s)?1:-1}return Ie(t.length,e.length)}const c0=55296,l0=57343;function Bl(t){const e=t.charCodeAt(0);return e>=c0&&e<=l0}function Ys(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="__name__";class Sn{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Sn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=Sn.isNumericId(e),s=Sn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Sn.extractNumericId(e).compare(Sn.extractNumericId(n)):Td(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class qe extends Sn{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const d0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends Sn{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return d0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tp}static keyField(){return new wt([tp])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new te(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new te(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(qe.fromString(e))}static fromName(e){return new le(qe.fromString(e).popFirst(5))}static empty(){return new le(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e,n){if(!n)throw new te(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u0(t,e,n,r){if(e===!0&&r===!0)throw new te(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function np(t){if(!le.isDocumentKey(t))throw new te(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rp(t){if(le.isDocumentKey(t))throw new te(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iv(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function en(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gc(t);throw new te(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function h0(t,e){if(e<=0)throw new te(O.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function ka(t,e){if(!iv(t))throw new te(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new te(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=-62135596800,ip=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ip);return new He(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sp)throw new te(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ip}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ka(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:ct("string",He._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new He(0,0))}static max(){return new ve(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=-1;function f0(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ve.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new Wr(s,le.empty(),e)}function p0(t){return new Wr(t.readTime,t.key,oa)}class Wr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wr(ve.min(),le.empty(),oa)}static max(){return new Wr(ve.max(),le.empty(),oa)}}function m0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function di(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==g0)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&n()},l=>r(l))}),a=!0,i===s&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(s=>s?j.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new j((r,s)=>{const i=e.length,a=new Array(i);let o=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{a[d]=h,++o,o===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new j((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function y0(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ui(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function yc(t){return t==null}function Vo(t){return t===0&&1/t==-1/0}function _0(t){return typeof t=="number"&&Number.isInteger(t)&&!Vo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="";function b0(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ap(e)),e=w0(t.get(n),e);return ap(e)}function w0(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case av:n+="";break;default:n+=i}}return n}function ap(t){return t+av+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ov(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oo(this.root,e,this.comparator,!1)}getReverseIterator(){return new oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oo(this.root,e,this.comparator,!0)}}class oo{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_t.RED,this.left=s??_t.EMPTY,this.right=i??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cp(this.data.getIterator())}getIteratorFrom(e){return new cp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class cp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new ut(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cv("Invalid base64 string: "+i):i}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const T0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=T0.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="server_timestamp",dv="__type__",uv="__previous_value__",hv="__local_write_time__";function gu(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dv])==null?void 0:r.stringValue)===lv}function _c(t){const e=t.mapValue.fields[uv];return gu(e)?_c(e):e}function ca(t){const e=qr(t.mapValue.fields[hv].timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r,s,i,a,o,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const Oo="(default)";class la{constructor(e,n){this.projectId=e,this.database=n||Oo}static empty(){return new la("","")}get isDefaultDatabase(){return this.database===Oo}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__type__",A0="__max__",co={mapValue:{}},pv="__vector__",Lo="value";function Hr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gu(t)?4:C0(t)?9007199254740991:I0(t)?10:11:fe(28295,{value:t})}function Wn(t,e){if(t===e)return!0;const n=Hr(t);if(n!==Hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ca(t).isEqual(ca(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=qr(s.timestampValue),o=qr(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Br(s.bytesValue).isEqual(Br(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rt(s.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rt(s.integerValue)===rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=rt(s.doubleValue),o=rt(i.doubleValue);return a===o?Vo(a)===Vo(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Ys(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(op(a)!==op(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Wn(a[l],o[l])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function da(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function Js(t,e){if(t===e)return 0;const n=Hr(t),r=Hr(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,a){const o=rt(i.integerValue||i.doubleValue),l=rt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return lp(t.timestampValue,e.timestampValue);case 4:return lp(ca(t),ca(e));case 5:return Td(t.stringValue,e.stringValue);case 6:return function(i,a){const o=Br(i),l=Br(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const o=i.split("/"),l=a.split("/");for(let d=0;d<o.length&&d<l.length;d++){const h=Ie(o[d],l[d]);if(h!==0)return h}return Ie(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const o=Ie(rt(i.latitude),rt(a.latitude));return o!==0?o:Ie(rt(i.longitude),rt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dp(t.arrayValue,e.arrayValue);case 10:return function(i,a){var g,_,P,x;const o=i.fields||{},l=a.fields||{},d=(g=o[Lo])==null?void 0:g.arrayValue,h=(_=l[Lo])==null?void 0:_.arrayValue,f=Ie(((P=d==null?void 0:d.values)==null?void 0:P.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return f!==0?f:dp(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===co.mapValue&&a===co.mapValue)return 0;if(i===co.mapValue)return 1;if(a===co.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),d=a.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const g=Td(l[f],h[f]);if(g!==0)return g;const _=Js(o[l[f]],d[h[f]]);if(_!==0)return _}return Ie(l.length,h.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{he:n})}}function lp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=qr(t),r=qr(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function dp(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Js(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function Xs(t){return Ed(t)}function Ed(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Br(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ed(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Ed(n.fields[a])}`;return s+"}"}(t.mapValue):fe(61005,{value:t})}function bo(t){switch(Hr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_c(t);return e?16+bo(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+bo(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Zr(r.fields,(i,a)=>{s+=i.length+bo(a)}),s}(t.mapValue);default:throw fe(13486,{value:t})}}function up(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ad(t){return!!t&&"integerValue"in t}function vu(t){return!!t&&"arrayValue"in t}function hp(t){return!!t&&"nullValue"in t}function fp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wo(t){return!!t&&"mapValue"in t}function I0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fv])==null?void 0:r.stringValue)===pv}function Wi(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wi(t.arrayValue.values[n]);return e}return{...t}}function C0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===A0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wi(n)}setAll(e){let n=wt.emptyPath(),r={},s=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=o.popLast()}a?r[o.lastSegment()]=Wi(a):s.push(o.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());wo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Zr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ht(Wi(this.value))}}function mv(t){const e=[];return Zr(t.fields,(n,r)=>{const s=new wt([n]);if(wo(r)){const i=mv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new St(e,0,ve.min(),ve.min(),ve.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,ve.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,ve.min(),ve.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,ve.min(),ve.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.position=e,this.inclusive=n}}function pp(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=le.comparator(le.fromName(a.referenceValue),n.key):r=Js(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function mp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n="asc"){this.field=e,this.dir=n}}function k0(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{}class ot extends gv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S0(e,n,r):n==="array-contains"?new x0(e,r):n==="in"?new N0(e,r):n==="not-in"?new M0(e,r):n==="array-contains-any"?new V0(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new R0(e,r):new D0(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Js(n,this.value)):n!==null&&Hr(this.value)===Hr(n)&&this.matchesComparison(Js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tn extends gv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Tn(e,n)}matches(e){return vv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vv(t){return t.op==="and"}function yv(t){return P0(t)&&vv(t)}function P0(t){for(const e of t.filters)if(e instanceof Tn)return!1;return!0}function Id(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Xs(t.value);if(yv(t))return t.filters.map(e=>Id(e)).join(",");{const e=t.filters.map(n=>Id(n)).join(",");return`${t.op}(${e})`}}function _v(t,e){return t instanceof ot?function(r,s){return s instanceof ot&&r.op===s.op&&r.field.isEqual(s.field)&&Wn(r.value,s.value)}(t,e):t instanceof Tn?function(r,s){return s instanceof Tn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,o)=>i&&_v(a,s.filters[o]),!0):!1}(t,e):void fe(19439)}function bv(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(t):t instanceof Tn?function(n){return n.op.toString()+" {"+n.getFilters().map(bv).join(" ,")+"}"}(t):"Filter"}class S0 extends ot{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class R0 extends ot{constructor(e,n){super(e,"in",n),this.keys=wv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class D0 extends ot{constructor(e,n){super(e,"not-in",n),this.keys=wv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wv(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class x0 extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vu(n)&&da(n.arrayValue,this.value)}}class N0 extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&da(this.value.arrayValue,n)}}class M0 extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!da(this.value.arrayValue,n)}}class V0 extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>da(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n=null,r=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function gp(t,e=null,n=[],r=[],s=null,i=null,a=null){return new O0(t,e,n,r,s,i,a)}function yu(t){const e=_e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Id(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),yc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xs(r)).join(",")),e.Te=n}return e.Te}function _u(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k0(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_v(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mp(t.startAt,e.startAt)&&mp(t.endAt,e.endAt)}function Cd(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n=null,r=[],s=[],i=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function L0(t,e,n,r,s,i,a,o){return new hi(t,e,n,r,s,i,a,o)}function bc(t){return new hi(t)}function vp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Tv(t){return t.collectionGroup!==null}function qi(t){const e=_e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new ut(wt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(o=o.add(d.field))})}),o})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ua(i,r))}),n.has(wt.keyField().canonicalString())||e.Ie.push(new ua(wt.keyField(),r))}return e.Ie}function xn(t){const e=_e(t);return e.Ee||(e.Ee=F0(e,qi(t))),e.Ee}function F0(t,e){if(t.limitType==="F")return gp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ua(s.field,i)});const n=t.endAt?new Fo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fo(t.startAt.position,t.startAt.inclusive):null;return gp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kd(t,e){const n=t.filters.concat([e]);return new hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Uo(t,e,n){return new hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wc(t,e){return _u(xn(t),xn(e))&&t.limitType===e.limitType}function Ev(t){return`${yu(xn(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>bv(s)).join(", ")}]`),yc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xs(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xs(s)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function Tc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of qi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,o,l){const d=pp(a,o,l);return a.inclusive?d<=0:d<0}(r.startAt,qi(r),s)||r.endAt&&!function(a,o,l){const d=pp(a,o,l);return a.inclusive?d>=0:d>0}(r.endAt,qi(r),s))}(t,e)}function U0(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Av(t){return(e,n)=>{let r=!1;for(const s of qi(t)){const i=W0(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function W0(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,a,o){const l=a.data.field(i),d=o.data.field(i);return l!==null&&d!==null?Js(l,d):fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ov(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Qe(le.comparator);function cr(){return q0}const Iv=new Qe(le.comparator);function Vi(...t){let e=Iv;for(const n of t)e=e.insert(n.key,n);return e}function Cv(t){let e=Iv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ls(){return Bi()}function kv(){return Bi()}function Bi(){return new Es(t=>t.toString(),(t,e)=>t.isEqual(e))}const B0=new Qe(le.comparator),H0=new ut(le.comparator);function Ce(...t){let e=H0;for(const n of t)e=e.add(n);return e}const j0=new ut(Ie);function $0(){return j0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vo(e)?"-0":e}}function Pv(t){return{integerValue:""+t}}function z0(t,e){return _0(e)?Pv(e):bu(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function G0(t,e,n){return t instanceof ha?function(s,i){const a={fields:{[dv]:{stringValue:lv},[hv]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&gu(i)&&(i=_c(i)),i&&(a.fields[uv]=i),{mapValue:a}}(n,e):t instanceof fa?Rv(t,e):t instanceof pa?Dv(t,e):function(s,i){const a=Sv(s,i),o=yp(a)+yp(s.Ae);return Ad(a)&&Ad(s.Ae)?Pv(o):bu(s.serializer,o)}(t,e)}function K0(t,e,n){return t instanceof fa?Rv(t,e):t instanceof pa?Dv(t,e):n}function Sv(t,e){return t instanceof Wo?function(r){return Ad(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ha extends Ec{}class fa extends Ec{constructor(e){super(),this.elements=e}}function Rv(t,e){const n=xv(e);for(const r of t.elements)n.some(s=>Wn(s,r))||n.push(r);return{arrayValue:{values:n}}}class pa extends Ec{constructor(e){super(),this.elements=e}}function Dv(t,e){let n=xv(e);for(const r of t.elements)n=n.filter(s=>!Wn(s,r));return{arrayValue:{values:n}}}class Wo extends Ec{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yp(t){return rt(t.integerValue||t.doubleValue)}function xv(t){return vu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.field=e,this.transform=n}}function Z0(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof fa&&s instanceof fa||r instanceof pa&&s instanceof pa?Ys(r.elements,s.elements,Wn):r instanceof Wo&&s instanceof Wo?Wn(r.Ae,s.Ae):r instanceof ha&&s instanceof ha}(t.transform,e.transform)}class Y0{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function To(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ac{}function Nv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vv(t.key,_n.none()):new Pa(t.key,t.data,_n.none());{const n=t.data,r=Ht.empty();let s=new ut(wt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Yr(t.key,r,new Zt(s.toArray()),_n.none())}}function J0(t,e,n){t instanceof Pa?function(s,i,a){const o=s.value.clone(),l=bp(s.fieldTransforms,i,a.transformResults);o.setAll(l),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Yr?function(s,i,a){if(!To(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=bp(s.fieldTransforms,i,a.transformResults),l=i.data;l.setAll(Mv(s)),l.setAll(o),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Hi(t,e,n,r){return t instanceof Pa?function(i,a,o,l){if(!To(i.precondition,a))return o;const d=i.value.clone(),h=wp(i.fieldTransforms,l,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yr?function(i,a,o,l){if(!To(i.precondition,a))return o;const d=wp(i.fieldTransforms,l,a),h=a.data;return h.setAll(Mv(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,o){return To(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function X0(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Sv(r.transform,s||null);i!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,i))}return n||null}function _p(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ys(r,s,(i,a)=>Z0(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pa extends Ac{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yr extends Ac{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Mv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bp(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,K0(a,o,n[s]))}return r}function wp(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,G0(i,a,e))}return r}class Vv extends Ac{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eE extends Ac{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&J0(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kv();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=n.has(s.key)?null:o;const l=Nv(a,o);l!==null&&r.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(n,r)=>_p(n,r))&&Ys(this.baseMutations,e.baseMutations,(n,r)=>_p(n,r))}}class wu{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return B0}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new wu(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Pe;function sE(t){switch(t){case O.OK:return fe(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function Ov(t){if(t===void 0)return or("GRPC error has no .code"),O.UNKNOWN;switch(t){case at.OK:return O.OK;case at.CANCELLED:return O.CANCELLED;case at.UNKNOWN:return O.UNKNOWN;case at.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case at.INTERNAL:return O.INTERNAL;case at.UNAVAILABLE:return O.UNAVAILABLE;case at.UNAUTHENTICATED:return O.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case at.NOT_FOUND:return O.NOT_FOUND;case at.ALREADY_EXISTS:return O.ALREADY_EXISTS;case at.PERMISSION_DENIED:return O.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case at.ABORTED:return O.ABORTED;case at.OUT_OF_RANGE:return O.OUT_OF_RANGE;case at.UNIMPLEMENTED:return O.UNIMPLEMENTED;case at.DATA_LOSS:return O.DATA_LOSS;default:return fe(39323,{code:t})}}(Pe=at||(at={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Vr([4294967295,4294967295],0);function Tp(t){const e=iE().encode(t),n=new Zg;return n.update(e),new Uint8Array(n.digest())}function Ep(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vr([n,r],0),new Vr([s,i],0)]}class Tu{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oi(`Invalid padding: ${n}`);if(r<0)throw new Oi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oi(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Vr.fromNumber(r)));return s.compare(aE)===1&&(s=new Vr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Tp(e),[r,s]=Ep(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Tu(i,s,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=Tp(e),[r,s]=Ep(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Sa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ic(ve.min(),s,new Qe(Ie),cr(),Ce())}}class Sa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sa(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Lv{constructor(e,n){this.targetId=e,this.Ce=n}}class Fv{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ap{constructor(){this.ve=0,this.Fe=Ip(),this.Me=Tt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),n=Ce(),r=Ce();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe(38017,{changeType:i})}}),new Sa(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ip()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oE{constructor(e){this.Ge=e,this.ze=new Map,this.je=cr(),this.Je=lo(),this.He=lo(),this.Ye=new Qe(Ie)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Cd(i))if(r===0){const a=new le(i.path);this.et(n,a,St.newNoDocument(a,ve.min()))}else Ve(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,o;try{a=Br(r).toUint8Array()}catch(l){if(l instanceof cv)return Zs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Tu(a,s,i)}catch(l){return Zs(l instanceof Oi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const o=this.ot(a);if(o){if(i.current&&Cd(o.target)){const l=new le(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,St.newNoDocument(l,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let r=Ce();this.He.forEach((i,a)=>{let o=!0;a.forEachWhile(l=>{const d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new Ic(e,n,this.Ye,this.je,r);return this.je=cr(),this.Je=lo(),this.He=lo(),this.Ye=new Qe(Ie),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ap,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(Ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(Ie),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ap),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lo(){return new Qe(le.comparator)}function Ip(){return new Qe(le.comparator)}const cE={asc:"ASCENDING",desc:"DESCENDING"},lE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dE={and:"AND",or:"OR"};class uE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pd(t,e){return t.useProto3Json||yc(e)?e:{value:e}}function qo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hE(t,e){return qo(t,e.toTimestamp())}function Nn(t){return Ve(!!t,49232),ve.fromTimestamp(function(n){const r=qr(n);return new He(r.seconds,r.nanos)}(t))}function Eu(t,e){return Sd(t,e).canonicalString()}function Sd(t,e){const n=function(s){return new qe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Wv(t){const e=qe.fromString(t);return Ve($v(e),10190,{key:e.toString()}),e}function Rd(t,e){return Eu(t.databaseId,e.path)}function Hl(t,e){const n=Wv(e);if(n.get(1)!==t.databaseId.projectId)throw new te(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(Bv(n))}function qv(t,e){return Eu(t.databaseId,e)}function fE(t){const e=Wv(t);return e.length===4?qe.emptyPath():Bv(e)}function Dd(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bv(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Cp(t,e,n){return{name:Rd(t,e),fields:n.value.mapValue.fields}}function pE(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:fe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),Tt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(d){const h=d.code===void 0?O.UNKNOWN:Ov(d.code);return new te(h,d.message||"")}(a);n=new Fv(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Hl(t,r.document.name),i=Nn(r.document.updateTime),a=r.document.createTime?Nn(r.document.createTime):ve.min(),o=new Ht({mapValue:{fields:r.document.fields}}),l=St.newFoundDocument(s,i,a,o),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Eo(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Hl(t,r.document),i=r.readTime?Nn(r.readTime):ve.min(),a=St.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Eo([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Hl(t,r.document),i=r.removedTargetIds||[];n=new Eo([],i,s,null)}else{if(!("filter"in e))return fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new rE(s,i),o=r.targetId;n=new Lv(o,a)}}return n}function mE(t,e){let n;if(e instanceof Pa)n={update:Cp(t,e.key,e.value)};else if(e instanceof Vv)n={delete:Rd(t,e.key)};else if(e instanceof Yr)n={update:Cp(t,e.key,e.data),updateMask:AE(e.fieldMask)};else{if(!(e instanceof eE))return fe(16599,{Vt:e.type});n={verify:Rd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const o=a.transform;if(o instanceof ha)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof fa)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof pa)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wo)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw fe(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:hE(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe(27497)}(t,e.precondition)),n}function gE(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?Nn(s.updateTime):Nn(i);return a.isEqual(ve.min())&&(a=Nn(i)),new Y0(a,s.transformResults||[])}(n,e))):[]}function vE(t,e){return{documents:[qv(t,e.path)]}}function yE(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qv(t,s);const i=function(d){if(d.length!==0)return jv(Tn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(g){return{field:Os(g.field),direction:wE(g.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Pd(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function _E(t){let e=fE(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const g=Hv(f);return g instanceof Tn&&yv(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(g=>function(P){return new ua(Ls(P.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(f){let g;return g=typeof f=="object"?f.value:f,yc(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(f){const g=!!f.before,_=f.values||[];return new Fo(_,g)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const g=!f.before,_=f.values||[];return new Fo(_,g)}(n.endAt)),L0(e,s,a,i,o,"F",l,d)}function bE(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ls(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ls(n.unaryFilter.field);return ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ls(n.unaryFilter.field);return ot.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ls(n.unaryFilter.field);return ot.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Ls(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tn.create(n.compositeFilter.filters.map(r=>Hv(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(n.compositeFilter.op))}(t):fe(30097,{filter:t})}function wE(t){return cE[t]}function TE(t){return lE[t]}function EE(t){return dE[t]}function Os(t){return{fieldPath:t.canonicalString()}}function Ls(t){return wt.fromServerFormat(t.fieldPath)}function jv(t){return t instanceof ot?function(n){if(n.op==="=="){if(fp(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(hp(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fp(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(hp(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:TE(n.op),value:n.value}}}(t):t instanceof Tn?function(n){const r=n.getFilters().map(s=>jv(s));return r.length===1?r[0]:{compositeFilter:{op:EE(n.op),filters:r}}}(t):fe(54877,{filter:t})}function AE(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $v(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,s,i=ve.min(),a=ve.min(),o=Tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.yt=e}}function CE(t){const e=_E({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uo(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.Cn=new PE}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Wr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class PE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(qe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zv=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(zv,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ei(0)}static cr(){return new ei(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="LruGarbageCollector",SE=1048576;function Sp([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class RE{constructor(e){this.Ir=e,this.buffer=new ut(Sp),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Sp(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DE{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(Pp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ui(n)?se(Pp,"Ignoring IndexedDB error during garbage collection: ",n):await di(n)}await this.Vr(3e5)})}}class xE{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(vc.ce);const r=new RE(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(kp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kp):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,o,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,o=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Ms()<=Ae.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function NE(t,e){return new xE(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.changes=new Es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Hi(r.mutation,s,Zt.empty(),He.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const s=ls();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Vi();return i.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,s){let i=cr();const a=Bi(),o=function(){return Bi()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Yr)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),Hi(h.mutation,d,h.mutation.getFieldMask(),He.now())):a.set(d.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>o.set(d,new VE(h,a.get(d)??null))),o))}recalculateAndSaveOverlays(e,n){const r=Bi();let s=new Qe((a,o)=>a-o),i=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||Zt.empty();h=o.applyToLocalView(d,h),r.set(l,h);const f=(s.get(o.batchId)||Ce()).add(l);s=s.insert(o.batchId,f)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),d=l.key,h=l.value,f=kv();h.forEach(g=>{if(!i.has(g)){const _=Nv(n.get(g),r.get(g));_!==null&&f.set(g,_),i=i.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,f))}return j.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return le.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Tv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve(ls());let o=oa,l=i;return a.next(d=>j.forEach(d,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,Ce())).next(h=>({batchId:o,changes:Cv(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let s=Vi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Vi();return this.indexManager.getCollectionParents(e,i).next(o=>j.forEach(o,l=>{const d=function(f,g){return new hi(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,g)=>{a=a.insert(f,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((l,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,St.newInvalidDocument(h)))});let o=Vi();return a.forEach((l,d)=>{const h=i.get(l);h!==void 0&&Hi(h.mutation,d,Zt.empty(),He.now()),Tc(n,d)&&(o=o.insert(l,d))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Nn(s.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:CE(s.bundledQuery),readTime:Nn(s.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.overlays=new Qe(le.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ls();return j.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=ls(),i=n.length+1,a=new le(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=ls(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const o=ls(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>o.set(d,h)),!(o.size()>=s)););return j.resolve(o)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new nE(n,r));let i=this.qr.get(n);i===void 0&&(i=Ce(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this.Qr=new ut(ht.$r),this.Ur=new ut(ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ht(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ht(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new le(new qe([])),r=new ht(n,e),s=new ht(n,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new le(new qe([])),r=new ht(n,e),s=new ht(n,e+1);let i=Ce();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new ht(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return le.comparator(e.key,n.key)||Ie(e.Yr,n.Yr)}static Kr(e,n){return Ie(e.Yr,n.Yr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(ht.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new tE(i,n,r,s);this.mutationQueue.push(a);for(const o of s)this.Zr=this.Zr.add(new ht(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return j.resolve(a)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?mu:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ht(n,0),s=new ht(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const o=this.Xr(a.Yr);i.push(o)}),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Ie);return n.forEach(s=>{const i=new ht(s,0),a=new ht(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],o=>{r=r.add(o.Yr)})}),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;le.isDocumentKey(i)||(i=i.child(""));const a=new ht(new le(i),0);let o=new ut(Ie);return this.Zr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(o=o.add(l.Yr)),!0)},a),j.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,s=>{const i=new ht(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ht(n,0),s=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.ri=e,this.docs=function(){return new Qe(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=cr();const a=n.path,o=new le(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||m0(p0(h),r)<=0||(s.has(h.key)||Tc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe(9500)}ii(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BE(this)}getSize(e){return j.resolve(this.size)}}class BE extends ME{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.persistence=e,this.si=new Es(n=>yu(n),_u),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Au,this.targetCount=0,this.ai=ei.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ei(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),j.waitFor(i).next(()=>s)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.ui={},this.overlays={},this.ci=new vc(0),this.li=!1,this.li=!0,this.hi=new UE,this.referenceDelegate=e(this),this.Pi=new HE(this),this.indexManager=new kE,this.remoteDocumentCache=function(s){return new qE(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new IE(n),this.Ii=new LE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new WE(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const s=new jE(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return j.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class jE extends v0{constructor(e){super(),this.currentSequenceNumber=e}}class Iu{constructor(e){this.persistence=e,this.Ri=new Au,this.Vi=null}static mi(e){return new Iu(e)}get fi(){if(this.Vi)return this.Vi;throw fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,r=>{const s=le.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ve.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bo{constructor(e,n){this.persistence=e,this.pi=new Es(r=>b0(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=NE(this,n)}static mi(e,n){return new Bo(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return j.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?j.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(o=>{o||(r++,i.removeEntry(a,ve.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bo(e.data.value)),n}br(e,n,r){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ce(),s=Ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Cu(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return zb()?8:y0(xt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new $E;return this.Ss(e,n,a).next(o=>{if(i.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ms()<=Ae.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(Ms()<=Ae.DEBUG&&se("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ms()<=Ae.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):j.resolve())}ys(e,n){if(vp(n))return j.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Uo(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Ce(...i);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Ds(n,o);return this.Cs(n,d,a,l.readTime)?this.ys(e,Uo(n,null,"F")):this.vs(e,d,n,l)}))})))}ws(e,n,r,s){return vp(n)||s.isEqual(ve.min())?j.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?j.resolve(null):(Ms()<=Ae.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vs(n)),this.vs(e,a,n,f0(s,oa)).next(o=>o))})}Ds(e,n){let r=new ut(Av(e));return n.forEach((s,i)=>{Tc(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ms()<=Ae.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.ps.getDocumentsMatchingQuery(e,n,Wr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="LocalStore",GE=3e8;class KE{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Qe(Ie),this.xs=new Es(i=>yu(i),_u),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function QE(t,e,n,r){return new KE(t,e,n,r)}async function Kv(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],o=[];let l=Ce();for(const d of s){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Ls:d,removedBatchIds:a,addedBatchIds:o}))})})}function ZE(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,d,h){const f=d.batch,g=f.keys();let _=j.resolve();return g.forEach(P=>{_=_.next(()=>h.getEntry(l,P)).next(x=>{const N=d.docVersions.get(P);Ve(N!==null,48541),x.version.compareTo(N)<0&&(f.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))})}),_.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ce();for(let d=0;d<o.mutationResults.length;++d)o.mutationResults[d].transformResults.length>0&&(l=l.add(o.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Qv(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function YE(t,e){const n=_e(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const o=[];e.targetChanges.forEach((h,f)=>{const g=s.get(f);if(!g)return;o.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let _=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(Tt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),s=s.insert(f,_),function(x,N,H){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=GE?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(g,_,h)&&o.push(n.Pi.updateTargetData(i,_))});let l=cr(),d=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),o.push(JE(i,a,e.documentUpdates).next(h=>{l=h.ks,d=h.qs})),!r.isEqual(ve.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(h)}return j.waitFor(o).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.Ms=s,i))}function JE(t,e,n){let r=Ce(),s=Ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=cr();return n.forEach((o,l)=>{const d=i.get(o);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):se(ku,"Ignoring outdated watch update for ",o,". Current version:",d.version," Watch version:",l.version)}),{ks:a,qs:s}})}function XE(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=mu),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eA(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,j.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new xr(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function xd(t,e,n){const r=_e(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ui(a))throw a;se(ku,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Rp(t,e,n){const r=_e(t);let s=ve.min(),i=Ce();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,d,h){const f=_e(l),g=f.xs.get(h);return g!==void 0?j.resolve(f.Ms.get(g)):f.Pi.getTargetData(d,h)}(r,a,xn(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:ve.min(),n?i:Ce())).next(o=>(tA(r,U0(e),o),{documents:o,Qs:i})))}function tA(t,e,n){let r=t.Os.get(e)||ve.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Dp{constructor(){this.activeTargetIds=$0()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nA{constructor(){this.Mo=new Dp,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Dp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="ConnectivityMonitor";class Np{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(xp,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(xp,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo=null;function Nd(){return uo===null?uo=function(){return 268435456+Math.round(2147483648*Math.random())}():uo++,"0x"+uo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="RestConnection",sA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Oo?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=Nd(),o=this.zo(e,n.toUriEncodedString());se(jl,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:d}=new URL(o),h=Qr(d);return this.Jo(e,o,l,r,h).then(f=>(se(jl,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Zs(jl,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f})}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+li}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=sA[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class oA extends iA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=Nd();return new Promise((o,l)=>{const d=new Yg;d.setWithCredentials(!0),d.listenOnce(Jg.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case _o.NO_ERROR:const f=d.getResponseJson();se(Ct,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case _o.TIMEOUT:se(Ct,`RPC '${e}' ${a} timed out`),l(new te(O.DEADLINE_EXCEEDED,"Request time out"));break;case _o.HTTP_ERROR:const g=d.getStatus();if(se(Ct,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const P=_==null?void 0:_.error;if(P&&P.status&&P.message){const x=function(H){const L=H.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(L)>=0?L:O.UNKNOWN}(P.status);l(new te(x,P.message))}else l(new te(O.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new te(O.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{se(Ct,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);se(Ct,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Nd(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tv(),o=ev(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");se(Ct,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=a.createWebChannel(h,l);this.I_(f);let g=!1,_=!1;const P=new aA({Yo:N=>{_?se(Ct,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(g||(se(Ct,`Opening RPC '${e}' stream ${s} transport.`),f.open(),g=!0),se(Ct,`RPC '${e}' stream ${s} sending:`,N),f.send(N))},Zo:()=>f.close()}),x=(N,H,L)=>{N.listen(H,$=>{try{L($)}catch(D){setTimeout(()=>{throw D},0)}})};return x(f,Mi.EventType.OPEN,()=>{_||(se(Ct,`RPC '${e}' stream ${s} transport opened.`),P.o_())}),x(f,Mi.EventType.CLOSE,()=>{_||(_=!0,se(Ct,`RPC '${e}' stream ${s} transport closed`),P.a_(),this.E_(f))}),x(f,Mi.EventType.ERROR,N=>{_||(_=!0,Zs(Ct,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),P.a_(new te(O.UNAVAILABLE,"The operation could not be completed")))}),x(f,Mi.EventType.MESSAGE,N=>{var H;if(!_){const L=N.data[0];Ve(!!L,16349);const $=L,D=($==null?void 0:$.error)||((H=$[0])==null?void 0:H.error);if(D){se(Ct,`RPC '${e}' stream ${s} received error:`,D);const K=D.status;let G=function(b){const A=at[b];if(A!==void 0)return Ov(A)}(K),E=D.message;G===void 0&&(G=O.INTERNAL,E="Unknown error status: "+K+" with message "+D.message),_=!0,P.a_(new te(G,E)),f.close()}else se(Ct,`RPC '${e}' stream ${s} received:`,L),P.u_(L)}}),x(o,Xg.STAT_EVENT,N=>{N.stat===wd.PROXY?se(Ct,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===wd.NOPROXY&&se(Ct,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function $l(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){return new uE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="PersistentStream";class Yv{constructor(e,n,r,s,i,a,o,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Zv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new te(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return se(Mp,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(se(Mp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cA extends Yv{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pE(this.serializer,e),r=function(i){if(!("targetChange"in i))return ve.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ve.min():a.readTime?Nn(a.readTime):ve.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Dd(this.serializer),n.addTarget=function(i,a){let o;const l=a.target;if(o=Cd(l)?{documents:vE(i,l)}:{query:yE(i,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Uv(i,a.resumeToken);const d=Pd(i,a.expectedCount);d!==null&&(o.expectedCount=d)}else if(a.snapshotVersion.compareTo(ve.min())>0){o.readTime=qo(i,a.snapshotVersion.toTimestamp());const d=Pd(i,a.expectedCount);d!==null&&(o.expectedCount=d)}return o}(this.serializer,e);const r=bE(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Dd(this.serializer),n.removeTarget=e,this.q_(n)}}class lA extends Yv{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gE(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Dd(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mE(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{}class uA extends dA{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new te(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,Sd(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(O.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,Sd(n,r),s,a,o,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(O.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class hA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(n),this.aa=!1):se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class fA{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{As(this)&&(se(_s,"Restarting streams for network reachability change."),await async function(l){const d=_e(l);d.Ea.add(4),await Ra(d),d.Ra.set("Unknown"),d.Ea.delete(4),await kc(d)}(this))})}),this.Ra=new hA(r,s)}}async function kc(t){if(As(t))for(const e of t.da)await e(!0)}async function Ra(t){for(const e of t.da)await e(!1)}function Jv(t,e){const n=_e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Du(n)?Ru(n):fi(n).O_()&&Su(n,e))}function Pu(t,e){const n=_e(t),r=fi(n);n.Ia.delete(e),r.O_()&&Xv(n,e),n.Ia.size===0&&(r.O_()?r.L_():As(n)&&n.Ra.set("Unknown"))}function Su(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fi(t).Y_(e)}function Xv(t,e){t.Va.Ue(e),fi(t).Z_(e)}function Ru(t){t.Va=new oE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fi(t).start(),t.Ra.ua()}function Du(t){return As(t)&&!fi(t).x_()&&t.Ia.size>0}function As(t){return _e(t).Ea.size===0}function ey(t){t.Va=void 0}async function pA(t){t.Ra.set("Online")}async function mA(t){t.Ia.forEach((e,n)=>{Su(t,e)})}async function gA(t,e){ey(t),Du(t)?(t.Ra.ha(e),Ru(t)):t.Ra.set("Unknown")}async function vA(t,e,n){if(t.Ra.set("Online"),e instanceof Fv&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const o of i.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ia.delete(o),s.Va.removeTarget(o))}(t,e)}catch(r){se(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ho(t,r)}else if(e instanceof Eo?t.Va.Ze(e):e instanceof Lv?t.Va.st(e):t.Va.tt(e),!n.isEqual(ve.min()))try{const r=await Qv(t.localStore);n.compareTo(r)>=0&&await function(i,a){const o=i.Va.Tt(a);return o.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,d)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),Xv(i,l);const f=new xr(h.target,l,d,h.sequenceNumber);Su(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){se(_s,"Failed to raise snapshot:",r),await Ho(t,r)}}async function Ho(t,e,n){if(!ui(e))throw e;t.Ea.add(1),await Ra(t),t.Ra.set("Offline"),n||(n=()=>Qv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se(_s,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kc(t)})}function ty(t,e){return e().catch(n=>Ho(t,n,e))}async function Pc(t){const e=_e(t),n=jr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mu;for(;yA(e);)try{const s=await XE(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,_A(e,s)}catch(s){await Ho(e,s)}ny(e)&&ry(e)}function yA(t){return As(t)&&t.Ta.length<10}function _A(t,e){t.Ta.push(e);const n=jr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ny(t){return As(t)&&!jr(t).x_()&&t.Ta.length>0}function ry(t){jr(t).start()}async function bA(t){jr(t).ra()}async function wA(t){const e=jr(t);for(const n of t.Ta)e.ea(n.mutations)}async function TA(t,e,n){const r=t.Ta.shift(),s=wu.from(r,e,n);await ty(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Pc(t)}async function EA(t,e){e&&jr(t).X_&&await async function(r,s){if(function(a){return sE(a)&&a!==O.ABORTED}(s.code)){const i=r.Ta.shift();jr(r).B_(),await ty(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Pc(r)}}(t,e),ny(t)&&ry(t)}async function Vp(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),se(_s,"RemoteStore received new credentials");const r=As(n);n.Ea.add(3),await Ra(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kc(n)}async function AA(t,e){const n=_e(t);e?(n.Ea.delete(2),await kc(n)):e||(n.Ea.add(2),await Ra(n),n.Ra.set("Unknown"))}function fi(t){return t.ma||(t.ma=function(n,r,s){const i=_e(n);return i.sa(),new cA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:pA.bind(null,t),t_:mA.bind(null,t),r_:gA.bind(null,t),H_:vA.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Du(t)?Ru(t):t.Ra.set("Unknown")):(await t.ma.stop(),ey(t))})),t.ma}function jr(t){return t.fa||(t.fa=function(n,r,s){const i=_e(n);return i.sa(),new lA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:bA.bind(null,t),r_:EA.bind(null,t),ta:wA.bind(null,t),na:TA.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Pc(t)):(await t.fa.stop(),t.Ta.length>0&&(se(_s,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,o=new xu(e,n,a,s,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nu(t,e){if(or("AsyncQueue",`${e}: ${t}`),ui(t))return new te(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{static emptySet(e){return new qs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=Vi(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.ga=new Qe(le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ti{constructor(e,n,r,s,i,a,o,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new ti(e,n,qs.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class CA{constructor(){this.queries=Lp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=_e(n),i=s.queries;s.queries=Lp(),i.forEach((a,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new te(O.ABORTED,"Firestore shutting down"))}}function Lp(){return new Es(t=>Ev(t),wc)}async function Mu(t,e){const n=_e(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new IA,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=Nu(a,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Ou(n)}async function Vu(t,e){const n=_e(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kA(t,e){const n=_e(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const o of a.Sa)o.Fa(s)&&(r=!0);a.wa=s}}r&&Ou(n)}function PA(t,e,n){const r=_e(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Ou(t){t.Ca.forEach(e=>{e.next()})}var Md,Fp;(Fp=Md||(Md={})).Ma="default",Fp.Cache="cache";class Lu{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ti(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ti.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.key=e}}class iy{constructor(e){this.key=e}}class SA{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=Av(e),this.tu=new qs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Op,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const g=s.get(h),_=Tc(this.query,f)?f:null,P=!!g&&this.mutatedKeys.has(g.key),x=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let N=!1;g&&_?g.data.isEqual(_.data)?P!==x&&(r.track({type:3,doc:_}),N=!0):this.su(g,_)||(r.track({type:2,doc:_}),N=!0,(l&&this.eu(_,l)>0||d&&this.eu(_,d)<0)&&(o=!0)):!g&&_?(r.track({type:0,doc:_}),N=!0):g&&!_&&(r.track({type:1,doc:g}),N=!0,(l||d)&&(o=!0)),N&&(_?(a=a.add(_),i=x?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:o,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,f)=>function(_,P){const x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Rt:N})}};return x(_)-x(P)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const o=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,d=l!==this.Za;return this.Za=l,a.length!==0||d?{snapshot:new ti(this.query,e.tu,i,a,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Op,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new iy(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new sy(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ti.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fu="SyncEngine";class RA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DA{constructor(e){this.key=e,this.hu=!1}}class xA{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Es(o=>Ev(o),wc),this.Iu=new Map,this.Eu=new Set,this.du=new Qe(le.comparator),this.Au=new Map,this.Ru=new Au,this.Vu={},this.mu=new Map,this.fu=ei.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NA(t,e,n=!0){const r=uy(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await ay(r,e,n,!0),s}async function MA(t,e){const n=uy(t);await ay(n,e,!0,!1)}async function ay(t,e,n,r){const s=await eA(t.localStore,xn(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await VA(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&Jv(t.remoteStore,s),o}async function VA(t,e,n,r,s){t.pu=(f,g,_)=>async function(x,N,H,L){let $=N.view.ru(H);$.Cs&&($=await Rp(x.localStore,N.query,!1).then(({documents:E})=>N.view.ru(E,$)));const D=L&&L.targetChanges.get(N.targetId),K=L&&L.targetMismatches.get(N.targetId)!=null,G=N.view.applyChanges($,x.isPrimaryClient,D,K);return Wp(x,N.targetId,G.au),G.snapshot}(t,f,g,_);const i=await Rp(t.localStore,e,!0),a=new SA(e,i.Qs),o=a.ru(i.documents),l=Sa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(o,t.isPrimaryClient,l);Wp(t,n,d.au);const h=new RA(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function OA(t,e,n){const r=_e(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!wc(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await xd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Pu(r.remoteStore,s.targetId),Vd(r,s.targetId)}).catch(di)):(Vd(r,s.targetId),await xd(r.localStore,s.targetId,!0))}async function LA(t,e){const n=_e(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pu(n.remoteStore,r.targetId))}async function FA(t,e,n){const r=$A(t);try{const s=await function(a,o){const l=_e(a),d=He.now(),h=o.reduce((_,P)=>_.add(P.key),Ce());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let P=cr(),x=Ce();return l.Ns.getEntries(_,h).next(N=>{P=N,P.forEach((H,L)=>{L.isValidDocument()||(x=x.add(H))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,P)).next(N=>{f=N;const H=[];for(const L of o){const $=X0(L,f.get(L.key).overlayedDocument);$!=null&&H.push(new Yr(L.key,$,mv($.value.mapValue),_n.exists(!0)))}return l.mutationQueue.addMutationBatch(_,d,H,o)}).next(N=>{g=N;const H=N.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(_,N.batchId,H)})}).then(()=>({batchId:g.batchId,changes:Cv(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let d=a.Vu[a.currentUser.toKey()];d||(d=new Qe(Ie)),d=d.insert(o,l),a.Vu[a.currentUser.toKey()]=d}(r,s.batchId,n),await Da(r,s.changes),await Pc(r.remoteStore)}catch(s){const i=Nu(s,"Failed to persist write");n.reject(i)}}async function oy(t,e){const n=_e(t);try{const r=await YE(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Au.get(i);a&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Ve(a.hu,14607):s.removedDocuments.size>0&&(Ve(a.hu,42227),a.hu=!1))}),await Da(n,r,e)}catch(r){await di(r)}}function Up(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,a)=>{const o=a.view.va(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=_e(a);l.onlineState=o;let d=!1;l.queries.forEach((h,f)=>{for(const g of f.Sa)g.va(o)&&(d=!0)}),d&&Ou(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UA(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Qe(le.comparator);a=a.insert(i,St.newNoDocument(i,ve.min()));const o=Ce().add(i),l=new Ic(ve.min(),new Map,new Qe(Ie),a,o);await oy(r,l),r.du=r.du.remove(i),r.Au.delete(e),Uu(r)}else await xd(r.localStore,e,!1).then(()=>Vd(r,e,n)).catch(di)}async function WA(t,e){const n=_e(t),r=e.batch.batchId;try{const s=await ZE(n.localStore,e);ly(n,r,null),cy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Da(n,s)}catch(s){await di(s)}}async function qA(t,e,n){const r=_e(t);try{const s=await function(a,o){const l=_e(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,o).next(f=>(Ve(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);ly(r,e,n),cy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Da(r,s)}catch(s){await di(s)}}function cy(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function ly(t,e,n){const r=_e(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Vd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||dy(t,r)})}function dy(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Pu(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Uu(t))}function Wp(t,e,n){for(const r of n)r instanceof sy?(t.Ru.addReference(r.key,e),BA(t,r)):r instanceof iy?(se(Fu,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||dy(t,r.key)):fe(19791,{wu:r})}function BA(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(se(Fu,"New document in limbo: "+n),t.Eu.add(r),Uu(t))}function Uu(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new le(qe.fromString(e)),r=t.fu.next();t.Au.set(r,new DA(n)),t.du=t.du.insert(n,r),Jv(t.remoteStore,new xr(xn(bc(n.path)),r,"TargetPurposeLimboResolution",vc.ce))}}async function Da(t,e,n){const r=_e(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{a.push(r.pu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Cu.As(l.targetId,d);i.push(f)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(l,d){const h=_e(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(d,g=>j.forEach(g.Es,_=>h.persistence.referenceDelegate.addReference(f,g.targetId,_)).next(()=>j.forEach(g.ds,_=>h.persistence.referenceDelegate.removeReference(f,g.targetId,_)))))}catch(f){if(!ui(f))throw f;se(ku,"Failed to update sequence numbers: "+f)}for(const f of d){const g=f.targetId;if(!f.fromCache){const _=h.Ms.get(g),P=_.snapshotVersion,x=_.withLastLimboFreeSnapshotVersion(P);h.Ms=h.Ms.insert(g,x)}}}(r.localStore,i))}async function HA(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){se(Fu,"User change. New user:",e.toKey());const r=await Kv(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(o=>{o.forEach(l=>{l.reject(new te(O.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Da(n,r.Ls)}}function jA(t,e){const n=_e(t),r=n.Au.get(e);if(r&&r.hu)return Ce().add(r.key);{let s=Ce();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const o=n.Tu.get(a);s=s.unionWith(o.view.nu)}return s}}function uy(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UA.bind(null,e),e.Pu.H_=kA.bind(null,e.eventManager),e.Pu.yu=PA.bind(null,e.eventManager),e}function $A(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qA.bind(null,e),e}class jo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QE(this.persistence,new zE,e.initialUser,this.serializer)}Cu(e){return new Gv(Iu.mi,this.serializer)}Du(e){return new nA}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jo.provider={build:()=>new jo};class zA extends jo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ve(this.persistence.referenceDelegate instanceof Bo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DE(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new Gv(r=>Bo.mi(r,n),this.serializer)}}class Od{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Up(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HA.bind(null,this.syncEngine),await AA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CA}()}createDatastore(e){const n=Cc(e.databaseInfo.databaseId),r=function(i){return new oA(i)}(e.databaseInfo);return function(i,a,o,l){return new uA(i,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,o){return new fA(r,s,i,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>Up(this.syncEngine,n,0),function(){return Np.v()?new Np:new rA}())}createSyncEngine(e,n){return function(s,i,a,o,l,d,h){const f=new xA(s,i,a,o,l,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=_e(s);se(_s,"RemoteStore shutting down."),i.Ea.add(5),await Ra(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Od.provider={build:()=>new Od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class GA{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Pt.UNAUTHENTICATED,this.clientId=pu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{se($r,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(se($r,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zl(t,e){t.asyncQueue.verifyOperationInProgress(),se($r,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Kv(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KA(t);se($r,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Vp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Vp(e.remoteStore,s)),t._onlineComponents=e}async function KA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se($r,"Using user provided OfflineComponentProvider");try{await zl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===O.FAILED_PRECONDITION||s.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await zl(t,new jo)}}else se($r,"Using default OfflineComponentProvider"),await zl(t,new zA(void 0));return t._offlineComponents}async function hy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se($r,"Using user provided OnlineComponentProvider"),await qp(t,t._uninitializedComponentsProvider._online)):(se($r,"Using default OnlineComponentProvider"),await qp(t,new Od))),t._onlineComponents}function QA(t){return hy(t).then(e=>e.syncEngine)}async function $o(t){const e=await hy(t),n=e.eventManager;return n.onListen=NA.bind(null,e.syncEngine),n.onUnlisten=OA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LA.bind(null,e.syncEngine),n}function ZA(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,d){const h=new Wu({next:g=>{h.Nu(),a.enqueueAndForget(()=>Vu(i,f));const _=g.docs.has(o);!_&&g.fromCache?d.reject(new te(O.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&l&&l.source==="server"?d.reject(new te(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),f=new Lu(bc(o.path),h,{includeMetadataChanges:!0,qa:!0});return Mu(i,f)}(await $o(t),t.asyncQueue,e,n,r)),r.promise}function YA(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,d){const h=new Wu({next:g=>{h.Nu(),a.enqueueAndForget(()=>Vu(i,f)),g.fromCache&&l.source==="server"?d.reject(new te(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),f=new Lu(o,h,{includeMetadataChanges:!0,qa:!0});return Mu(i,f)}(await $o(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="firestore.googleapis.com",Hp=!0;class jp{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=py,this.ssl=Hp}else this.host=e.host,this.ssl=e.ssl??Hp;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SE)throw new te(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fy(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new te(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new te(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new te(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t0;switch(r.type){case"firstParty":return new i0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Bp.get(n);r&&(se("ComponentProvider","Removing Datastore"),Bp.delete(n),r.terminate())}(this),Promise.resolve()}}function JA(t,e,n,r={}){var d;t=en(t,Sc);const s=Qr(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;s&&(su(`https://${o}`),iu("Firestore",!0)),i.host!==py&&i.host!==o&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:s,emulatorOptions:r};if(!vs(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Pt.MOCK_USER;else{h=xg(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new te(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pt(g)}t._authCredentials=new n0(new rv(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hr(this.firestore,e,this._query)}}class Je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}toJSON(){return{type:Je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ka(n,Je._jsonSchema))return new Je(e,r||null,new le(qe.fromString(n.referencePath)))}}Je._jsonSchemaVersion="firestore/documentReference/1.0",Je._jsonSchema={type:ct("string",Je._jsonSchemaVersion),referencePath:ct("string")};class Or extends hr{constructor(e,n,r){super(e,n,bc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new le(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function Rc(t,e,...n){if(t=Ke(t),sv("collection","path",e),t instanceof Sc){const r=qe.fromString(e,...n);return rp(r),new Or(t,null,r)}{if(!(t instanceof Je||t instanceof Or))throw new te(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return rp(r),new Or(t.firestore,null,r)}}function Dc(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=pu.newId()),sv("doc","path",e),t instanceof Sc){const r=qe.fromString(e,...n);return np(r),new Je(t,null,new le(r))}{if(!(t instanceof Je||t instanceof Or))throw new te(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return np(r),new Je(t.firestore,t instanceof Or?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="AsyncQueue";class zp{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Zv(this,"async_queue_retry"),this._c=()=>{const r=$l();r&&se($p,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$l();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$l();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new rr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ui(e))throw e;se($p,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",Gp(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=xu.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&fe(47125,{Pc:Gp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Gp(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class zr extends Sc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new zp,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zp(e),this._firestoreClient=void 0,await e}}}function XA(t,e){const n=typeof t=="object"?t:pc(),r=typeof t=="string"?t:Oo,s=ci(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Sg("firestore");i&&JA(s,...i)}return s}function xc(t){if(t._terminated)throw new te(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eI(t),t._firestoreClient}function eI(t){var r,s,i;const e=t._freezeSettings(),n=function(o,l,d,h){return new E0(o,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fy(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GA(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ln(Tt.fromBase64String(e))}catch(n){throw new te(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ln(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ka(e,ln._jsonSchema))return ln.fromBase64String(e.bytes)}}ln._jsonSchemaVersion="firestore/bytes/1.0",ln._jsonSchema={type:ct("string",ln._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mn._jsonSchemaVersion}}static fromJSON(e){if(ka(e,Mn._jsonSchema))return new Mn(e.latitude,e.longitude)}}Mn._jsonSchemaVersion="firestore/geoPoint/1.0",Mn._jsonSchema={type:ct("string",Mn._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Vn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ka(e,Vn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Vn(e.vectorValues);throw new te(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vn._jsonSchemaVersion="firestore/vectorValue/1.0",Vn._jsonSchema={type:ct("string",Vn._jsonSchemaVersion),vectorValues:ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=/^__.*__$/;class nI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pa(e,this.data,n,this.fieldTransforms)}}class my{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ac:t})}}class qu{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qu({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zo(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gy(this.Ac)&&tI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cc(e)}Cc(e,n,r,s=!1){return new qu({Ac:e,methodName:n,Dc:r,path:wt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vc(t){const e=t._freezeSettings(),n=Cc(t._databaseId);return new rI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vy(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Hu("Data must be an object, but it was:",a,r);const o=yy(r,a);let l,d;if(i.merge)l=new Zt(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const g=Ld(e,f,n);if(!a.contains(g))throw new te(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);by(h,g)||h.push(g)}l=new Zt(h),d=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=a.fieldTransforms;return new nI(new Ht(o),l,d)}class Oc extends Mc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oc}}class Bu extends Mc{_toFieldTransform(e){return new Q0(e.path,new ha)}isEqual(e){return e instanceof Bu}}function sI(t,e,n,r){const s=t.Cc(1,e,n);Hu("Data must be an object, but it was:",s,r);const i=[],a=Ht.empty();Zr(r,(l,d)=>{const h=ju(e,l,n);d=Ke(d);const f=s.yc(h);if(d instanceof Oc)i.push(h);else{const g=xa(d,f);g!=null&&(i.push(h),a.set(h,g))}});const o=new Zt(i);return new my(a,o,s.fieldTransforms)}function iI(t,e,n,r,s,i){const a=t.Cc(1,e,n),o=[Ld(e,r,n)],l=[s];if(i.length%2!=0)throw new te(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)o.push(Ld(e,i[g])),l.push(i[g+1]);const d=[],h=Ht.empty();for(let g=o.length-1;g>=0;--g)if(!by(d,o[g])){const _=o[g];let P=l[g];P=Ke(P);const x=a.yc(_);if(P instanceof Oc)d.push(_);else{const N=xa(P,x);N!=null&&(d.push(_),h.set(_,N))}}const f=new Zt(d);return new my(h,f,a.fieldTransforms)}function aI(t,e,n,r=!1){return xa(n,t.Cc(r?4:3,e))}function xa(t,e){if(_y(t=Ke(t)))return Hu("Unsupported field value:",e,t),yy(t,e);if(t instanceof Mc)return function(r,s){if(!gy(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const o of r){let l=xa(o,s.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z0(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=He.fromDate(r);return{timestampValue:qo(s.serializer,i)}}if(r instanceof He){const i=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qo(s.serializer,i)}}if(r instanceof Mn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ln)return{bytesValue:Uv(s.serializer,r._byteString)};if(r instanceof Je){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Eu(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Vn)return function(a,o){return{mapValue:{fields:{[fv]:{stringValue:pv},[Lo]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw o.Sc("VectorValues must only contain numeric values.");return bu(o.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${gc(r)}`)}(t,e)}function yy(t,e){const n={};return ov(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,(r,s)=>{const i=xa(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function _y(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Mn||t instanceof ln||t instanceof Je||t instanceof Mc||t instanceof Vn)}function Hu(t,e,n){if(!_y(n)||!iv(n)){const r=gc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ld(t,e,n){if((e=Ke(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return ju(t,e);throw zo("Field path arguments must be of type string or ",t,!1,void 0,n)}const oI=new RegExp("[~\\*/\\[\\]]");function ju(t,e,n){if(e.search(oI)>=0)throw zo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nc(...e.split("."))._internalPath}catch{throw zo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zo(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new te(O.INVALID_ARGUMENT,o+t+l)}function by(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($u("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cI extends wy{data(){return super.data()}}function $u(t,e){return typeof e=="string"?ju(t,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zu{}class Gu extends zu{}function lI(t,e,...n){let r=[];e instanceof zu&&r.push(e),r=r.concat(n),function(i){const a=i.filter(l=>l instanceof Qu).length,o=i.filter(l=>l instanceof Ku).length;if(a>1||a>0&&o>0)throw new te(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ku extends Gu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ku(e,n,r)}_apply(e){const n=this._parse(e);return Ey(e._query,n),new hr(e.firestore,e.converter,kd(e._query,n))}_parse(e){const n=Vc(e.firestore);return function(i,a,o,l,d,h,f){let g;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new te(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Zp(f,h);const P=[];for(const x of f)P.push(Qp(l,i,x));g={arrayValue:{values:P}}}else g=Qp(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Zp(f,h),g=aI(o,a,f,h==="in"||h==="not-in");return ot.create(d,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Qu extends zu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Tn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const o=i.getFlattenedFilters();for(const l of o)Ey(a,l),a=kd(a,l)}(e._query,n),new hr(e.firestore,e.converter,kd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zu extends Gu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zu(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new te(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ua(i,a)}(e._query,this._field,this._direction);return new hr(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new hi(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function dI(t,e="asc"){const n=e,r=$u("orderBy",t);return Zu._create(r,n)}class Yu extends Gu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Yu(e,n,r)}_apply(e){return new hr(e.firestore,e.converter,Uo(e._query,this._limit,this._limitType))}}function uI(t){return h0("limit",t),Yu._create("limit",t,"F")}function Qp(t,e,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new te(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tv(e)&&n.indexOf("/")!==-1)throw new te(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!le.isDocumentKey(r))throw new te(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return up(t,new le(r))}if(n instanceof Je)return up(t,n._key);throw new te(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gc(n)}.`)}function Zp(t,e){if(!Array.isArray(t)||t.length===0)throw new te(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ey(t,e){const n=function(s,i){for(const a of s)for(const o of a.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hI{convertValue(e,n="none"){switch(Hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Lo].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>rt(a.doubleValue));return new Vn(n)}convertGeoPoint(e){return new Mn(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_c(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ca(e));default:return null}}convertTimestamp(e){const n=qr(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Ve($v(r),9688,{name:e});const s=new la(r.get(1),r.get(3)),i=new le(r.popFirst(5));return s.isEqual(n)||or(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Li{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class us extends wy{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ao(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($u("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}us._jsonSchemaVersion="firestore/documentSnapshot/1.0",us._jsonSchema={type:ct("string",us._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class Ao extends us{data(e={}){return super.data(e)}}class hs{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Li(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ao(this._firestore,this._userDataWriter,r.key,r,new Li(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new Ao(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Li(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new Ao(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Li(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return o.type!==0&&(d=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:fI(o.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){t=en(t,Je);const e=en(t.firestore,zr);return ZA(xc(e),t._key).then(n=>Cy(e,t,n))}hs._jsonSchemaVersion="firestore/querySnapshot/1.0",hs._jsonSchema={type:ct("string",hs._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class Ju extends hI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function mI(t){t=en(t,hr);const e=en(t.firestore,zr),n=xc(e),r=new Ju(e);return Ty(t._query),YA(n,t._query).then(s=>new hs(e,r,t,s))}function gI(t,e,n){t=en(t,Je);const r=en(t.firestore,zr),s=Ay(t.converter,e,n);return eh(r,[vy(Vc(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_n.none())])}function Iy(t,e,n,...r){t=en(t,Je);const s=en(t.firestore,zr),i=Vc(s);let a;return a=typeof(e=Ke(e))=="string"||e instanceof Nc?iI(i,"updateDoc",t._key,e,n,r):sI(i,"updateDoc",t._key,e),eh(s,[a.toMutation(t._key,_n.exists(!0))])}function Xu(t,e){const n=en(t.firestore,zr),r=Dc(t),s=Ay(t.converter,e);return eh(n,[vy(Vc(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function vI(t,...e){var l,d,h;t=Ke(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Kp(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Kp(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,a,o;if(t instanceof Je)a=en(t.firestore,zr),o=bc(t._key.path),i={next:f=>{e[r]&&e[r](Cy(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=en(t,hr);a=en(f.firestore,zr),o=f._query;const g=new Ju(a);i={next:_=>{e[r]&&e[r](new hs(a,g,f,_))},error:e[r+1],complete:e[r+2]},Ty(t._query)}return function(g,_,P,x){const N=new Wu(x),H=new Lu(_,N,P);return g.asyncQueue.enqueueAndForget(async()=>Mu(await $o(g),H)),()=>{N.Nu(),g.asyncQueue.enqueueAndForget(async()=>Vu(await $o(g),H))}}(xc(a),o,s,i)}function eh(t,e){return function(r,s){const i=new rr;return r.asyncQueue.enqueueAndForget(async()=>FA(await QA(r),s,i)),i.promise}(xc(t),e)}function Cy(t,e,n){const r=n.docs.get(e._key),s=new Ju(t);return new us(t,s,e._key,r,new Li(n.hasPendingWrites,n.fromCache),e.converter)}function Na(){return new Bu("serverTimestamp")}(function(e,n=!0){(function(s){li=s})(Ts),ar(new Un("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),o=new zr(new r0(r.getProvider("auth-internal")),new a0(a,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new te(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(d.options.projectId,h)}(a,s),a);return i={useFetchStreams:n,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),yn(Jf,Xf,e),yn(Jf,Xf,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="firebasestorage.googleapis.com",Py="storageBucket",yI=2*60*1e3,_I=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends Hn{constructor(e,n,r=0){super(Gl(e),`Firebase Storage: ${n} (${Gl(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gl(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function Gl(t){return"storage/"+t}function th(){const t="An unknown error occurred, please check the error payload for server response.";return new et(Xe.UNKNOWN,t)}function bI(t){return new et(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wI(t){return new et(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TI(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(Xe.UNAUTHENTICATED,t)}function EI(){return new et(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function AI(t){return new et(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function II(){return new et(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CI(){return new et(Xe.CANCELED,"User canceled the upload/download.")}function kI(t){return new et(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function PI(t){return new et(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function SI(){return new et(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Py+"' property when initializing the app?")}function RI(){return new et(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DI(){return new et(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xI(t){return new et(Xe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fd(t){return new et(Xe.INVALID_ARGUMENT,t)}function Sy(){return new et(Xe.APP_DELETED,"The Firebase app was deleted.")}function NI(t){return new et(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ji(t,e){return new et(Xe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Si(t){throw new et(Xe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yt.makeFromUrl(e,n)}catch{return new Yt(e,"")}if(r.path==="")return r;throw PI(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+s+a,"i"),l={bucket:1,path:3};function d(D){D.path_=decodeURIComponent(D.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${f}/${h}/b/${s}/o${g}`,"i"),P={bucket:1,path:3},x=n===ky?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",H=new RegExp(`^https?://${x}/${s}/${N}`,"i"),$=[{regex:o,indices:l,postModify:i},{regex:_,indices:P,postModify:d},{regex:H,indices:{bucket:1,path:2},postModify:d}];for(let D=0;D<$.length;D++){const K=$[D],G=K.regex.exec(e);if(G){const E=G[K.indices.bucket];let y=G[K.indices.path];y||(y=""),r=new Yt(E,y),K.postModify(r);break}}if(r==null)throw kI(e);return r}}class MI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return o===2}let d=!1;function h(...N){d||(d=!0,e.apply(null,N))}function f(N){s=setTimeout(()=>{s=null,t(_,l())},N)}function g(){i&&clearTimeout(i)}function _(N,...H){if(d){g();return}if(N){g(),h.call(null,N,...H);return}if(l()||a){g(),h.call(null,N,...H);return}r<64&&(r*=2);let $;o===1?(o=2,$=0):$=(r+Math.random())*1e3,f($)}let P=!1;function x(N){P||(P=!0,g(),!d&&(s!==null?(N||(o=2),clearTimeout(s),f(0)):N||(o=1)))}return f(0),i=setTimeout(()=>{a=!0,x(!0)},n),x}function OI(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){return t!==void 0}function FI(t){return typeof t=="object"&&!Array.isArray(t)}function nh(t){return typeof t=="string"||t instanceof String}function Yp(t){return rh()&&t instanceof Blob}function rh(){return typeof Blob<"u"}function Jp(t,e,n,r){if(r<e)throw Fd(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fd(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Ry(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var fs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fs||(fs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,r,s,i,a,o,l,d,h,f,g=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,x)=>{this.resolve_=P,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ho(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=o=>{const l=o.loaded,d=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const o=i.getErrorCode()===fs.NO_ERROR,l=i.getStatus();if(!o||UI(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===fs.ABORT;r(!1,new ho(!1,null,h));return}const d=this.successCodes_.indexOf(l)!==-1;r(!0,new ho(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());LI(l)?i(l):i()}catch(l){a(l)}else if(o!==null){const l=th();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(s.canceled){const l=this.appDelete_?Sy():CI();a(l)}else{const l=II();a(l)}};this.canceled_?n(!1,new ho(!1,null,!0)):this.backoffId_=VI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&OI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ho{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qI(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BI(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HI(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jI(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $I(t,e,n,r,s,i,a=!0,o=!1){const l=Ry(t.urlParams),d=t.url+l,h=Object.assign({},t.headers);return HI(h,e),qI(h,n),BI(h,i),jI(h,r),new WI(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GI(...t){const e=zI();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(rh())return new Blob(t);throw new et(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function KI(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){if(typeof atob>"u")throw xI("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kl{constructor(e,n){this.data=e,this.contentType=n||null}}function ZI(t,e){switch(t){case Dn.RAW:return new Kl(Dy(e));case Dn.BASE64:case Dn.BASE64URL:return new Kl(xy(t,e));case Dn.DATA_URL:return new Kl(JI(e),XI(e))}throw th()}function Dy(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function YI(t){let e;try{e=decodeURIComponent(t)}catch{throw ji(Dn.DATA_URL,"Malformed data URL.")}return Dy(e)}function xy(t,e){switch(t){case Dn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw ji(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Dn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw ji(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=QI(e)}catch(s){throw s.message.includes("polyfill")?s:ji(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Ny{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ji(Dn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=eC(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function JI(t){const e=new Ny(t);return e.base64?xy(Dn.BASE64,e.rest):YI(e.rest)}function XI(t){return new Ny(t).contentType}function eC(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){let r=0,s="";Yp(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Yp(this.data_)){const r=this.data_,s=KI(r,e,n);return s===null?null:new Cr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Cr(r,!0)}}static getBlob(...e){if(rh()){const n=e.map(r=>r instanceof Cr?r.data_:r);return new Cr(GI.apply(null,n))}else{const n=e.map(a=>nh(a)?ZI(Dn.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)s[i++]=a[o]}),new Cr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){let e;try{e=JSON.parse(t)}catch{return null}return FI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nC(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Vy(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t,e){return e}class Vt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||rC}}let fo=null;function sC(t){return!nh(t)||t.length<2?t:Vy(t)}function Oy(){if(fo)return fo;const t=[];t.push(new Vt("bucket")),t.push(new Vt("generation")),t.push(new Vt("metageneration")),t.push(new Vt("name","fullPath",!0));function e(i,a){return sC(a)}const n=new Vt("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new Vt("size");return s.xform=r,t.push(s),t.push(new Vt("timeCreated")),t.push(new Vt("updated")),t.push(new Vt("md5Hash",null,!0)),t.push(new Vt("cacheControl",null,!0)),t.push(new Vt("contentDisposition",null,!0)),t.push(new Vt("contentEncoding",null,!0)),t.push(new Vt("contentLanguage",null,!0)),t.push(new Vt("contentType",null,!0)),t.push(new Vt("metadata","customMetadata",!0)),fo=t,fo}function iC(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Yt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function aC(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return iC(r,t),r}function Ly(t,e,n){const r=My(e);return r===null?null:aC(t,r,n)}function oC(t,e,n,r){const s=My(e);if(s===null||!nh(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(d=>{const h=t.bucket,f=t.fullPath,g="/b/"+a(h)+"/o/"+a(f),_=sh(g,n,r),P=Ry({alt:"media",token:d});return _+P})[0]}function cC(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Fy{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){if(!t)throw th()}function lC(t,e){function n(r,s){const i=Ly(t,s,e);return Uy(i!==null),i}return n}function dC(t,e){function n(r,s){const i=Ly(t,s,e);return Uy(i!==null),oC(i,s,t.host,t._protocol)}return n}function Wy(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=EI():s=TI():n.getStatus()===402?s=wI(t.bucket):n.getStatus()===403?s=AI(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function uC(t){const e=Wy(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=bI(t.path)),i.serverResponse=s.serverResponse,i}return n}function hC(t,e,n){const r=e.fullServerUrl(),s=sh(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,o=new Fy(s,i,dC(t,n),a);return o.errorHandler=uC(e),o}function fC(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function pC(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=fC(null,e)),r}function mC(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let $="";for(let D=0;D<2;D++)$=$+Math.random().toString().slice(2);return $}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const d=pC(e,r,s),h=cC(d,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+l+"--",_=Cr.getBlob(f,r,g);if(_===null)throw RI();const P={name:d.fullPath},x=sh(i,t.host,t._protocol),N="POST",H=t.maxUploadRetryTime,L=new Fy(x,N,lC(t,n),H);return L.urlParams=P,L.headers=a,L.body=_.uploadData(),L.errorHandler=Wy(e),L}class gC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Si("cannot .send() more than once");if(Qr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Si("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Si("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Si("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Si("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vC extends gC{initXhr(){this.xhr_.responseType="text"}}function qy(){return new vC}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this._service=e,n instanceof Yt?this._location=n:this._location=Yt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bs(e,n)}get root(){const e=new Yt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vy(this._location.path)}get storage(){return this._service}get parent(){const e=tC(this._location.path);if(e===null)return null;const n=new Yt(this._location.bucket,e);return new bs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw NI(e)}}function yC(t,e,n){t._throwIfRoot("uploadBytes");const r=mC(t.storage,t._location,Oy(),new Cr(e,!0),n);return t.storage.makeRequestWithTokens(r,qy).then(s=>({metadata:s,ref:t}))}function _C(t){t._throwIfRoot("getDownloadURL");const e=hC(t.storage,t._location,Oy());return t.storage.makeRequestWithTokens(e,qy).then(n=>{if(n===null)throw DI();return n})}function bC(t,e){const n=nC(t._location.path,e),r=new Yt(t._location.bucket,n);return new bs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){return/^[A-Za-z]+:\/\//.test(t)}function TC(t,e){return new bs(t,e)}function By(t,e){if(t instanceof ih){const n=t;if(n._bucket==null)throw SI();const r=new bs(n,n._bucket);return e!=null?By(r,e):r}else return e!==void 0?bC(t,e):t}function EC(t,e){if(e&&wC(e)){if(t instanceof ih)return TC(t,e);throw Fd("To use ref(service, url), the first argument must be a Storage instance.")}else return By(t,e)}function Xp(t,e){const n=e==null?void 0:e[Py];return n==null?null:Yt.makeFromBucketSpec(n,t)}function AC(t,e,n,r={}){t.host=`${e}:${n}`;const s=Qr(e);s&&(su(`https://${t.host}/b`),iu("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:xg(i,t.app.options.projectId))}class ih{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=ky,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yI,this._maxUploadRetryTime=_I,this._requests=new Set,s!=null?this._bucket=Yt.makeFromBucketSpec(s,this._host):this._bucket=Xp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yt.makeFromBucketSpec(this._url,e):this._bucket=Xp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bs(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new MI(Sy());{const a=$I(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const em="@firebase/storage",tm="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="storage";function IC(t,e,n){return t=Ke(t),yC(t,e,n)}function CC(t){return t=Ke(t),_C(t)}function kC(t,e){return t=Ke(t),EC(t,e)}function PC(t=pc(),e){t=Ke(t);const r=ci(t,Hy).getImmediate({identifier:e}),s=Sg("storage");return s&&SC(r,...s),r}function SC(t,e,n,r={}){AC(t,e,n,r)}function RC(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ih(n,r,s,e,Ts)}function DC(){ar(new Un(Hy,RC,"PUBLIC").setMultipleInstances(!0)),yn(em,tm,""),yn(em,tm,"esm2020")}DC();function jy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xC=jy,$y=new oi("auth","Firebase",jy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new fc("@firebase/auth");function NC(t,...e){Go.logLevel<=Ae.WARN&&Go.warn(`Auth (${Ts}): ${t}`,...e)}function Io(t,...e){Go.logLevel<=Ae.ERROR&&Go.error(`Auth (${Ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw oh(t,...e)}function bn(t,...e){return oh(t,...e)}function ah(t,e,n){const r={...xC(),[e]:n};return new oi("auth","Firebase",r).create(e,{appName:t.name})}function ps(t){return ah(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MC(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qn(t,"argument-error"),ah(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $y.create(t,...e)}function ge(t,e,...n){if(!t)throw oh(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Io(e),new Error(e)}function lr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function VC(){return nm()==="http:"||nm()==="https:"}function nm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VC()||Hb()||"connection"in navigator)?navigator.onLine:!0}function LC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=Wb()||jb()}get(){return OC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t,e){lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WC=new Ma(3e4,6e4);function lh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function pi(t,e,n,r,s={}){return Gy(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const o=Ca({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:l,...i};return Bb()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Qr(t.emulatorConfig.host)&&(d.credentials="include"),zy.fetch()(await Ky(t,t.config.apiHost,n,o),d)})}async function Gy(t,e,n){t._canInitEmulator=!1;const r={...FC,...e};try{const s=new BC(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw po(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[l,d]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw po(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw po(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw po(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ah(t,h,d);qn(t,h)}}catch(s){if(s instanceof Hn)throw s;qn(t,"network-request-failed",{message:String(s)})}}async function qC(t,e,n,r,s={}){const i=await pi(t,e,n,r,s);return"mfaPendingCredential"in i&&qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Ky(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?ch(t.config,s):`${t.config.apiScheme}://${s}`;return UC.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}class BC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),WC.get())})}}function po(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=bn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(t,e){return pi(t,"POST","/v1/accounts:delete",e)}async function Ko(t,e){return pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jC(t,e=!1){const n=Ke(t),r=await n.getIdToken(e),s=dh(r);ge(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:$i(Ql(s.auth_time)),issuedAtTime:$i(Ql(s.iat)),expirationTime:$i(Ql(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ql(t){return Number(t)*1e3}function dh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Io("JWT malformed, contained fewer than 3 sections"),null;try{const s=Cg(n);return s?JSON.parse(s):(Io("Failed to decode base64 JWT payload"),null)}catch(s){return Io("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function rm(t){const e=dh(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hn&&$C(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $C({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$i(this.lastLoginAt),this.creationTime=$i(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t){var f;const e=t.auth,n=await t.getIdToken(),r=await ma(t,Ko(e,{idToken:n}));ge(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?Qy(s.providerUserInfo):[],a=KC(t.providerData,i),o=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=o?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function GC(t){const e=Ke(t);await Qo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KC(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Qy(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(t,e){const n=await Gy(t,{},async()=>{const r=Ca({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await Ky(t,s,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Qr(t.emulatorConfig.host)&&(l.credentials="include"),zy.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZC(t,e){return pi(t,"POST","/v2/accounts:revokeToken",lh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=rm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await QC(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Bs;return r&&(ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(ge(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(ge(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bs,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new zC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ma(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jC(this,e)}reload(){return GC(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await ma(this,HC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:g,isAnonymous:_,providerData:P,stsTokenManager:x}=n;ge(f&&x,e,"internal-error");const N=Bs.fromJSON(this.name,x);ge(typeof f=="string",e,"internal-error"),_r(r,e.name),_r(s,e.name),ge(typeof g=="boolean",e,"internal-error"),ge(typeof _=="boolean",e,"internal-error"),_r(i,e.name),_r(a,e.name),_r(o,e.name),_r(l,e.name),_r(d,e.name),_r(h,e.name);const H=new vn({uid:f,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:_,photoURL:a,phoneNumber:i,tenantId:o,stsTokenManager:N,createdAt:d,lastLoginAt:h});return P&&Array.isArray(P)&&(H.providerData=P.map(L=>({...L}))),l&&(H._redirectEventId=l),H}static async _fromIdTokenResponse(e,n,r=!1){const s=new Bs;s.updateFromServerResponse(n);const i=new vn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qo(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ge(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Qy(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),o=new Bs;o.updateFromIdToken(r);const l=new vn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Wd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Map;function nr(t){lr(t instanceof Function,"Expected a class definition");let e=sm.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zy.type="NONE";const im=Zy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,e,n){return`firebase:${t}:${e}:${n}`}class Hs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Co(this.userKey,s.apiKey,i),this.fullPersistenceKey=Co("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ko(this.auth,{idToken:e}).catch(()=>{});return n?vn._fromGetAccountInfoResponse(this.auth,n,e):null}return vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hs(nr(im),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||nr(im);const a=Co(r,e.config.apiKey,e.name);let o=null;for(const d of n)try{const h=await d._get(a);if(h){let f;if(typeof h=="string"){const g=await Ko(e,{idToken:h}).catch(()=>{});if(!g)break;f=await vn._fromGetAccountInfoResponse(e,g,h)}else f=vn._fromJSON(e,h);d!==i&&(o=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Hs(i,e,r):(i=l[0],o&&await i._set(a,o.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Hs(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n_(e))return"Blackberry";if(r_(e))return"Webos";if(Jy(e))return"Safari";if((e.includes("chrome/")||Xy(e))&&!e.includes("edge/"))return"Chrome";if(t_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Yy(t=xt()){return/firefox\//i.test(t)}function Jy(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xy(t=xt()){return/crios\//i.test(t)}function e_(t=xt()){return/iemobile/i.test(t)}function t_(t=xt()){return/android/i.test(t)}function n_(t=xt()){return/blackberry/i.test(t)}function r_(t=xt()){return/webos/i.test(t)}function uh(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YC(t=xt()){var e;return uh(t)&&!!((e=window.navigator)!=null&&e.standalone)}function JC(){return $b()&&document.documentMode===10}function s_(t=xt()){return uh(t)||t_(t)||r_(t)||n_(t)||/windows phone/i.test(t)||e_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t,e=[]){let n;switch(t){case"Browser":n=am(xt());break;case"Worker":n=`${am(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,o)=>{try{const l=e(i);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(t,e={}){return pi(t,"GET","/v2/passwordPolicy",lh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=6;class nk{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new om(this),this.idTokenSubscription=new om(this),this.beforeStateQueue=new XC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$y,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Hs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ko(this,{idToken:e}),r=await vn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cn(this.app))return Promise.reject(ps(this));const n=e?Ke(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ek(this),n=new nk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Hs.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&NC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Lc(t){return Ke(t)}class om{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jb(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sk(t){hh=t}function ik(t){return hh.loadJS(t)}function ak(){return hh.gapiScript}function ok(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e){const n=ci(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(vs(i,e??{}))return s;qn(s,"already-initialized")}return n.initialize({options:e})}function lk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dk(t,e,n){const r=Lc(t);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=a_(e),{host:a,port:o}=uk(e),l=o===null?"":`:${o}`,d={url:`${i}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(vs(d,r.config.emulator)&&vs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qr(a)?(su(`${i}//${a}${l}`),iu("Auth",!0)):hk()}function a_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uk(t){const e=a_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:cm(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:cm(a)}}}function cm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t,e){return qC(t,"POST","/v1/accounts:signInWithIdp",lh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="http://localhost";class ws extends o_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new ws(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return js(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,js(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,js(e,n)}buildRequest(){const e={requestUri:fk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ca(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends fh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Va{constructor(){super("facebook.com")}static credential(e){return ws._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends Va{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ws._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jn.credential(n,r)}catch{return null}}}Jn.GOOGLE_SIGN_IN_METHOD="google.com";Jn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Va{constructor(){super("github.com")}static credential(e){return ws._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Va{constructor(){super("twitter.com")}static credential(e,n){return ws._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await vn._fromIdTokenResponse(e,r,s),a=lm(r);return new ni({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=lm(r);return new ni({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function lm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Hn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Zo(e,n,r,s)}}function c_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Zo._fromErrorAndOperation(t,i,e,r):i})}async function pk(t,e,n=!1){const r=await ma(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ni._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(t,e,n=!1){const{auth:r}=t;if(cn(r.app))return Promise.reject(ps(r));const s="reauthenticate";try{const i=await ma(t,c_(r,s,e,t),n);ge(i.idToken,r,"internal-error");const a=dh(i.idToken);ge(a,r,"internal-error");const{sub:o}=a;return ge(t.uid===o,r,"user-mismatch"),ni._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(t,e,n=!1){if(cn(t.app))return Promise.reject(ps(t));const r="signIn",s=await c_(t,r,e),i=await ni._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function vk(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function yk(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function _k(t,e,n,r){return Ke(t).onAuthStateChanged(e,n,r)}function bk(t){return Ke(t).signOut()}const Yo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yo,"1"),this.storage.removeItem(Yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=1e3,Tk=10;class d_ extends l_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);JC()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Tk):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d_.type="LOCAL";const Ek=d_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends l_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}u_.type="SESSION";const h_=u_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Fc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(a).map(async d=>d(n.origin,i)),l=await Ak(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,l)=>{const d=ph("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(g.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function Ck(t){On().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function kk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Sk(){return f_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="firebaseLocalStorageDb",Rk=1,Jo="firebaseLocalStorage",m_="fbase_key";class Oa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uc(t,e){return t.transaction([Jo],e?"readwrite":"readonly").objectStore(Jo)}function Dk(){const t=indexedDB.deleteDatabase(p_);return new Oa(t).toPromise()}function qd(){const t=indexedDB.open(p_,Rk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jo,{keyPath:m_})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jo)?e(r):(r.close(),await Dk(),e(await qd()))})})}async function dm(t,e,n){const r=Uc(t,!0).put({[m_]:e,value:n});return new Oa(r).toPromise()}async function xk(t,e){const n=Uc(t,!1).get(e),r=await new Oa(n).toPromise();return r===void 0?null:r.value}function um(t,e){const n=Uc(t,!0).delete(e);return new Oa(n).toPromise()}const Nk=800,Mk=3;class g_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Mk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fc._getInstance(Sk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await kk(),!this.activeServiceWorker)return;this.sender=new Ik(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qd();return await dm(e,Yo,"1"),await um(e,Yo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dm(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>um(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Uc(s,!1).getAll();return new Oa(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g_.type="LOCAL";const Vk=g_;new Ma(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e){return e?nr(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends o_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ok(t){return gk(t.auth,new mh(t),t.bypassAuthState)}function Lk(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),mk(n,new mh(t),t.bypassAuthState)}async function Fk(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),pk(n,new mh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ok;case"linkViaPopup":case"linkViaRedirect":return Fk;case"reauthViaPopup":case"reauthViaRedirect":return Lk;default:qn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new Ma(2e3,1e4);async function Wk(t,e,n){if(cn(t.app))return Promise.reject(bn(t,"operation-not-supported-in-this-environment"));const r=Lc(t);MC(t,e,fh);const s=v_(r,n);return new ds(r,"signInViaPopup",e,s).executeNotNull()}class ds extends y_{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ds.currentPopupAction&&ds.currentPopupAction.cancel(),ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=ph();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Uk.get())};e()}}ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="pendingRedirect",ko=new Map;class Bk extends y_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ko.get(this.auth._key());if(!e){try{const r=await Hk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ko.set(this.auth._key(),e)}return this.bypassAuthState||ko.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hk(t,e){const n=zk(e),r=$k(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function jk(t,e){ko.set(t._key(),e)}function $k(t){return nr(t._redirectPersistence)}function zk(t){return Co(qk,t.config.apiKey,t.name)}async function Gk(t,e,n=!1){if(cn(t.app))return Promise.reject(ps(t));const r=Lc(t),s=v_(r,e),a=await new Bk(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=10*60*1e3;class Qk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!__(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kk&&this.cachedEventUids.clear(),this.cachedEventUids.has(hm(e))}saveEventToCache(e){this.cachedEventUids.add(hm(e)),this.lastProcessedEventTime=Date.now()}}function hm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function __({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Zk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return __(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e={}){return pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xk=/^https?/;async function eP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Yk(t);for(const n of e)try{if(tP(n))return}catch{}qn(t,"unauthorized-domain")}function tP(t){const e=Ud(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Xk.test(n))return!1;if(Jk.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Ma(3e4,6e4);function fm(){const t=On().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rP(t){return new Promise((e,n)=>{var s,i,a;function r(){fm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fm(),n(bn(t,"network-request-failed"))},timeout:nP.get()})}if((i=(s=On().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=On().gapi)!=null&&a.load)r();else{const o=ok("iframefcb");return On()[o]=()=>{gapi.load?r():n(bn(t,"network-request-failed"))},ik(`${ak()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Po=null,e})}let Po=null;function sP(t){return Po=Po||rP(t),Po}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new Ma(5e3,15e3),aP="__/auth/iframe",oP="emulator/auth/iframe",cP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dP(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ch(e,oP):`https://${t.config.authDomain}/${aP}`,r={apiKey:e.apiKey,appName:t.name,v:Ts},s=lP.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ca(r).slice(1)}`}async function uP(t){const e=await sP(t),n=On().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:dP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=bn(t,"network-request-failed"),o=On().setTimeout(()=>{i(a)},iP.get());function l(){On().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fP=500,pP=600,mP="_blank",gP="http://localhost";class pm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vP(t,e,n,r=fP,s=pP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...hP,width:r.toString(),height:s.toString(),top:i,left:a},d=xt().toLowerCase();n&&(o=Xy(d)?mP:n),Yy(d)&&(e=e||gP,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[_,P])=>`${g}${_}=${P},`,"");if(YC(d)&&o!=="_self")return yP(e||"",o),new pm(null);const f=window.open(e||"",o,h);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new pm(f)}function yP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="__/auth/handler",bP="emulator/auth/handler",wP=encodeURIComponent("fac");async function mm(t,e,n,r,s,i){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:s};if(e instanceof fh){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Yb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof Va){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),d=l?`#${wP}=${encodeURIComponent(l)}`:"";return`${TP(t)}?${Ca(o).slice(1)}${d}`}function TP({config:t}){return t.emulator?ch(t,bP):`https://${t.authDomain}/${_P}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="webStorageSupport";class EP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h_,this._completeRedirectFn=Gk,this._overrideRedirectResult=jk}async _openPopup(e,n,r,s){var a;lr((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await mm(e,n,r,Ud(),s);return vP(e,i,ph())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await mm(e,n,r,Ud(),s);return Ck(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(lr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uP(e),r=new Qk(e);return n.register("authEvent",s=>(ge(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zl,{type:Zl},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[Zl];i!==void 0&&n(!!i),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return s_()||Jy()||uh()}}const AP=EP;var gm="@firebase/auth",vm="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kP(t){ar(new Un("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i_(t)},d=new rk(r,s,i,l);return lk(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ar(new Un("auth-internal",e=>{const n=Lc(e.getProvider("auth").getImmediate());return(r=>new IP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yn(gm,vm,CP(t)),yn(gm,vm,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=5*60,SP=Dg("authIdTokenMaxAge")||PP;let ym=null;const RP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SP)return;const s=n==null?void 0:n.token;ym!==s&&(ym=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function DP(t=pc()){const e=ci(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ck(t,{popupRedirectResolver:AP,persistence:[Vk,Ek,h_]}),r=Dg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=RP(i.toString());yk(n,a,()=>a(n.currentUser)),vk(n,o=>a(o))}}const s=Pg("auth");return s&&dk(n,`http://${s}`),n}function xP(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}sk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=bn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",xP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kP("Browser");const NP={apiKey:"AIzaSyARLC8IjRmP6Ql8n0ANWIoEJnh6CGr464Y",authDomain:"wanderwonderworld-dubai.firebaseapp.com",projectId:"wanderwonderworld-dubai",storageBucket:"wanderwonderworld-dubai.appspot.com",messagingSenderId:"876940740226",appId:"1:876940740226:web:6f41fda5138417445e169b",measurementId:"G-S72DXQQ3KP"},Wc=Bf().length?Bf()[0]:Vg(NP);try{typeof window<"u"&&YT(Wc,{provider:new hu("6Lex4scrAAAAADOC7a-lD9DCgKuDWU3iWvQK7KiI"),isTokenAutoRefreshEnabled:!0})}catch(t){console.warn("AppCheck init skipped:",t)}const Is=XA(Wc),MP=PC(Wc),gh=DP(Wc),VP=new Jn,j5=()=>Wk(gh,VP),$5=()=>bk(gh),z5=t=>_k(gh,t),b_=Dc(Is,"site","content");async function G5(){const t=await pI(b_);return t.exists()?t.data():{}}async function K5(t){await gI(b_,{...t,updatedAt:Na()},{merge:!0})}async function Q5(t,e=`images/site/${t.name}`){const n=kC(MP,e);return await IC(n,t),CC(n)}const w_=Rc(Is,"news");function Z5(t,{size:e=100}={}){const n=lI(w_,dI("createdAt","desc"),uI(e));return vI(n,r=>{const s=r.docs.map(i=>({id:i.id,...i.data()})).filter(i=>!i.deleted);t(s)})}async function Y5(t){return Xu(w_,{...t,createdAt:Na()})}async function J5(t,e){return Iy(Dc(Is,"news",t),{...e,updatedAt:Na()})}async function X5(t){return Iy(Dc(Is,"news",t),{deleted:!0,deletedAt:Na()})}const OP=Rc(Is,"enquiries");async function LP(t){return Xu(OP,{...t,status:"new",createdAt:Na()})}async function FP({to:t,subject:e,html:n,text:r,replyTo:s}){const i={to:Array.isArray(t)?t:[t],message:{subject:e||""}};return n&&(i.message.html=n),r&&(i.message.text=r),s&&(i.replyTo=Array.isArray(s)?String(s[0]):String(s)),Xu(Rc(Is,"mail"),i)}/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vh(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Fe={},$s=[],Ln=()=>{},T_=()=>!1,qc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),yh=t=>t.startsWith("onUpdate:"),ft=Object.assign,_h=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},UP=Object.prototype.hasOwnProperty,Me=(t,e)=>UP.call(t,e),de=Array.isArray,zs=t=>La(t)==="[object Map]",mi=t=>La(t)==="[object Set]",_m=t=>La(t)==="[object Date]",ye=t=>typeof t=="function",it=t=>typeof t=="string",Bn=t=>typeof t=="symbol",Ue=t=>t!==null&&typeof t=="object",E_=t=>(Ue(t)||ye(t))&&ye(t.then)&&ye(t.catch),A_=Object.prototype.toString,La=t=>A_.call(t),WP=t=>La(t).slice(8,-1),I_=t=>La(t)==="[object Object]",bh=t=>it(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zi=vh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},qP=/-\w/g,un=Bc(t=>t.replace(qP,e=>e.slice(1).toUpperCase())),BP=/\B([A-Z])/g,Cs=Bc(t=>t.replace(BP,"-$1").toLowerCase()),Hc=Bc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Yl=Bc(t=>t?`on${Hc(t)}`:""),Lr=(t,e)=>!Object.is(t,e),So=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},C_=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Xo=t=>{const e=parseFloat(t);return isNaN(e)?t:e},HP=t=>{const e=it(t)?Number(t):NaN;return isNaN(e)?t:e};let bm;const jc=()=>bm||(bm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wh(t){if(de(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=it(r)?GP(r):wh(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(it(t)||Ue(t))return t}const jP=/;(?![^(]*\))/g,$P=/:([^]+)/,zP=/\/\*[^]*?\*\//g;function GP(t){const e={};return t.replace(zP,"").split(jP).forEach(n=>{if(n){const r=n.split($P);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function tn(t){let e="";if(it(t))e=t;else if(de(t))for(let n=0;n<t.length;n++){const r=tn(t[n]);r&&(e+=r+" ")}else if(Ue(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const KP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",QP=vh(KP);function k_(t){return!!t||t===""}function ZP(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Fa(t[r],e[r]);return n}function Fa(t,e){if(t===e)return!0;let n=_m(t),r=_m(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Bn(t),r=Bn(e),n||r)return t===e;if(n=de(t),r=de(e),n||r)return n&&r?ZP(t,e):!1;if(n=Ue(t),r=Ue(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!Fa(t[a],e[a]))return!1}}return String(t)===String(e)}function Th(t,e){return t.findIndex(n=>Fa(n,e))}const P_=t=>!!(t&&t.__v_isRef===!0),oe=t=>it(t)?t:t==null?"":de(t)||Ue(t)&&(t.toString===A_||!ye(t.toString))?P_(t)?oe(t.value):JSON.stringify(t,S_,2):String(t),S_=(t,e)=>P_(e)?S_(t,e.value):zs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Jl(r,i)+" =>"]=s,n),{})}:mi(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Jl(n))}:Bn(e)?Jl(e):Ue(e)&&!de(e)&&!I_(e)?String(e):e,Jl=(t,e="")=>{var n;return Bn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let kt;class R_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=kt,!e&&kt&&(this.index=(kt.scopes||(kt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=kt;try{return kt=this,e()}finally{kt=n}}}on(){++this._on===1&&(this.prevScope=kt,kt=this)}off(){this._on>0&&--this._on===0&&(kt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function D_(t){return new R_(t)}function x_(){return kt}function YP(t,e=!1){kt&&kt.cleanups.push(t)}let We;const Xl=new WeakSet;class N_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,kt&&kt.active&&kt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xl.has(this)&&(Xl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||V_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wm(this),O_(this);const e=We,n=wn;We=this,wn=!0;try{return this.fn()}finally{L_(this),We=e,wn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ih(e);this.deps=this.depsTail=void 0,wm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Bd(this)&&this.run()}get dirty(){return Bd(this)}}let M_=0,Gi,Ki;function V_(t,e=!1){if(t.flags|=8,e){t.next=Ki,Ki=t;return}t.next=Gi,Gi=t}function Eh(){M_++}function Ah(){if(--M_>0)return;if(Ki){let e=Ki;for(Ki=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Gi;){let e=Gi;for(Gi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function O_(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function L_(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Ih(r),JP(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Bd(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(F_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function F_(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ga)||(t.globalVersion=ga,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Bd(t))))return;t.flags|=2;const e=t.dep,n=We,r=wn;We=t,wn=!0;try{O_(t);const s=t.fn(t._value);(e.version===0||Lr(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{We=n,wn=r,L_(t),t.flags&=-3}}function Ih(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ih(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function JP(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let wn=!0;const U_=[];function dr(){U_.push(wn),wn=!1}function ur(){const t=U_.pop();wn=t===void 0?!0:t}function wm(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=We;We=void 0;try{e()}finally{We=n}}}let ga=0;class XP{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ch{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!We||!wn||We===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==We)n=this.activeLink=new XP(We,this),We.deps?(n.prevDep=We.depsTail,We.depsTail.nextDep=n,We.depsTail=n):We.deps=We.depsTail=n,W_(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=We.depsTail,n.nextDep=void 0,We.depsTail.nextDep=n,We.depsTail=n,We.deps===n&&(We.deps=r)}return n}trigger(e){this.version++,ga++,this.notify(e)}notify(e){Eh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ah()}}}function W_(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)W_(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ec=new WeakMap,ms=Symbol(""),Hd=Symbol(""),va=Symbol("");function Rt(t,e,n){if(wn&&We){let r=ec.get(t);r||ec.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Ch),s.map=r,s.key=n),s.track()}}function Xn(t,e,n,r,s,i){const a=ec.get(t);if(!a){ga++;return}const o=l=>{l&&l.trigger()};if(Eh(),e==="clear")a.forEach(o);else{const l=de(t),d=l&&bh(n);if(l&&n==="length"){const h=Number(r);a.forEach((f,g)=>{(g==="length"||g===va||!Bn(g)&&g>=h)&&o(f)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),d&&o(a.get(va)),e){case"add":l?d&&o(a.get("length")):(o(a.get(ms)),zs(t)&&o(a.get(Hd)));break;case"delete":l||(o(a.get(ms)),zs(t)&&o(a.get(Hd)));break;case"set":zs(t)&&o(a.get(ms));break}}Ah()}function eS(t,e){const n=ec.get(t);return n&&n.get(e)}function xs(t){const e=Se(t);return e===t?e:(Rt(e,"iterate",va),dn(t)?e:e.map(bt))}function $c(t){return Rt(t=Se(t),"iterate",va),t}const tS={__proto__:null,[Symbol.iterator](){return ed(this,Symbol.iterator,bt)},concat(...t){return xs(this).concat(...t.map(e=>de(e)?xs(e):e))},entries(){return ed(this,"entries",t=>(t[1]=bt(t[1]),t))},every(t,e){return Gn(this,"every",t,e,void 0,arguments)},filter(t,e){return Gn(this,"filter",t,e,n=>n.map(bt),arguments)},find(t,e){return Gn(this,"find",t,e,bt,arguments)},findIndex(t,e){return Gn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Gn(this,"findLast",t,e,bt,arguments)},findLastIndex(t,e){return Gn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Gn(this,"forEach",t,e,void 0,arguments)},includes(...t){return td(this,"includes",t)},indexOf(...t){return td(this,"indexOf",t)},join(t){return xs(this).join(t)},lastIndexOf(...t){return td(this,"lastIndexOf",t)},map(t,e){return Gn(this,"map",t,e,void 0,arguments)},pop(){return Ri(this,"pop")},push(...t){return Ri(this,"push",t)},reduce(t,...e){return Tm(this,"reduce",t,e)},reduceRight(t,...e){return Tm(this,"reduceRight",t,e)},shift(){return Ri(this,"shift")},some(t,e){return Gn(this,"some",t,e,void 0,arguments)},splice(...t){return Ri(this,"splice",t)},toReversed(){return xs(this).toReversed()},toSorted(t){return xs(this).toSorted(t)},toSpliced(...t){return xs(this).toSpliced(...t)},unshift(...t){return Ri(this,"unshift",t)},values(){return ed(this,"values",bt)}};function ed(t,e,n){const r=$c(t),s=r[e]();return r!==t&&!dn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const nS=Array.prototype;function Gn(t,e,n,r,s,i){const a=$c(t),o=a!==t&&!dn(t),l=a[e];if(l!==nS[e]){const f=l.apply(t,i);return o?bt(f):f}let d=n;a!==t&&(o?d=function(f,g){return n.call(this,bt(f),g,t)}:n.length>2&&(d=function(f,g){return n.call(this,f,g,t)}));const h=l.call(a,d,r);return o&&s?s(h):h}function Tm(t,e,n,r){const s=$c(t);let i=n;return s!==t&&(dn(t)?n.length>3&&(i=function(a,o,l){return n.call(this,a,o,l,t)}):i=function(a,o,l){return n.call(this,a,bt(o),l,t)}),s[e](i,...r)}function td(t,e,n){const r=Se(t);Rt(r,"iterate",va);const s=r[e](...n);return(s===-1||s===!1)&&Sh(n[0])?(n[0]=Se(n[0]),r[e](...n)):s}function Ri(t,e,n=[]){dr(),Eh();const r=Se(t)[e].apply(t,n);return Ah(),ur(),r}const rS=vh("__proto__,__v_isRef,__isVue"),q_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bn));function sS(t){Bn(t)||(t=String(t));const e=Se(this);return Rt(e,"has",t),e.hasOwnProperty(t)}class B_{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?pS:z_:i?$_:j_).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=de(e);if(!s){let l;if(a&&(l=tS[n]))return l;if(n==="hasOwnProperty")return sS}const o=Reflect.get(e,n,st(e)?e:r);return(Bn(n)?q_.has(n):rS(n))||(s||Rt(e,"get",n),i)?o:st(o)?a&&bh(n)?o:o.value:Ue(o)?s?K_(o):Ua(o):o}}class H_ extends B_{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Gr(i);if(!dn(r)&&!Gr(r)&&(i=Se(i),r=Se(r)),!de(e)&&st(i)&&!st(r))return l||(i.value=r),!0}const a=de(e)&&bh(n)?Number(n)<e.length:Me(e,n),o=Reflect.set(e,n,r,st(e)?e:s);return e===Se(s)&&(a?Lr(r,i)&&Xn(e,"set",n,r):Xn(e,"add",n,r)),o}deleteProperty(e,n){const r=Me(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Xn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Bn(n)||!q_.has(n))&&Rt(e,"has",n),r}ownKeys(e){return Rt(e,"iterate",de(e)?"length":ms),Reflect.ownKeys(e)}}class iS extends B_{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const aS=new H_,oS=new iS,cS=new H_(!0);const jd=t=>t,mo=t=>Reflect.getPrototypeOf(t);function lS(t,e,n){return function(...r){const s=this.__v_raw,i=Se(s),a=zs(i),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,d=s[t](...r),h=n?jd:e?tc:bt;return!e&&Rt(i,"iterate",l?Hd:ms),{next(){const{value:f,done:g}=d.next();return g?{value:f,done:g}:{value:o?[h(f[0]),h(f[1])]:h(f),done:g}},[Symbol.iterator](){return this}}}}function go(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function dS(t,e){const n={get(s){const i=this.__v_raw,a=Se(i),o=Se(s);t||(Lr(s,o)&&Rt(a,"get",s),Rt(a,"get",o));const{has:l}=mo(a),d=e?jd:t?tc:bt;if(l.call(a,s))return d(i.get(s));if(l.call(a,o))return d(i.get(o));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Rt(Se(s),"iterate",ms),s.size},has(s){const i=this.__v_raw,a=Se(i),o=Se(s);return t||(Lr(s,o)&&Rt(a,"has",s),Rt(a,"has",o)),s===o?i.has(s):i.has(s)||i.has(o)},forEach(s,i){const a=this,o=a.__v_raw,l=Se(o),d=e?jd:t?tc:bt;return!t&&Rt(l,"iterate",ms),o.forEach((h,f)=>s.call(i,d(h),d(f),a))}};return ft(n,t?{add:go("add"),set:go("set"),delete:go("delete"),clear:go("clear")}:{add(s){!e&&!dn(s)&&!Gr(s)&&(s=Se(s));const i=Se(this);return mo(i).has.call(i,s)||(i.add(s),Xn(i,"add",s,s)),this},set(s,i){!e&&!dn(i)&&!Gr(i)&&(i=Se(i));const a=Se(this),{has:o,get:l}=mo(a);let d=o.call(a,s);d||(s=Se(s),d=o.call(a,s));const h=l.call(a,s);return a.set(s,i),d?Lr(i,h)&&Xn(a,"set",s,i):Xn(a,"add",s,i),this},delete(s){const i=Se(this),{has:a,get:o}=mo(i);let l=a.call(i,s);l||(s=Se(s),l=a.call(i,s)),o&&o.call(i,s);const d=i.delete(s);return l&&Xn(i,"delete",s,void 0),d},clear(){const s=Se(this),i=s.size!==0,a=s.clear();return i&&Xn(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=lS(s,t,e)}),n}function kh(t,e){const n=dS(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Me(n,s)&&s in r?n:r,s,i)}const uS={get:kh(!1,!1)},hS={get:kh(!1,!0)},fS={get:kh(!0,!1)};const j_=new WeakMap,$_=new WeakMap,z_=new WeakMap,pS=new WeakMap;function mS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gS(t){return t.__v_skip||!Object.isExtensible(t)?0:mS(WP(t))}function Ua(t){return Gr(t)?t:Ph(t,!1,aS,uS,j_)}function G_(t){return Ph(t,!1,cS,hS,$_)}function K_(t){return Ph(t,!0,oS,fS,z_)}function Ph(t,e,n,r,s){if(!Ue(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=gS(t);if(i===0)return t;const a=s.get(t);if(a)return a;const o=new Proxy(t,i===2?r:n);return s.set(t,o),o}function Fr(t){return Gr(t)?Fr(t.__v_raw):!!(t&&t.__v_isReactive)}function Gr(t){return!!(t&&t.__v_isReadonly)}function dn(t){return!!(t&&t.__v_isShallow)}function Sh(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function Rh(t){return!Me(t,"__v_skip")&&Object.isExtensible(t)&&C_(t,"__v_skip",!0),t}const bt=t=>Ue(t)?Ua(t):t,tc=t=>Ue(t)?K_(t):t;function st(t){return t?t.__v_isRef===!0:!1}function ri(t){return Q_(t,!1)}function vS(t){return Q_(t,!0)}function Q_(t,e){return st(t)?t:new yS(t,e)}class yS{constructor(e,n){this.dep=new Ch,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Se(e),this._value=n?e:bt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||dn(e)||Gr(e);e=r?e:Se(e),Lr(e,n)&&(this._rawValue=e,this._value=r?e:bt(e),this.dep.trigger())}}function Gs(t){return st(t)?t.value:t}const _S={get:(t,e,n)=>e==="__v_raw"?t:Gs(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return st(s)&&!st(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Z_(t){return Fr(t)?t:new Proxy(t,_S)}function bS(t){const e=de(t)?new Array(t.length):{};for(const n in t)e[n]=TS(t,n);return e}class wS{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return eS(Se(this._object),this._key)}}function TS(t,e,n){const r=t[e];return st(r)?r:new wS(t,e,n)}class ES{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ch(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ga-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&We!==this)return V_(this,!0),!0}get value(){const e=this.dep.track();return F_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function AS(t,e,n=!1){let r,s;return ye(t)?r=t:(r=t.get,s=t.set),new ES(r,s,n)}const vo={},nc=new WeakMap;let os;function IS(t,e=!1,n=os){if(n){let r=nc.get(n);r||nc.set(n,r=[]),r.push(t)}}function CS(t,e,n=Fe){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:o,call:l}=n,d=D=>s?D:dn(D)||s===!1||s===0?er(D,1):er(D);let h,f,g,_,P=!1,x=!1;if(st(t)?(f=()=>t.value,P=dn(t)):Fr(t)?(f=()=>d(t),P=!0):de(t)?(x=!0,P=t.some(D=>Fr(D)||dn(D)),f=()=>t.map(D=>{if(st(D))return D.value;if(Fr(D))return d(D);if(ye(D))return l?l(D,2):D()})):ye(t)?e?f=l?()=>l(t,2):t:f=()=>{if(g){dr();try{g()}finally{ur()}}const D=os;os=h;try{return l?l(t,3,[_]):t(_)}finally{os=D}}:f=Ln,e&&s){const D=f,K=s===!0?1/0:s;f=()=>er(D(),K)}const N=x_(),H=()=>{h.stop(),N&&N.active&&_h(N.effects,h)};if(i&&e){const D=e;e=(...K)=>{D(...K),H()}}let L=x?new Array(t.length).fill(vo):vo;const $=D=>{if(!(!(h.flags&1)||!h.dirty&&!D))if(e){const K=h.run();if(s||P||(x?K.some((G,E)=>Lr(G,L[E])):Lr(K,L))){g&&g();const G=os;os=h;try{const E=[K,L===vo?void 0:x&&L[0]===vo?[]:L,_];L=K,l?l(e,3,E):e(...E)}finally{os=G}}}else h.run()};return o&&o($),h=new N_(f),h.scheduler=a?()=>a($,!1):$,_=D=>IS(D,!1,h),g=h.onStop=()=>{const D=nc.get(h);if(D){if(l)l(D,4);else for(const K of D)K();nc.delete(h)}},e?r?$(!0):L=h.run():a?a($.bind(null,!0),!0):h.run(),H.pause=h.pause.bind(h),H.resume=h.resume.bind(h),H.stop=H,H}function er(t,e=1/0,n){if(e<=0||!Ue(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,st(t))er(t.value,e,n);else if(de(t))for(let r=0;r<t.length;r++)er(t[r],e,n);else if(mi(t)||zs(t))t.forEach(r=>{er(r,e,n)});else if(I_(t)){for(const r in t)er(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&er(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wa(t,e,n,r){try{return r?t(...r):t()}catch(s){zc(s,e,n)}}function En(t,e,n,r){if(ye(t)){const s=Wa(t,e,n,r);return s&&E_(s)&&s.catch(i=>{zc(i,e,n)}),s}if(de(t)){const s=[];for(let i=0;i<t.length;i++)s.push(En(t[i],e,n,r));return s}}function zc(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Fe;if(e){let o=e.parent;const l=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const h=o.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,l,d)===!1)return}o=o.parent}if(i){dr(),Wa(i,null,10,[t,l,d]),ur();return}}kS(t,n,s,r,a)}function kS(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Lt=[];let Pn=-1;const Ks=[];let Er=null,Fs=0;const Y_=Promise.resolve();let rc=null;function Gc(t){const e=rc||Y_;return t?e.then(this?t.bind(this):t):e}function PS(t){let e=Pn+1,n=Lt.length;for(;e<n;){const r=e+n>>>1,s=Lt[r],i=ya(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Dh(t){if(!(t.flags&1)){const e=ya(t),n=Lt[Lt.length-1];!n||!(t.flags&2)&&e>=ya(n)?Lt.push(t):Lt.splice(PS(e),0,t),t.flags|=1,J_()}}function J_(){rc||(rc=Y_.then(e1))}function SS(t){de(t)?Ks.push(...t):Er&&t.id===-1?Er.splice(Fs+1,0,t):t.flags&1||(Ks.push(t),t.flags|=1),J_()}function Em(t,e,n=Pn+1){for(;n<Lt.length;n++){const r=Lt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Lt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function X_(t){if(Ks.length){const e=[...new Set(Ks)].sort((n,r)=>ya(n)-ya(r));if(Ks.length=0,Er){Er.push(...e);return}for(Er=e,Fs=0;Fs<Er.length;Fs++){const n=Er[Fs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Er=null,Fs=0}}const ya=t=>t.id==null?t.flags&2?-1:1/0:t.id;function e1(t){try{for(Pn=0;Pn<Lt.length;Pn++){const e=Lt[Pn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Wa(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Pn<Lt.length;Pn++){const e=Lt[Pn];e&&(e.flags&=-2)}Pn=-1,Lt.length=0,X_(),rc=null,(Lt.length||Ks.length)&&e1()}}let Jt=null,t1=null;function sc(t){const e=Jt;return Jt=t,t1=t&&t.type.__scopeId||null,e}function Ge(t,e=Jt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&oc(-1);const i=sc(e);let a;try{a=t(...s)}finally{sc(i),r._d&&oc(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Qt(t,e){if(Jt===null)return t;const n=Jc(Jt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,a,o,l=Fe]=e[s];i&&(ye(i)&&(i={mounted:i,updated:i}),i.deep&&er(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function ns(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];i&&(o.oldValue=i[a].value);let l=o.dir[r];l&&(dr(),En(l,n,8,[t.el,o,t,e]),ur())}}const RS=Symbol("_vte"),n1=t=>t.__isTeleport,Yn=Symbol("_leaveCb"),yo=Symbol("_enterCb");function DS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return u1(()=>{t.isMounted=!0}),h1(()=>{t.isUnmounting=!0}),t}const an=[Function,Array],r1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:an,onEnter:an,onAfterEnter:an,onEnterCancelled:an,onBeforeLeave:an,onLeave:an,onAfterLeave:an,onLeaveCancelled:an,onBeforeAppear:an,onAppear:an,onAfterAppear:an,onAppearCancelled:an},s1=t=>{const e=t.subTree;return e.component?s1(e.component):e},xS={name:"BaseTransition",props:r1,setup(t,{slots:e}){const n=Vh(),r=DS();return()=>{const s=e.default&&o1(e.default(),!0);if(!s||!s.length)return;const i=i1(s),a=Se(t),{mode:o}=a;if(r.isLeaving)return nd(i);const l=Am(i);if(!l)return nd(i);let d=$d(l,a,r,n,f=>d=f);l.type!==Ft&&_a(l,d);let h=n.subTree&&Am(n.subTree);if(h&&h.type!==Ft&&!cs(h,l)&&s1(n).type!==Ft){let f=$d(h,a,r,n);if(_a(h,f),o==="out-in"&&l.type!==Ft)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,h=void 0},nd(i);o==="in-out"&&l.type!==Ft?f.delayLeave=(g,_,P)=>{const x=a1(r,h);x[String(h.key)]=h,g[Yn]=()=>{_(),g[Yn]=void 0,delete d.delayedLeave,h=void 0},d.delayedLeave=()=>{P(),delete d.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function i1(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Ft){e=n;break}}return e}const NS=xS;function a1(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function $d(t,e,n,r,s){const{appear:i,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:g,onLeave:_,onAfterLeave:P,onLeaveCancelled:x,onBeforeAppear:N,onAppear:H,onAfterAppear:L,onAppearCancelled:$}=e,D=String(t.key),K=a1(n,t),G=(b,A)=>{b&&En(b,r,9,A)},E=(b,A)=>{const k=A[1];G(b,A),de(b)?b.every(I=>I.length<=1)&&k():b.length<=1&&k()},y={mode:a,persisted:o,beforeEnter(b){let A=l;if(!n.isMounted)if(i)A=N||l;else return;b[Yn]&&b[Yn](!0);const k=K[D];k&&cs(t,k)&&k.el[Yn]&&k.el[Yn](),G(A,[b])},enter(b){let A=d,k=h,I=f;if(!n.isMounted)if(i)A=H||d,k=L||h,I=$||f;else return;let w=!1;const xe=b[yo]=tt=>{w||(w=!0,tt?G(I,[b]):G(k,[b]),y.delayedLeave&&y.delayedLeave(),b[yo]=void 0)};A?E(A,[b,xe]):xe()},leave(b,A){const k=String(t.key);if(b[yo]&&b[yo](!0),n.isUnmounting)return A();G(g,[b]);let I=!1;const w=b[Yn]=xe=>{I||(I=!0,A(),xe?G(x,[b]):G(P,[b]),b[Yn]=void 0,K[k]===t&&delete K[k])};K[k]=t,_?E(_,[b,w]):w()},clone(b){const A=$d(b,e,n,r,s);return s&&s(A),A}};return y}function nd(t){if(Kc(t))return t=Kr(t),t.children=null,t}function Am(t){if(!Kc(t))return n1(t.type)&&t.children?i1(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ye(n.default))return n.default()}}function _a(t,e){t.shapeFlag&6&&t.component?(t.transition=e,_a(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function o1(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let a=t[i];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===je?(a.patchFlag&128&&s++,r=r.concat(o1(a.children,e,o))):(e||a.type!==Ft)&&r.push(o!=null?Kr(a,{key:o}):a)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function c1(t,e){return ye(t)?ft({name:t.name},e,{setup:t}):t}function l1(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ic=new WeakMap;function Qi(t,e,n,r,s=!1){if(de(t)){t.forEach((P,x)=>Qi(P,e&&(de(e)?e[x]:e),n,r,s));return}if(Zi(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Qi(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Jc(r.component):r.el,a=s?null:i,{i:o,r:l}=t,d=e&&e.r,h=o.refs===Fe?o.refs={}:o.refs,f=o.setupState,g=Se(f),_=f===Fe?T_:P=>Me(g,P);if(d!=null&&d!==l){if(Im(e),it(d))h[d]=null,_(d)&&(f[d]=null);else if(st(d)){d.value=null;const P=e;P.k&&(h[P.k]=null)}}if(ye(l))Wa(l,o,12,[a,h]);else{const P=it(l),x=st(l);if(P||x){const N=()=>{if(t.f){const H=P?_(l)?f[l]:h[l]:l.value;if(s)de(H)&&_h(H,i);else if(de(H))H.includes(i)||H.push(i);else if(P)h[l]=[i],_(l)&&(f[l]=h[l]);else{const L=[i];l.value=L,t.k&&(h[t.k]=L)}}else P?(h[l]=a,_(l)&&(f[l]=a)):x&&(l.value=a,t.k&&(h[t.k]=a))};if(a){const H=()=>{N(),ic.delete(t)};H.id=-1,ic.set(t,H),Kt(H,n)}else Im(t),N()}}}function Im(t){const e=ic.get(t);e&&(e.flags|=8,ic.delete(t))}jc().requestIdleCallback;jc().cancelIdleCallback;const Zi=t=>!!t.type.__asyncLoader,Kc=t=>t.type.__isKeepAlive;function MS(t,e){d1(t,"a",e)}function VS(t,e){d1(t,"da",e)}function d1(t,e,n=Dt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Qc(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Kc(s.parent.vnode)&&OS(r,e,n,s),s=s.parent}}function OS(t,e,n,r){const s=Qc(e,t,r,!0);f1(()=>{_h(r[e],s)},n)}function Qc(t,e,n=Dt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...a)=>{dr();const o=qa(n),l=En(e,n,t,a);return o(),ur(),l});return r?s.unshift(i):s.push(i),i}}const fr=t=>(e,n=Dt)=>{(!wa||t==="sp")&&Qc(t,(...r)=>e(...r),n)},LS=fr("bm"),u1=fr("m"),FS=fr("bu"),US=fr("u"),h1=fr("bum"),f1=fr("um"),WS=fr("sp"),qS=fr("rtg"),BS=fr("rtc");function HS(t,e=Dt){Qc("ec",t,e)}const jS="components";function lt(t,e){return zS(jS,t,!0,e)||t}const $S=Symbol.for("v-ndc");function zS(t,e,n=!0,r=!1){const s=Jt||Dt;if(s){const i=s.type;{const o=M2(i,!1);if(o&&(o===e||o===un(e)||o===Hc(un(e))))return i}const a=Cm(s[t]||i[t],e)||Cm(s.appContext[t],e);return!a&&r?i:a}}function Cm(t,e){return t&&(t[e]||t[un(e)]||t[Hc(un(e))])}function Ut(t,e,n,r){let s;const i=n,a=de(t);if(a||it(t)){const o=a&&Fr(t);let l=!1,d=!1;o&&(l=!dn(t),d=Gr(t),t=$c(t)),s=new Array(t.length);for(let h=0,f=t.length;h<f;h++)s[h]=e(l?d?tc(bt(t[h])):bt(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i)}else if(Ue(t))if(t[Symbol.iterator])s=Array.from(t,(o,l)=>e(o,l,void 0,i));else{const o=Object.keys(t);s=new Array(o.length);for(let l=0,d=o.length;l<d;l++){const h=o[l];s[l]=e(t[h],h,l,i)}}else s=[];return s}const zd=t=>t?N1(t)?Jc(t):zd(t.parent):null,Yi=ft(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>zd(t.parent),$root:t=>zd(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>m1(t),$forceUpdate:t=>t.f||(t.f=()=>{Dh(t.update)}),$nextTick:t=>t.n||(t.n=Gc.bind(t.proxy)),$watch:t=>p2.bind(t)}),rd=(t,e)=>t!==Fe&&!t.__isScriptSetup&&Me(t,e),GS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:o,appContext:l}=t;let d;if(e[0]!=="$"){const _=a[e];if(_!==void 0)switch(_){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(rd(r,e))return a[e]=1,r[e];if(s!==Fe&&Me(s,e))return a[e]=2,s[e];if((d=t.propsOptions[0])&&Me(d,e))return a[e]=3,i[e];if(n!==Fe&&Me(n,e))return a[e]=4,n[e];Gd&&(a[e]=0)}}const h=Yi[e];let f,g;if(h)return e==="$attrs"&&Rt(t.attrs,"get",""),h(t);if((f=o.__cssModules)&&(f=f[e]))return f;if(n!==Fe&&Me(n,e))return a[e]=4,n[e];if(g=l.config.globalProperties,Me(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return rd(s,e)?(s[e]=n,!0):r!==Fe&&Me(r,e)?(r[e]=n,!0):Me(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:a}},o){let l,d;return!!(n[o]||t!==Fe&&o[0]!=="$"&&Me(t,o)||rd(e,o)||(l=i[0])&&Me(l,o)||Me(r,o)||Me(Yi,o)||Me(s.config.globalProperties,o)||(d=a.__cssModules)&&d[o])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Me(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function km(t){return de(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Gd=!0;function KS(t){const e=m1(t),n=t.proxy,r=t.ctx;Gd=!1,e.beforeCreate&&Pm(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:a,watch:o,provide:l,inject:d,created:h,beforeMount:f,mounted:g,beforeUpdate:_,updated:P,activated:x,deactivated:N,beforeDestroy:H,beforeUnmount:L,destroyed:$,unmounted:D,render:K,renderTracked:G,renderTriggered:E,errorCaptured:y,serverPrefetch:b,expose:A,inheritAttrs:k,components:I,directives:w,filters:xe}=e;if(d&&QS(d,r,null),a)for(const me in a){const Ee=a[me];ye(Ee)&&(r[me]=Ee.bind(n))}if(s){const me=s.call(n,n);Ue(me)&&(t.data=Ua(me))}if(Gd=!0,i)for(const me in i){const Ee=i[me],zt=ye(Ee)?Ee.bind(n,n):ye(Ee.get)?Ee.get.bind(n,n):Ln,mn=!ye(Ee)&&ye(Ee.set)?Ee.set.bind(n):Ln,nn=Ye({get:zt,set:mn});Object.defineProperty(r,me,{enumerable:!0,configurable:!0,get:()=>nn.value,set:$e=>nn.value=$e})}if(o)for(const me in o)p1(o[me],r,n,me);if(l){const me=ye(l)?l.call(n):l;Reflect.ownKeys(me).forEach(Ee=>{Ro(Ee,me[Ee])})}h&&Pm(h,t,"c");function Oe(me,Ee){de(Ee)?Ee.forEach(zt=>me(zt.bind(n))):Ee&&me(Ee.bind(n))}if(Oe(LS,f),Oe(u1,g),Oe(FS,_),Oe(US,P),Oe(MS,x),Oe(VS,N),Oe(HS,y),Oe(BS,G),Oe(qS,E),Oe(h1,L),Oe(f1,D),Oe(WS,b),de(A))if(A.length){const me=t.exposed||(t.exposed={});A.forEach(Ee=>{Object.defineProperty(me,Ee,{get:()=>n[Ee],set:zt=>n[Ee]=zt,enumerable:!0})})}else t.exposed||(t.exposed={});K&&t.render===Ln&&(t.render=K),k!=null&&(t.inheritAttrs=k),I&&(t.components=I),w&&(t.directives=w),b&&l1(t)}function QS(t,e,n=Ln){de(t)&&(t=Kd(t));for(const r in t){const s=t[r];let i;Ue(s)?"default"in s?i=Fn(s.from||r,s.default,!0):i=Fn(s.from||r):i=Fn(s),st(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[r]=i}}function Pm(t,e,n){En(de(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function p1(t,e,n,r){let s=r.includes(".")?P1(n,r):()=>n[r];if(it(t)){const i=e[t];ye(i)&&Qs(s,i)}else if(ye(t))Qs(s,t.bind(n));else if(Ue(t))if(de(t))t.forEach(i=>p1(i,e,n,r));else{const i=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(i)&&Qs(s,i,t)}}function m1(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,o=i.get(e);let l;return o?l=o:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(d=>ac(l,d,a,!0)),ac(l,e,a)),Ue(e)&&i.set(e,l),l}function ac(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&ac(t,i,n,!0),s&&s.forEach(a=>ac(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const o=ZS[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const ZS={data:Sm,props:Rm,emits:Rm,methods:Fi,computed:Fi,beforeCreate:Ot,created:Ot,beforeMount:Ot,mounted:Ot,beforeUpdate:Ot,updated:Ot,beforeDestroy:Ot,beforeUnmount:Ot,destroyed:Ot,unmounted:Ot,activated:Ot,deactivated:Ot,errorCaptured:Ot,serverPrefetch:Ot,components:Fi,directives:Fi,watch:JS,provide:Sm,inject:YS};function Sm(t,e){return e?t?function(){return ft(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function YS(t,e){return Fi(Kd(t),Kd(e))}function Kd(t){if(de(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ot(t,e){return t?[...new Set([].concat(t,e))]:e}function Fi(t,e){return t?ft(Object.create(null),t,e):e}function Rm(t,e){return t?de(t)&&de(e)?[...new Set([...t,...e])]:ft(Object.create(null),km(t),km(e??{})):e}function JS(t,e){if(!t)return e;if(!e)return t;const n=ft(Object.create(null),t);for(const r in e)n[r]=Ot(t[r],e[r]);return n}function g1(){return{app:null,config:{isNativeTag:T_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let XS=0;function e2(t,e){return function(r,s=null){ye(r)||(r=ft({},r)),s!=null&&!Ue(s)&&(s=null);const i=g1(),a=new WeakSet,o=[];let l=!1;const d=i.app={_uid:XS++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:O2,get config(){return i.config},set config(h){},use(h,...f){return a.has(h)||(h&&ye(h.install)?(a.add(h),h.install(d,...f)):ye(h)&&(a.add(h),h(d,...f))),d},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),d},component(h,f){return f?(i.components[h]=f,d):i.components[h]},directive(h,f){return f?(i.directives[h]=f,d):i.directives[h]},mount(h,f,g){if(!l){const _=d._ceVNode||V(r,s);return _.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),t(_,h,g),l=!0,d._container=h,h.__vue_app__=d,Jc(_.component)}},onUnmount(h){o.push(h)},unmount(){l&&(En(o,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,f){return i.provides[h]=f,d},runWithContext(h){const f=gs;gs=d;try{return h()}finally{gs=f}}};return d}}let gs=null;function Ro(t,e){if(Dt){let n=Dt.provides;const r=Dt.parent&&Dt.parent.provides;r===n&&(n=Dt.provides=Object.create(r)),n[t]=e}}function Fn(t,e,n=!1){const r=Vh();if(r||gs){let s=gs?gs._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ye(e)?e.call(r&&r.proxy):e}}function t2(){return!!(Vh()||gs)}const v1={},y1=()=>Object.create(v1),_1=t=>Object.getPrototypeOf(t)===v1;function n2(t,e,n,r=!1){const s={},i=y1();t.propsDefaults=Object.create(null),b1(t,e,s,i);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=r?s:G_(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function r2(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=t,o=Se(s),[l]=t.propsOptions;let d=!1;if((r||a>0)&&!(a&16)){if(a&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let g=h[f];if(Zc(t.emitsOptions,g))continue;const _=e[g];if(l)if(Me(i,g))_!==i[g]&&(i[g]=_,d=!0);else{const P=un(g);s[P]=Qd(l,o,P,_,t,!1)}else _!==i[g]&&(i[g]=_,d=!0)}}}else{b1(t,e,s,i)&&(d=!0);let h;for(const f in o)(!e||!Me(e,f)&&((h=Cs(f))===f||!Me(e,h)))&&(l?n&&(n[f]!==void 0||n[h]!==void 0)&&(s[f]=Qd(l,o,f,void 0,t,!0)):delete s[f]);if(i!==o)for(const f in i)(!e||!Me(e,f))&&(delete i[f],d=!0)}d&&Xn(t.attrs,"set","")}function b1(t,e,n,r){const[s,i]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(zi(l))continue;const d=e[l];let h;s&&Me(s,h=un(l))?!i||!i.includes(h)?n[h]=d:(o||(o={}))[h]=d:Zc(t.emitsOptions,l)||(!(l in r)||d!==r[l])&&(r[l]=d,a=!0)}if(i){const l=Se(n),d=o||Fe;for(let h=0;h<i.length;h++){const f=i[h];n[f]=Qd(s,l,f,d[f],t,!Me(d,f))}}return a}function Qd(t,e,n,r,s,i){const a=t[n];if(a!=null){const o=Me(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ye(l)){const{propsDefaults:d}=s;if(n in d)r=d[n];else{const h=qa(s);r=d[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!o?r=!1:a[1]&&(r===""||r===Cs(n))&&(r=!0))}return r}const s2=new WeakMap;function w1(t,e,n=!1){const r=n?s2:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,a={},o=[];let l=!1;if(!ye(t)){const h=f=>{l=!0;const[g,_]=w1(f,e,!0);ft(a,g),_&&o.push(..._)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return Ue(t)&&r.set(t,$s),$s;if(de(i))for(let h=0;h<i.length;h++){const f=un(i[h]);Dm(f)&&(a[f]=Fe)}else if(i)for(const h in i){const f=un(h);if(Dm(f)){const g=i[h],_=a[f]=de(g)||ye(g)?{type:g}:ft({},g),P=_.type;let x=!1,N=!0;if(de(P))for(let H=0;H<P.length;++H){const L=P[H],$=ye(L)&&L.name;if($==="Boolean"){x=!0;break}else $==="String"&&(N=!1)}else x=ye(P)&&P.name==="Boolean";_[0]=x,_[1]=N,(x||Me(_,"default"))&&o.push(f)}}const d=[a,o];return Ue(t)&&r.set(t,d),d}function Dm(t){return t[0]!=="$"&&!zi(t)}const xh=t=>t==="_"||t==="_ctx"||t==="$stable",Nh=t=>de(t)?t.map(Rn):[Rn(t)],i2=(t,e,n)=>{if(e._n)return e;const r=Ge((...s)=>Nh(e(...s)),n);return r._c=!1,r},T1=(t,e,n)=>{const r=t._ctx;for(const s in t){if(xh(s))continue;const i=t[s];if(ye(i))e[s]=i2(s,i,r);else if(i!=null){const a=Nh(i);e[s]=()=>a}}},E1=(t,e)=>{const n=Nh(e);t.slots.default=()=>n},A1=(t,e,n)=>{for(const r in e)(n||!xh(r))&&(t[r]=e[r])},a2=(t,e,n)=>{const r=t.slots=y1();if(t.vnode.shapeFlag&32){const s=e._;s?(A1(r,e,n),n&&C_(r,"_",s,!0)):T1(e,r)}else e&&E1(t,e)},o2=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,a=Fe;if(r.shapeFlag&32){const o=e._;o?n&&o===1?i=!1:A1(s,e,n):(i=!e.$stable,T1(e,s)),a=e}else e&&(E1(t,e),a={default:1});if(i)for(const o in s)!xh(o)&&a[o]==null&&delete s[o]},Kt=T2;function c2(t){return l2(t)}function l2(t,e){const n=jc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:o,createComment:l,setText:d,setElementText:h,parentNode:f,nextSibling:g,setScopeId:_=Ln,insertStaticContent:P}=t,x=(T,C,S,U=null,z=null,q=null,X=void 0,Y=null,Z=!!C.dynamicChildren)=>{if(T===C)return;T&&!cs(T,C)&&(U=F(T),$e(T,z,q,!0),T=null),C.patchFlag===-2&&(Z=!1,C.dynamicChildren=null);const{type:Q,ref:ue,shapeFlag:ne}=C;switch(Q){case Yc:N(T,C,S,U);break;case Ft:H(T,C,S,U);break;case Do:T==null&&L(C,S,U,X);break;case je:I(T,C,S,U,z,q,X,Y,Z);break;default:ne&1?K(T,C,S,U,z,q,X,Y,Z):ne&6?w(T,C,S,U,z,q,X,Y,Z):(ne&64||ne&128)&&Q.process(T,C,S,U,z,q,X,Y,Z,ie)}ue!=null&&z?Qi(ue,T&&T.ref,q,C||T,!C):ue==null&&T&&T.ref!=null&&Qi(T.ref,null,q,T,!0)},N=(T,C,S,U)=>{if(T==null)r(C.el=o(C.children),S,U);else{const z=C.el=T.el;C.children!==T.children&&d(z,C.children)}},H=(T,C,S,U)=>{T==null?r(C.el=l(C.children||""),S,U):C.el=T.el},L=(T,C,S,U)=>{[T.el,T.anchor]=P(T.children,C,S,U,T.el,T.anchor)},$=({el:T,anchor:C},S,U)=>{let z;for(;T&&T!==C;)z=g(T),r(T,S,U),T=z;r(C,S,U)},D=({el:T,anchor:C})=>{let S;for(;T&&T!==C;)S=g(T),s(T),T=S;s(C)},K=(T,C,S,U,z,q,X,Y,Z)=>{C.type==="svg"?X="svg":C.type==="math"&&(X="mathml"),T==null?G(C,S,U,z,q,X,Y,Z):b(T,C,z,q,X,Y,Z)},G=(T,C,S,U,z,q,X,Y)=>{let Z,Q;const{props:ue,shapeFlag:ne,transition:ce,dirs:pe}=T;if(Z=T.el=a(T.type,q,ue&&ue.is,ue),ne&8?h(Z,T.children):ne&16&&y(T.children,Z,null,U,z,sd(T,q),X,Y),pe&&ns(T,null,U,"created"),E(Z,T,T.scopeId,X,U),ue){for(const be in ue)be!=="value"&&!zi(be)&&i(Z,be,null,ue[be],q,U);"value"in ue&&i(Z,"value",null,ue.value,q),(Q=ue.onVnodeBeforeMount)&&kn(Q,U,T)}pe&&ns(T,null,U,"beforeMount");const he=d2(z,ce);he&&ce.beforeEnter(Z),r(Z,C,S),((Q=ue&&ue.onVnodeMounted)||he||pe)&&Kt(()=>{Q&&kn(Q,U,T),he&&ce.enter(Z),pe&&ns(T,null,U,"mounted")},z)},E=(T,C,S,U,z)=>{if(S&&_(T,S),U)for(let q=0;q<U.length;q++)_(T,U[q]);if(z){let q=z.subTree;if(C===q||R1(q.type)&&(q.ssContent===C||q.ssFallback===C)){const X=z.vnode;E(T,X,X.scopeId,X.slotScopeIds,z.parent)}}},y=(T,C,S,U,z,q,X,Y,Z=0)=>{for(let Q=Z;Q<T.length;Q++){const ue=T[Q]=Y?Ar(T[Q]):Rn(T[Q]);x(null,ue,C,S,U,z,q,X,Y)}},b=(T,C,S,U,z,q,X)=>{const Y=C.el=T.el;let{patchFlag:Z,dynamicChildren:Q,dirs:ue}=C;Z|=T.patchFlag&16;const ne=T.props||Fe,ce=C.props||Fe;let pe;if(S&&rs(S,!1),(pe=ce.onVnodeBeforeUpdate)&&kn(pe,S,C,T),ue&&ns(C,T,S,"beforeUpdate"),S&&rs(S,!0),(ne.innerHTML&&ce.innerHTML==null||ne.textContent&&ce.textContent==null)&&h(Y,""),Q?A(T.dynamicChildren,Q,Y,S,U,sd(C,z),q):X||Ee(T,C,Y,null,S,U,sd(C,z),q,!1),Z>0){if(Z&16)k(Y,ne,ce,S,z);else if(Z&2&&ne.class!==ce.class&&i(Y,"class",null,ce.class,z),Z&4&&i(Y,"style",ne.style,ce.style,z),Z&8){const he=C.dynamicProps;for(let be=0;be<he.length;be++){const ke=he[be],mt=ne[ke],gt=ce[ke];(gt!==mt||ke==="value")&&i(Y,ke,mt,gt,z,S)}}Z&1&&T.children!==C.children&&h(Y,C.children)}else!X&&Q==null&&k(Y,ne,ce,S,z);((pe=ce.onVnodeUpdated)||ue)&&Kt(()=>{pe&&kn(pe,S,C,T),ue&&ns(C,T,S,"updated")},U)},A=(T,C,S,U,z,q,X)=>{for(let Y=0;Y<C.length;Y++){const Z=T[Y],Q=C[Y],ue=Z.el&&(Z.type===je||!cs(Z,Q)||Z.shapeFlag&198)?f(Z.el):S;x(Z,Q,ue,null,U,z,q,X,!0)}},k=(T,C,S,U,z)=>{if(C!==S){if(C!==Fe)for(const q in C)!zi(q)&&!(q in S)&&i(T,q,C[q],null,z,U);for(const q in S){if(zi(q))continue;const X=S[q],Y=C[q];X!==Y&&q!=="value"&&i(T,q,Y,X,z,U)}"value"in S&&i(T,"value",C.value,S.value,z)}},I=(T,C,S,U,z,q,X,Y,Z)=>{const Q=C.el=T?T.el:o(""),ue=C.anchor=T?T.anchor:o("");let{patchFlag:ne,dynamicChildren:ce,slotScopeIds:pe}=C;pe&&(Y=Y?Y.concat(pe):pe),T==null?(r(Q,S,U),r(ue,S,U),y(C.children||[],S,ue,z,q,X,Y,Z)):ne>0&&ne&64&&ce&&T.dynamicChildren?(A(T.dynamicChildren,ce,S,z,q,X,Y),(C.key!=null||z&&C===z.subTree)&&I1(T,C,!0)):Ee(T,C,S,ue,z,q,X,Y,Z)},w=(T,C,S,U,z,q,X,Y,Z)=>{C.slotScopeIds=Y,T==null?C.shapeFlag&512?z.ctx.activate(C,S,U,X,Z):xe(C,S,U,z,q,X,Z):tt(T,C,Z)},xe=(T,C,S,U,z,q,X)=>{const Y=T.component=S2(T,U,z);if(Kc(T)&&(Y.ctx.renderer=ie),R2(Y,!1,X),Y.asyncDep){if(z&&z.registerDep(Y,Oe,X),!T.el){const Z=Y.subTree=V(Ft);H(null,Z,C,S),T.placeholder=Z.el}}else Oe(Y,T,C,S,z,q,X)},tt=(T,C,S)=>{const U=C.component=T.component;if(b2(T,C,S))if(U.asyncDep&&!U.asyncResolved){me(U,C,S);return}else U.next=C,U.update();else C.el=T.el,U.vnode=C},Oe=(T,C,S,U,z,q,X)=>{const Y=()=>{if(T.isMounted){let{next:ne,bu:ce,u:pe,parent:he,vnode:be}=T;{const Et=C1(T);if(Et){ne&&(ne.el=be.el,me(T,ne,X)),Et.asyncDep.then(()=>{T.isUnmounted||Y()});return}}let ke=ne,mt;rs(T,!1),ne?(ne.el=be.el,me(T,ne,X)):ne=be,ce&&So(ce),(mt=ne.props&&ne.props.onVnodeBeforeUpdate)&&kn(mt,he,ne,be),rs(T,!0);const gt=Nm(T),rn=T.subTree;T.subTree=gt,x(rn,gt,f(rn.el),F(rn),T,z,q),ne.el=gt.el,ke===null&&w2(T,gt.el),pe&&Kt(pe,z),(mt=ne.props&&ne.props.onVnodeUpdated)&&Kt(()=>kn(mt,he,ne,be),z)}else{let ne;const{el:ce,props:pe}=C,{bm:he,m:be,parent:ke,root:mt,type:gt}=T,rn=Zi(C);rs(T,!1),he&&So(he),!rn&&(ne=pe&&pe.onVnodeBeforeMount)&&kn(ne,ke,C),rs(T,!0);{mt.ce&&mt.ce._def.shadowRoot!==!1&&mt.ce._injectChildStyle(gt);const Et=T.subTree=Nm(T);x(null,Et,S,U,T,z,q),C.el=Et.el}if(be&&Kt(be,z),!rn&&(ne=pe&&pe.onVnodeMounted)){const Et=C;Kt(()=>kn(ne,ke,Et),z)}(C.shapeFlag&256||ke&&Zi(ke.vnode)&&ke.vnode.shapeFlag&256)&&T.a&&Kt(T.a,z),T.isMounted=!0,C=S=U=null}};T.scope.on();const Z=T.effect=new N_(Y);T.scope.off();const Q=T.update=Z.run.bind(Z),ue=T.job=Z.runIfDirty.bind(Z);ue.i=T,ue.id=T.uid,Z.scheduler=()=>Dh(ue),rs(T,!0),Q()},me=(T,C,S)=>{C.component=T;const U=T.vnode.props;T.vnode=C,T.next=null,r2(T,C.props,U,S),o2(T,C.children,S),dr(),Em(T),ur()},Ee=(T,C,S,U,z,q,X,Y,Z=!1)=>{const Q=T&&T.children,ue=T?T.shapeFlag:0,ne=C.children,{patchFlag:ce,shapeFlag:pe}=C;if(ce>0){if(ce&128){mn(Q,ne,S,U,z,q,X,Y,Z);return}else if(ce&256){zt(Q,ne,S,U,z,q,X,Y,Z);return}}pe&8?(ue&16&&qt(Q,z,q),ne!==Q&&h(S,ne)):ue&16?pe&16?mn(Q,ne,S,U,z,q,X,Y,Z):qt(Q,z,q,!0):(ue&8&&h(S,""),pe&16&&y(ne,S,U,z,q,X,Y,Z))},zt=(T,C,S,U,z,q,X,Y,Z)=>{T=T||$s,C=C||$s;const Q=T.length,ue=C.length,ne=Math.min(Q,ue);let ce;for(ce=0;ce<ne;ce++){const pe=C[ce]=Z?Ar(C[ce]):Rn(C[ce]);x(T[ce],pe,S,null,z,q,X,Y,Z)}Q>ue?qt(T,z,q,!0,!1,ne):y(C,S,U,z,q,X,Y,Z,ne)},mn=(T,C,S,U,z,q,X,Y,Z)=>{let Q=0;const ue=C.length;let ne=T.length-1,ce=ue-1;for(;Q<=ne&&Q<=ce;){const pe=T[Q],he=C[Q]=Z?Ar(C[Q]):Rn(C[Q]);if(cs(pe,he))x(pe,he,S,null,z,q,X,Y,Z);else break;Q++}for(;Q<=ne&&Q<=ce;){const pe=T[ne],he=C[ce]=Z?Ar(C[ce]):Rn(C[ce]);if(cs(pe,he))x(pe,he,S,null,z,q,X,Y,Z);else break;ne--,ce--}if(Q>ne){if(Q<=ce){const pe=ce+1,he=pe<ue?C[pe].el:U;for(;Q<=ce;)x(null,C[Q]=Z?Ar(C[Q]):Rn(C[Q]),S,he,z,q,X,Y,Z),Q++}}else if(Q>ce)for(;Q<=ne;)$e(T[Q],z,q,!0),Q++;else{const pe=Q,he=Q,be=new Map;for(Q=he;Q<=ce;Q++){const vt=C[Q]=Z?Ar(C[Q]):Rn(C[Q]);vt.key!=null&&be.set(vt.key,Q)}let ke,mt=0;const gt=ce-he+1;let rn=!1,Et=0;const mr=new Array(gt);for(Q=0;Q<gt;Q++)mr[Q]=0;for(Q=pe;Q<=ne;Q++){const vt=T[Q];if(mt>=gt){$e(vt,z,q,!0);continue}let sn;if(vt.key!=null)sn=be.get(vt.key);else for(ke=he;ke<=ce;ke++)if(mr[ke-he]===0&&cs(vt,C[ke])){sn=ke;break}sn===void 0?$e(vt,z,q,!0):(mr[sn-he]=Q+1,sn>=Et?Et=sn:rn=!0,x(vt,C[sn],S,null,z,q,X,Y,Z),mt++)}const gi=rn?u2(mr):$s;for(ke=gi.length-1,Q=gt-1;Q>=0;Q--){const vt=he+Q,sn=C[vt],Ba=C[vt+1],ks=vt+1<ue?Ba.el||Ba.placeholder:U;mr[Q]===0?x(null,sn,S,ks,z,q,X,Y,Z):rn&&(ke<0||Q!==gi[ke]?nn(sn,S,ks,2):ke--)}}},nn=(T,C,S,U,z=null)=>{const{el:q,type:X,transition:Y,children:Z,shapeFlag:Q}=T;if(Q&6){nn(T.component.subTree,C,S,U);return}if(Q&128){T.suspense.move(C,S,U);return}if(Q&64){X.move(T,C,S,ie);return}if(X===je){r(q,C,S);for(let ne=0;ne<Z.length;ne++)nn(Z[ne],C,S,U);r(T.anchor,C,S);return}if(X===Do){$(T,C,S);return}if(U!==2&&Q&1&&Y)if(U===0)Y.beforeEnter(q),r(q,C,S),Kt(()=>Y.enter(q),z);else{const{leave:ne,delayLeave:ce,afterLeave:pe}=Y,he=()=>{T.ctx.isUnmounted?s(q):r(q,C,S)},be=()=>{q._isLeaving&&q[Yn](!0),ne(q,()=>{he(),pe&&pe()})};ce?ce(q,he,be):be()}else r(q,C,S)},$e=(T,C,S,U=!1,z=!1)=>{const{type:q,props:X,ref:Y,children:Z,dynamicChildren:Q,shapeFlag:ue,patchFlag:ne,dirs:ce,cacheIndex:pe}=T;if(ne===-2&&(z=!1),Y!=null&&(dr(),Qi(Y,null,S,T,!0),ur()),pe!=null&&(C.renderCache[pe]=void 0),ue&256){C.ctx.deactivate(T);return}const he=ue&1&&ce,be=!Zi(T);let ke;if(be&&(ke=X&&X.onVnodeBeforeUnmount)&&kn(ke,C,T),ue&6)Cn(T.component,S,U);else{if(ue&128){T.suspense.unmount(S,U);return}he&&ns(T,null,C,"beforeUnmount"),ue&64?T.type.remove(T,C,S,ie,U):Q&&!Q.hasOnce&&(q!==je||ne>0&&ne&64)?qt(Q,C,S,!1,!0):(q===je&&ne&384||!z&&ue&16)&&qt(Z,C,S),U&&ze(T)}(be&&(ke=X&&X.onVnodeUnmounted)||he)&&Kt(()=>{ke&&kn(ke,C,T),he&&ns(T,null,C,"unmounted")},S)},ze=T=>{const{type:C,el:S,anchor:U,transition:z}=T;if(C===je){pr(S,U);return}if(C===Do){D(T);return}const q=()=>{s(S),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(T.shapeFlag&1&&z&&!z.persisted){const{leave:X,delayLeave:Y}=z,Z=()=>X(S,q);Y?Y(T.el,q,Z):Z()}else q()},pr=(T,C)=>{let S;for(;T!==C;)S=g(T),s(T),T=S;s(C)},Cn=(T,C,S)=>{const{bum:U,scope:z,job:q,subTree:X,um:Y,m:Z,a:Q}=T;xm(Z),xm(Q),U&&So(U),z.stop(),q&&(q.flags|=8,$e(X,T,C,S)),Y&&Kt(Y,C),Kt(()=>{T.isUnmounted=!0},C)},qt=(T,C,S,U=!1,z=!1,q=0)=>{for(let X=q;X<T.length;X++)$e(T[X],C,S,U,z)},F=T=>{if(T.shapeFlag&6)return F(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const C=g(T.anchor||T.el),S=C&&C[RS];return S?g(S):C};let re=!1;const ee=(T,C,S)=>{T==null?C._vnode&&$e(C._vnode,null,null,!0):x(C._vnode||null,T,C,null,null,null,S),C._vnode=T,re||(re=!0,Em(),X_(),re=!1)},ie={p:x,um:$e,m:nn,r:ze,mt:xe,mc:y,pc:Ee,pbc:A,n:F,o:t};return{render:ee,hydrate:void 0,createApp:e2(ee)}}function sd({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function rs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function d2(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function I1(t,e,n=!1){const r=t.children,s=e.children;if(de(r)&&de(s))for(let i=0;i<r.length;i++){const a=r[i];let o=s[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[i]=Ar(s[i]),o.el=a.el),!n&&o.patchFlag!==-2&&I1(a,o)),o.type===Yc&&o.patchFlag!==-1&&(o.el=a.el),o.type===Ft&&!o.el&&(o.el=a.el)}}function u2(t){const e=t.slice(),n=[0];let r,s,i,a,o;const l=t.length;for(r=0;r<l;r++){const d=t[r];if(d!==0){if(s=n[n.length-1],t[s]<d){e[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)o=i+a>>1,t[n[o]]<d?i=o+1:a=o;d<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=e[a];return n}function C1(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:C1(e)}function xm(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const h2=Symbol.for("v-scx"),f2=()=>Fn(h2);function Qs(t,e,n){return k1(t,e,n)}function k1(t,e,n=Fe){const{immediate:r,deep:s,flush:i,once:a}=n,o=ft({},n),l=e&&r||!e&&i!=="post";let d;if(wa){if(i==="sync"){const _=f2();d=_.__watcherHandles||(_.__watcherHandles=[])}else if(!l){const _=()=>{};return _.stop=Ln,_.resume=Ln,_.pause=Ln,_}}const h=Dt;o.call=(_,P,x)=>En(_,h,P,x);let f=!1;i==="post"?o.scheduler=_=>{Kt(_,h&&h.suspense)}:i!=="sync"&&(f=!0,o.scheduler=(_,P)=>{P?_():Dh(_)}),o.augmentJob=_=>{e&&(_.flags|=4),f&&(_.flags|=2,h&&(_.id=h.uid,_.i=h))};const g=CS(t,e,o);return wa&&(d?d.push(g):l&&g()),g}function p2(t,e,n){const r=this.proxy,s=it(t)?t.includes(".")?P1(r,t):()=>r[t]:t.bind(r,r);let i;ye(e)?i=e:(i=e.handler,n=e);const a=qa(this),o=k1(s,i.bind(r),n);return a(),o}function P1(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const m2=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${un(e)}Modifiers`]||t[`${Cs(e)}Modifiers`];function g2(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Fe;let s=n;const i=e.startsWith("update:"),a=i&&m2(r,e.slice(7));a&&(a.trim&&(s=n.map(h=>it(h)?h.trim():h)),a.number&&(s=n.map(Xo)));let o,l=r[o=Yl(e)]||r[o=Yl(un(e))];!l&&i&&(l=r[o=Yl(Cs(e))]),l&&En(l,t,6,s);const d=r[o+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,En(d,t,6,s)}}const v2=new WeakMap;function S1(t,e,n=!1){const r=n?v2:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let a={},o=!1;if(!ye(t)){const l=d=>{const h=S1(d,e,!0);h&&(o=!0,ft(a,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!o?(Ue(t)&&r.set(t,null),null):(de(i)?i.forEach(l=>a[l]=null):ft(a,i),Ue(t)&&r.set(t,a),a)}function Zc(t,e){return!t||!qc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Me(t,e[0].toLowerCase()+e.slice(1))||Me(t,Cs(e))||Me(t,e))}function Nm(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:o,emit:l,render:d,renderCache:h,props:f,data:g,setupState:_,ctx:P,inheritAttrs:x}=t,N=sc(t);let H,L;try{if(n.shapeFlag&4){const D=s||r,K=D;H=Rn(d.call(K,D,h,f,_,g,P)),L=o}else{const D=e;H=Rn(D.length>1?D(f,{attrs:o,slots:a,emit:l}):D(f,null)),L=e.props?o:y2(o)}}catch(D){Ji.length=0,zc(D,t,1),H=V(Ft)}let $=H;if(L&&x!==!1){const D=Object.keys(L),{shapeFlag:K}=$;D.length&&K&7&&(i&&D.some(yh)&&(L=_2(L,i)),$=Kr($,L,!1,!0))}return n.dirs&&($=Kr($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&_a($,n.transition),H=$,sc(N),H}const y2=t=>{let e;for(const n in t)(n==="class"||n==="style"||qc(n))&&((e||(e={}))[n]=t[n]);return e},_2=(t,e)=>{const n={};for(const r in t)(!yh(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function b2(t,e,n){const{props:r,children:s,component:i}=t,{props:a,children:o,patchFlag:l}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Mm(r,a,d):!!a;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const g=h[f];if(a[g]!==r[g]&&!Zc(d,g))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?Mm(r,a,d):!0:!!a;return!1}function Mm(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Zc(n,i))return!0}return!1}function w2({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const R1=t=>t.__isSuspense;function T2(t,e){e&&e.pendingBranch?de(t)?e.effects.push(...t):e.effects.push(t):SS(t)}const je=Symbol.for("v-fgt"),Yc=Symbol.for("v-txt"),Ft=Symbol.for("v-cmt"),Do=Symbol.for("v-stc"),Ji=[];let Xt=null;function W(t=!1){Ji.push(Xt=t?null:[])}function E2(){Ji.pop(),Xt=Ji[Ji.length-1]||null}let ba=1;function oc(t,e=!1){ba+=t,t<0&&Xt&&e&&(Xt.hasOnce=!0)}function D1(t){return t.dynamicChildren=ba>0?Xt||$s:null,E2(),ba>0&&Xt&&Xt.push(t),t}function B(t,e,n,r,s,i){return D1(m(t,e,n,r,s,i,!0))}function cc(t,e,n,r,s){return D1(V(t,e,n,r,s,!0))}function lc(t){return t?t.__v_isVNode===!0:!1}function cs(t,e){return t.type===e.type&&t.key===e.key}const x1=({key:t})=>t??null,xo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?it(t)||st(t)||ye(t)?{i:Jt,r:t,k:e,f:!!n}:t:null);function m(t,e=null,n=null,r=0,s=null,i=t===je?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&x1(e),ref:e&&xo(e),scopeId:t1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Jt};return o?(Mh(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=it(n)?8:16),ba>0&&!a&&Xt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Xt.push(l),l}const V=A2;function A2(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===$S)&&(t=Ft),lc(t)){const o=Kr(t,e,!0);return n&&Mh(o,n),ba>0&&!i&&Xt&&(o.shapeFlag&6?Xt[Xt.indexOf(t)]=o:Xt.push(o)),o.patchFlag=-2,o}if(V2(t)&&(t=t.__vccOpts),e){e=I2(e);let{class:o,style:l}=e;o&&!it(o)&&(e.class=tn(o)),Ue(l)&&(Sh(l)&&!de(l)&&(l=ft({},l)),e.style=wh(l))}const a=it(t)?1:R1(t)?128:n1(t)?64:Ue(t)?4:ye(t)?2:0;return m(t,e,n,r,s,a,i,!0)}function I2(t){return t?Sh(t)||_1(t)?ft({},t):t:null}function Kr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:o,transition:l}=t,d=e?C2(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&x1(d),ref:e&&e.ref?n&&i?de(i)?i.concat(xo(e)):[i,xo(e)]:xo(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==je?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Kr(t.ssContent),ssFallback:t.ssFallback&&Kr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&_a(h,l.clone(h)),h}function we(t=" ",e=0){return V(Yc,null,t,e)}function Te(t,e){const n=V(Do,null,t);return n.staticCount=e,n}function ae(t="",e=!1){return e?(W(),cc(Ft,null,t)):V(Ft,null,t)}function Rn(t){return t==null||typeof t=="boolean"?V(Ft):de(t)?V(je,null,t.slice()):lc(t)?Ar(t):V(Yc,null,String(t))}function Ar(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Kr(t)}function Mh(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(de(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Mh(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!_1(e)?e._ctx=Jt:s===3&&Jt&&(Jt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:Jt},n=32):(e=String(e),r&64?(n=16,e=[we(e)]):n=8);t.children=e,t.shapeFlag|=n}function C2(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=tn([e.class,r.class]));else if(s==="style")e.style=wh([e.style,r.style]);else if(qc(s)){const i=e[s],a=r[s];a&&i!==a&&!(de(i)&&i.includes(a))&&(e[s]=i?[].concat(i,a):a)}else s!==""&&(e[s]=r[s])}return e}function kn(t,e,n,r=null){En(t,e,7,[n,r])}const k2=g1();let P2=0;function S2(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||k2,i={uid:P2++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new R_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:w1(r,s),emitsOptions:S1(r,s),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:r.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=g2.bind(null,i),t.ce&&t.ce(i),i}let Dt=null;const Vh=()=>Dt||Jt;let dc,Zd;{const t=jc(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};dc=e("__VUE_INSTANCE_SETTERS__",n=>Dt=n),Zd=e("__VUE_SSR_SETTERS__",n=>wa=n)}const qa=t=>{const e=Dt;return dc(t),t.scope.on(),()=>{t.scope.off(),dc(e)}},Vm=()=>{Dt&&Dt.scope.off(),dc(null)};function N1(t){return t.vnode.shapeFlag&4}let wa=!1;function R2(t,e=!1,n=!1){e&&Zd(e);const{props:r,children:s}=t.vnode,i=N1(t);n2(t,r,i,e),a2(t,s,n||e);const a=i?D2(t,e):void 0;return e&&Zd(!1),a}function D2(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,GS);const{setup:r}=n;if(r){dr();const s=t.setupContext=r.length>1?N2(t):null,i=qa(t),a=Wa(r,t,0,[t.props,s]),o=E_(a);if(ur(),i(),(o||t.sp)&&!Zi(t)&&l1(t),o){if(a.then(Vm,Vm),e)return a.then(l=>{Om(t,l)}).catch(l=>{zc(l,t,0)});t.asyncDep=a}else Om(t,a)}else M1(t)}function Om(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ue(e)&&(t.setupState=Z_(e)),M1(t)}function M1(t,e,n){const r=t.type;t.render||(t.render=r.render||Ln);{const s=qa(t);dr();try{KS(t)}finally{ur(),s()}}}const x2={get(t,e){return Rt(t,"get",""),t[e]}};function N2(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,x2),slots:t.slots,emit:t.emit,expose:e}}function Jc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Z_(Rh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Yi)return Yi[n](t)},has(e,n){return n in e||n in Yi}})):t.proxy}function M2(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function V2(t){return ye(t)&&"__vccOpts"in t}const Ye=(t,e)=>AS(t,e,wa);function Oh(t,e,n){const r=(i,a,o)=>{oc(-1);try{return V(i,a,o)}finally{oc(1)}},s=arguments.length;return s===2?Ue(e)&&!de(e)?lc(e)?r(t,null,[e]):r(t,e):r(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&lc(n)&&(n=[n]),r(t,e,n))}const O2="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yd;const Lm=typeof window<"u"&&window.trustedTypes;if(Lm)try{Yd=Lm.createPolicy("vue",{createHTML:t=>t})}catch{}const V1=Yd?t=>Yd.createHTML(t):t=>t,L2="http://www.w3.org/2000/svg",F2="http://www.w3.org/1998/Math/MathML",Zn=typeof document<"u"?document:null,Fm=Zn&&Zn.createElement("template"),U2={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Zn.createElementNS(L2,t):e==="mathml"?Zn.createElementNS(F2,t):n?Zn.createElement(t,{is:n}):Zn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Zn.createTextNode(t),createComment:t=>Zn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Zn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const a=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Fm.innerHTML=V1(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const o=Fm.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},br="transition",Di="animation",Ta=Symbol("_vtc"),O1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},W2=ft({},r1,O1),q2=t=>(t.displayName="Transition",t.props=W2,t),Lh=q2((t,{slots:e})=>Oh(NS,B2(t),e)),ss=(t,e=[])=>{de(t)?t.forEach(n=>n(...e)):t&&t(...e)},Um=t=>t?de(t)?t.some(e=>e.length>1):t.length>1:!1;function B2(t){const e={};for(const I in t)I in O1||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:d=a,appearToClass:h=o,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:_=`${n}-leave-to`}=t,P=H2(s),x=P&&P[0],N=P&&P[1],{onBeforeEnter:H,onEnter:L,onEnterCancelled:$,onLeave:D,onLeaveCancelled:K,onBeforeAppear:G=H,onAppear:E=L,onAppearCancelled:y=$}=e,b=(I,w,xe,tt)=>{I._enterCancelled=tt,is(I,w?h:o),is(I,w?d:a),xe&&xe()},A=(I,w)=>{I._isLeaving=!1,is(I,f),is(I,_),is(I,g),w&&w()},k=I=>(w,xe)=>{const tt=I?E:L,Oe=()=>b(w,I,xe);ss(tt,[w,Oe]),Wm(()=>{is(w,I?l:i),Kn(w,I?h:o),Um(tt)||qm(w,r,x,Oe)})};return ft(e,{onBeforeEnter(I){ss(H,[I]),Kn(I,i),Kn(I,a)},onBeforeAppear(I){ss(G,[I]),Kn(I,l),Kn(I,d)},onEnter:k(!1),onAppear:k(!0),onLeave(I,w){I._isLeaving=!0;const xe=()=>A(I,w);Kn(I,f),I._enterCancelled?(Kn(I,g),jm()):(jm(),Kn(I,g)),Wm(()=>{I._isLeaving&&(is(I,f),Kn(I,_),Um(D)||qm(I,r,N,xe))}),ss(D,[I,xe])},onEnterCancelled(I){b(I,!1,void 0,!0),ss($,[I])},onAppearCancelled(I){b(I,!0,void 0,!0),ss(y,[I])},onLeaveCancelled(I){A(I),ss(K,[I])}})}function H2(t){if(t==null)return null;if(Ue(t))return[id(t.enter),id(t.leave)];{const e=id(t);return[e,e]}}function id(t){return HP(t)}function Kn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ta]||(t[Ta]=new Set)).add(e)}function is(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ta];n&&(n.delete(e),n.size||(t[Ta]=void 0))}function Wm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let j2=0;function qm(t,e,n,r){const s=t._endId=++j2,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:a,timeout:o,propCount:l}=$2(t,e);if(!a)return r();const d=a+"end";let h=0;const f=()=>{t.removeEventListener(d,g),i()},g=_=>{_.target===t&&++h>=l&&f()};setTimeout(()=>{h<l&&f()},o+1),t.addEventListener(d,g)}function $2(t,e){const n=window.getComputedStyle(t),r=P=>(n[P]||"").split(", "),s=r(`${br}Delay`),i=r(`${br}Duration`),a=Bm(s,i),o=r(`${Di}Delay`),l=r(`${Di}Duration`),d=Bm(o,l);let h=null,f=0,g=0;e===br?a>0&&(h=br,f=a,g=i.length):e===Di?d>0&&(h=Di,f=d,g=l.length):(f=Math.max(a,d),h=f>0?a>d?br:Di:null,g=h?h===br?i.length:l.length:0);const _=h===br&&/\b(?:transform|all)(?:,|$)/.test(r(`${br}Property`).toString());return{type:h,timeout:f,propCount:g,hasTransform:_}}function Bm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Hm(n)+Hm(t[r])))}function Hm(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function jm(){return document.body.offsetHeight}function z2(t,e,n){const r=t[Ta];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const uc=Symbol("_vod"),L1=Symbol("_vsh"),G2={name:"show",beforeMount(t,{value:e},{transition:n}){t[uc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):xi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),xi(t,!0),r.enter(t)):r.leave(t,()=>{xi(t,!1)}):xi(t,e))},beforeUnmount(t,{value:e}){xi(t,e)}};function xi(t,e){t.style.display=e?t[uc]:"none",t[L1]=!e}const K2=Symbol(""),Q2=/(?:^|;)\s*display\s*:/;function Z2(t,e,n){const r=t.style,s=it(n);let i=!1;if(n&&!s){if(e)if(it(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&No(r,o,"")}else for(const a in e)n[a]==null&&No(r,a,"");for(const a in n)a==="display"&&(i=!0),No(r,a,n[a])}else if(s){if(e!==n){const a=r[K2];a&&(n+=";"+a),r.cssText=n,i=Q2.test(n)}}else e&&t.removeAttribute("style");uc in t&&(t[uc]=i?r.display:"",t[L1]&&(r.display="none"))}const $m=/\s*!important$/;function No(t,e,n){if(de(n))n.forEach(r=>No(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Y2(t,e);$m.test(n)?t.setProperty(Cs(r),n.replace($m,""),"important"):t[r]=n}}const zm=["Webkit","Moz","ms"],ad={};function Y2(t,e){const n=ad[e];if(n)return n;let r=un(e);if(r!=="filter"&&r in t)return ad[e]=r;r=Hc(r);for(let s=0;s<zm.length;s++){const i=zm[s]+r;if(i in t)return ad[e]=i}return e}const Gm="http://www.w3.org/1999/xlink";function Km(t,e,n,r,s,i=QP(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Gm,e.slice(6,e.length)):t.setAttributeNS(Gm,e,n):n==null||i&&!k_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Bn(n)?String(n):n)}function Qm(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?V1(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=k_(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(s||e)}function Rr(t,e,n,r){t.addEventListener(e,n,r)}function J2(t,e,n,r){t.removeEventListener(e,n,r)}const Zm=Symbol("_vei");function X2(t,e,n,r,s=null){const i=t[Zm]||(t[Zm]={}),a=i[e];if(r&&a)a.value=r;else{const[o,l]=eR(e);if(r){const d=i[e]=rR(r,s);Rr(t,o,d,l)}else a&&(J2(t,o,a,l),i[e]=void 0)}}const Ym=/(?:Once|Passive|Capture)$/;function eR(t){let e;if(Ym.test(t)){e={};let r;for(;r=t.match(Ym);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Cs(t.slice(2)),e]}let od=0;const tR=Promise.resolve(),nR=()=>od||(tR.then(()=>od=0),od=Date.now());function rR(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;En(sR(r,n.value),e,5,[r])};return n.value=t,n.attached=nR(),n}function sR(t,e){if(de(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Jm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,iR=(t,e,n,r,s,i)=>{const a=s==="svg";e==="class"?z2(t,r,a):e==="style"?Z2(t,n,r):qc(e)?yh(e)||X2(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):aR(t,e,r,a))?(Qm(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Km(t,e,r,a,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!it(r))?Qm(t,un(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Km(t,e,r,a))};function aR(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Jm(e)&&ye(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Jm(e)&&it(n)?!1:e in t}const si=t=>{const e=t.props["onUpdate:modelValue"]||!1;return de(e)?n=>So(e,n):e};function oR(t){t.target.composing=!0}function Xm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const sr=Symbol("_assign"),on={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[sr]=si(s);const i=r||s.props&&s.props.type==="number";Rr(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),i&&(o=Xo(o)),t[sr](o)}),n&&Rr(t,"change",()=>{t.value=t.value.trim()}),e||(Rr(t,"compositionstart",oR),Rr(t,"compositionend",Xm),Rr(t,"change",Xm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(t[sr]=si(a),t.composing)return;const o=(i||t.type==="number")&&!/^0\d/.test(t.value)?Xo(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},e6={deep:!0,created(t,e,n){t[sr]=si(n),Rr(t,"change",()=>{const r=t._modelValue,s=Ea(t),i=t.checked,a=t[sr];if(de(r)){const o=Th(r,s),l=o!==-1;if(i&&!l)a(r.concat(s));else if(!i&&l){const d=[...r];d.splice(o,1),a(d)}}else if(mi(r)){const o=new Set(r);i?o.add(s):o.delete(s),a(o)}else a(F1(t,i))})},mounted:eg,beforeUpdate(t,e,n){t[sr]=si(n),eg(t,e,n)}};function eg(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(de(e))s=Th(e,r.props.value)>-1;else if(mi(e))s=e.has(r.props.value);else{if(e===n)return;s=Fa(e,F1(t,!0))}t.checked!==s&&(t.checked=s)}const t6={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=mi(e);Rr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?Xo(Ea(a)):Ea(a));t[sr](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,Gc(()=>{t._assigning=!1})}),t[sr]=si(r)},mounted(t,{value:e}){tg(t,e)},beforeUpdate(t,e,n){t[sr]=si(n)},updated(t,{value:e}){t._assigning||tg(t,e)}};function tg(t,e){const n=t.multiple,r=de(e);if(!(n&&!r&&!mi(e))){for(let s=0,i=t.options.length;s<i;s++){const a=t.options[s],o=Ea(a);if(n)if(r){const l=typeof o;l==="string"||l==="number"?a.selected=e.some(d=>String(d)===String(o)):a.selected=Th(e,o)>-1}else a.selected=e.has(o);else if(Fa(Ea(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ea(t){return"_value"in t?t._value:t.value}function F1(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const cR=["ctrl","shift","alt","meta"],lR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>cR.some(n=>t[`${n}Key`]&&!e.includes(n))},Ur=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let a=0;a<e.length;a++){const o=lR[e[a]];if(o&&o(s,e))return}return t(s,...i)})},dR=ft({patchProp:iR},U2);let ng;function uR(){return ng||(ng=c2(dR))}const hR=(...t)=>{const e=uR().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=pR(r);if(!s)return;const i=e._component;!ye(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,fR(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function fR(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function pR(t){return it(t)?document.querySelector(t):t}const mR="/assets/mailicon-CKs8QJTb.png",Fh="/assets/wondercart-D7PFJcCG.jpg";/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let U1;const Xc=t=>U1=t,W1=Symbol();function Jd(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Xi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Xi||(Xi={}));function gR(){const t=D_(!0),e=t.run(()=>ri({}));let n=[],r=[];const s=Rh({install(i){Xc(s),s._a=i,i.provide(W1,s),i.config.globalProperties.$pinia=s,r.forEach(a=>n.push(a)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const q1=()=>{};function rg(t,e,n,r=q1){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&x_()&&YP(s),s}function Ns(t,...e){t.slice().forEach(n=>{n(...e)})}const vR=t=>t(),sg=Symbol(),cd=Symbol();function Xd(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Jd(s)&&Jd(r)&&t.hasOwnProperty(n)&&!st(r)&&!Fr(r)?t[n]=Xd(s,r):t[n]=r}return t}const yR=Symbol();function _R(t){return!Jd(t)||!Object.prototype.hasOwnProperty.call(t,yR)}const{assign:Tr}=Object;function bR(t){return!!(st(t)&&t.effect)}function wR(t,e,n,r){const{state:s,actions:i,getters:a}=e,o=n.state.value[t];let l;function d(){o||(n.state.value[t]=s?s():{});const h=bS(n.state.value[t]);return Tr(h,i,Object.keys(a||{}).reduce((f,g)=>(f[g]=Rh(Ye(()=>{Xc(n);const _=n._s.get(t);return a[g].call(_,_)})),f),{}))}return l=B1(t,d,e,n,r,!0),l}function B1(t,e,n={},r,s,i){let a;const o=Tr({actions:{}},n),l={deep:!0};let d,h,f=[],g=[],_;const P=r.state.value[t];!i&&!P&&(r.state.value[t]={}),ri({});let x;function N(y){let b;d=h=!1,typeof y=="function"?(y(r.state.value[t]),b={type:Xi.patchFunction,storeId:t,events:_}):(Xd(r.state.value[t],y),b={type:Xi.patchObject,payload:y,storeId:t,events:_});const A=x=Symbol();Gc().then(()=>{x===A&&(d=!0)}),h=!0,Ns(f,b,r.state.value[t])}const H=i?function(){const{state:b}=n,A=b?b():{};this.$patch(k=>{Tr(k,A)})}:q1;function L(){a.stop(),f=[],g=[],r._s.delete(t)}const $=(y,b="")=>{if(sg in y)return y[cd]=b,y;const A=function(){Xc(r);const k=Array.from(arguments),I=[],w=[];function xe(me){I.push(me)}function tt(me){w.push(me)}Ns(g,{args:k,name:A[cd],store:K,after:xe,onError:tt});let Oe;try{Oe=y.apply(this&&this.$id===t?this:K,k)}catch(me){throw Ns(w,me),me}return Oe instanceof Promise?Oe.then(me=>(Ns(I,me),me)).catch(me=>(Ns(w,me),Promise.reject(me))):(Ns(I,Oe),Oe)};return A[sg]=!0,A[cd]=b,A},D={_p:r,$id:t,$onAction:rg.bind(null,g),$patch:N,$reset:H,$subscribe(y,b={}){const A=rg(f,y,b.detached,()=>k()),k=a.run(()=>Qs(()=>r.state.value[t],I=>{(b.flush==="sync"?h:d)&&y({storeId:t,type:Xi.direct,events:_},I)},Tr({},l,b)));return A},$dispose:L},K=Ua(D);r._s.set(t,K);const E=(r._a&&r._a.runWithContext||vR)(()=>r._e.run(()=>(a=D_()).run(()=>e({action:$}))));for(const y in E){const b=E[y];if(st(b)&&!bR(b)||Fr(b))i||(P&&_R(b)&&(st(b)?b.value=P[y]:Xd(b,P[y])),r.state.value[t][y]=b);else if(typeof b=="function"){const A=$(b,y);E[y]=A,o.actions[y]=b}}return Tr(K,E),Tr(Se(K),E),Object.defineProperty(K,"$state",{get:()=>r.state.value[t],set:y=>{N(b=>{Tr(b,y)})}}),r._p.forEach(y=>{Tr(K,a.run(()=>y({store:K,app:r._a,pinia:r,options:o})))}),P&&i&&n.hydrate&&n.hydrate(K.$state,P),d=!0,h=!0,K}/*! #__NO_SIDE_EFFECTS__ */function TR(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(a,o){const l=t2();return a=a||(l?Fn(W1,null):null),a&&Xc(a),a=U1,a._s.has(t)||(s?B1(t,e,r,a):wR(t,r,a)),a._s.get(t)}return i.$id=t,i}const ER=t=>{if(typeof t!="string")return null;try{return JSON.parse(t)}catch{return null}},ld=t=>"name:"+String(t).toLowerCase().trim().replace(/\s+/g,"-").slice(0,60),ea=(t,e)=>{if(t&&typeof t=="object")return{id:t.id??ld(t.name??Date.now()),name:String(t.name??t.id??"Item")};if(typeof t=="string"){const n=ER(t);return n&&(n.name||n.id)?{id:n.id??ld(n.name??Date.now()),name:String(n.name??n.id)}:{id:e??ld(t),name:t}}return{id:e??String(Date.now()),name:"Item"}},ig=(t,e)=>{const n=ea(t),r=ea(e);return n.id&&r.id&&n.id===r.id||n.name.toLowerCase()===r.name.toLowerCase()},$t=TR("wonderCart",{state:()=>({isOpen:!1,showToast:!1,toastMsg:"",_toastTimer:null,items:[],form:{name:"",email:"",phoneCc:"",phoneNumber:"",travelDate:"",message:""},submitTimestamps:[]}),actions:{open(){this.isOpen=!0,document.body.style.overflow="hidden"},close(){this.isOpen=!1,document.body.style.overflow=""},add(t,e=null){const n=ea(t,e);if(this.items.some(s=>ig(s,n))){this.toast("Already in your wonder cart");return}this.items.push({id:n.id,name:n.name}),this.toast("This item has been added to your wonder cart"),this.persist()},remove(t){const e=ea(t);this.items=this.items.filter(n=>!ig(n,e)),this.persist()},clear(){this.items=[],this.persist()},toast(t){this.toastMsg=t,this.showToast=!0,clearTimeout(this._toastTimer),this._toastTimer=setTimeout(()=>this.showToast=!1,4e3)},hydrate(){try{const t=localStorage.getItem("ww_cart_v1");if(t){const e=JSON.parse(t);Array.isArray(e.items)&&(this.items=e.items.map(n=>{const r=ea(n);return{id:r.id,name:r.name}})),e.form&&(this.form={...this.form,...e.form})}}catch{}},persist(){localStorage.setItem("ww_cart_v1",JSON.stringify({items:this.items,form:this.form}))},canSubmitNow(){const t=Date.now(),e=n=>this.submitTimestamps.filter(r=>t-r<=n).length;return!(e(5e3)>=2||e(6e4)>=3||e(36e5)>=5)},markSubmitted(){this.submitTimestamps.push(Date.now())}}}),hn="/assets/Wechat-code1-C1sDxPfE.jpg",Nt="/assets/logo-www-gold-DFz-ybbF.png",Wt="/assets/logo-text-1tvWifvP.png",pt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},AR={name:"WonderCartModal",setup(){const t=$t(),e=400,n=D=>{var G;const K=(((G=D==null?void 0:D.target)==null?void 0:G.value)??"").slice(0,e);K!==t.form.message&&(t.form.message=K)},r=D=>{try{return JSON.parse(D)}catch{return null}},s=D=>{var K;return typeof D=="string"?((K=r(D))==null?void 0:K.name)??D:(D==null?void 0:D.name)??String(D)},i=D=>{var K;return typeof D=="string"?((K=r(D))==null?void 0:K.id)??D:(D==null?void 0:D.id)??String(D)},a=new Date().toISOString().slice(0,10),o=Ye(()=>!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test((t.form.email||"").trim())),l=Ye(()=>{const D=t.form.travelDate;if(!D)return!0;const K=new Date(D+"T00:00:00"),G=new Date(a+"T00:00:00"),E=new Date("2050-12-31T00:00:00");return!(K>=G&&K<=E)}),d=["fuck","shit","bitch","asshole","dumb","trash","cunt","scam","eat dog","kill","sex","chink","ching","chang","Mao","chong","communist","Trump","racist","suicide","ccp","xijinping","Tiananmen","hell","bastard","third-rate","douchebag","covid","flu","bomb","virus"],h=Ye(()=>!(t.form.message&&t.form.message.trim().length>0)),f=Ye(()=>{const D=(t.form.message||"").toLowerCase();return d.some(K=>D.includes(K))}),g=Ye(()=>o.value||l.value||h.value||f.value||!t.canSubmitNow()),_=(D="")=>String(D).replace(/[&<>"']/g,K=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[K]),P=(D,K)=>{var E,y,b;const G=(D.items||[]).map((A,k)=>`
        <tr>
          <td>${k+1}</td>
          <td>${_(A.title||"")}</td>
          <td>${_(A.id||"")}</td>
        </tr>`).join("");return`
        <h3>New enquiry ${K?"#"+K:""}</h3>
        <p><b>Name:</b> ${_(((E=D.contact)==null?void 0:E.name)||"")}<br/>
           <b>Email:</b> ${_(((y=D.contact)==null?void 0:y.email)||"")}<br/>
           <b>Phone:</b> ${_(((b=D.contact)==null?void 0:b.phone)||"")}<br/>
           <b>Travel date:</b> ${_(D.travelDate||"")}</p>
        <p><b>Message:</b><br/>${_(D.message||"").replace(/\n/g,"<br>")}</p>
        <table border="1" cellpadding="6" cellspacing="0">
          <thead><tr><th>#</th><th>Title</th><th>ID</th></tr></thead>
          <tbody>${G||'<tr><td colspan="3">No selected items</td></tr>'}</tbody>
        </table>`},x=(D,K)=>{var E,y,b;const G=(D.items||[]).map((A,k)=>`${k+1}. ${A.title||""} (id:${A.id||""})`).join(`
`)||"No selected items";return`New enquiry ${K?"#"+K:""}
Name: ${((E=D.contact)==null?void 0:E.name)||""}
Email: ${((y=D.contact)==null?void 0:y.email)||""}
Phone: ${((b=D.contact)==null?void 0:b.phone)||""}
Travel date: ${D.travelDate||""}

Message:
${D.message||""}

Items:
${G}
`};async function N(){if(g.value)return;const D={items:t.items.map(K=>{const G=typeof K=="string"?r(K)||{id:K,name:String(K)}:K;return{id:G.id,title:G.name}}),contact:{name:t.form.name||"",email:(t.form.email||"").trim(),phone:[t.form.phoneCc||"",t.form.phoneNumber||""].filter(Boolean).join(" ")},travelDate:t.form.travelDate,message:(t.form.message||"").trim()};try{const K=await LP(D),G=`New enquiry — ${D.contact.name||"Guest"} — ${D.items.length} item(s)`;await FP({to:"info@wanderwonderworlddubai.com",replyTo:D.contact.email||"info@wanderwonderworlddubai.com",subject:G,html:P(D,K==null?void 0:K.id),text:x(D,K==null?void 0:K.id)}),t.markSubmitted(),t.toast("Your enquiry has been submitted. We will get back to you."),t.close()}catch(K){console.error(K),t.toast("Submit failed, please try again later.")}}const H=ri(!1);return{cart:t,MESSAGE_LIMIT:e,enforceMsgLimit:n,getName:s,getId:i,todayISO:a,emailErr:o,dateErr:l,msgRequiredErr:h,msgProfanityErr:f,submitDisabled:g,onSubmit:N,wechatQR:hn,showWechat:H,openWechat:()=>{H.value=!0},closeWechat:()=>{H.value=!1},cartIcon:Fh,logoGold:Nt,logoText:Wt}}},IR={class:"wc-modal",role:"dialog","aria-modal":"true","aria-label":"WonderCart"},CR={class:"wc-head"},kR={class:"wc-title"},PR=["src"],SR={class:"wc-body"},RR={class:"wc-section"},DR={key:0,class:"wc-empty"},xR={key:1,class:"wc-chips"},NR=["onClick"],MR={class:"wc-section"},VR={key:0,class:"field-err"},OR={class:"wc-grid-2"},LR=["min"],FR={key:1,class:"field-err"},UR=["maxlength"],WR={class:"wc-count"},qR={key:2,class:"field-err"},BR={key:3,class:"field-err"},HR={class:"wc-logos"},jR=["src"],$R=["src"],zR={class:"wc-foot"},GR=["disabled"],KR=["disabled"],QR={class:"wc-after"},ZR={class:"wc-links"},YR={class:"wc-qr-box"},JR=["src"];function XR(t,e,n,r,s,i){return r.cart.isOpen?(W(),B("div",{key:0,class:"wc-overlay",onClick:e[13]||(e[13]=Ur(a=>r.cart.close(),["self"]))},[m("div",IR,[m("div",CR,[m("h3",kR,[m("img",{src:r.cartIcon,alt:"",class:"wc-title-icon"},null,8,PR),e[14]||(e[14]=m("span",null,"WonderCart",-1))]),m("button",{class:"wc-close","aria-label":"Close",onClick:e[0]||(e[0]=(...a)=>r.cart.close&&r.cart.close(...a))},"×")]),m("div",SR,[m("div",RR,[e[15]||(e[15]=m("h4",null,"Selected items",-1)),r.cart.items.length?(W(),B("div",xR,[(W(!0),B(je,null,Ut(r.cart.items,a=>(W(),B("span",{key:r.getId(a),class:"wc-chip"},[we(oe(r.getName(a))+" ",1),m("button",{class:"wc-chip-x",onClick:o=>r.cart.remove(a),"aria-label":"remove"},"×",8,NR)]))),128))])):(W(),B("div",DR," No items selected — you can still submit this as a general enquiry. "))]),m("div",MR,[e[18]||(e[18]=m("h4",null,"Your details",-1)),e[19]||(e[19]=m("label",{class:"wc-l"},"Preferred name",-1)),Qt(m("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.cart.form.name=a),class:"wc-inp",placeholder:"e.g. Alex"},null,512),[[on,r.cart.form.name,void 0,{trim:!0}]]),e[20]||(e[20]=m("label",{class:"wc-l"},[we("Email "),m("span",{class:"req"},"*")],-1)),Qt(m("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>r.cart.form.email=a),class:tn(["wc-inp",{err:r.emailErr}]),placeholder:"name@example.com",inputmode:"email"},null,2),[[on,r.cart.form.email,void 0,{trim:!0}]]),r.emailErr?(W(),B("p",VR,"Please enter a valid email address.")):ae("",!0),m("div",OR,[m("div",null,[e[16]||(e[16]=m("label",{class:"wc-l"},"Phone code",-1)),Qt(m("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>r.cart.form.phoneCc=a),class:"wc-inp",placeholder:"+1,+44,+971,etc."},null,512),[[on,r.cart.form.phoneCc,void 0,{trim:!0}]])]),m("div",null,[e[17]||(e[17]=m("label",{class:"wc-l"},"Phone number",-1)),Qt(m("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>r.cart.form.phoneNumber=a),class:"wc-inp",placeholder:"5xxxxxxx"},null,512),[[on,r.cart.form.phoneNumber,void 0,{trim:!0}]])])]),e[21]||(e[21]=m("label",{class:"wc-l"},[we("Travel date (MM-DD-YYYY) "),m("span",{class:"req"},"*")],-1)),Qt(m("input",{type:"date",class:tn(["wc-inp",{err:r.dateErr}]),"onUpdate:modelValue":e[5]||(e[5]=a=>r.cart.form.travelDate=a),min:r.todayISO,max:"2050-12-31"},null,10,LR),[[on,r.cart.form.travelDate]]),r.dateErr?(W(),B("p",FR,"Please choose a date from today.")):ae("",!0),e[22]||(e[22]=m("label",{class:"wc-l"},[we("Message "),m("span",{class:"req"},"*")],-1)),Qt(m("textarea",{"onUpdate:modelValue":e[6]||(e[6]=a=>r.cart.form.message=a),class:tn(["wc-inp",{err:r.msgRequiredErr||r.msgProfanityErr}]),rows:"4",placeholder:"Tell us your plan, pickup area, pax, special notes...",maxlength:r.MESSAGE_LIMIT,onInput:e[7]||(e[7]=(...a)=>r.enforceMsgLimit&&r.enforceMsgLimit(...a))},null,42,UR),[[on,r.cart.form.message,void 0,{trim:!0}]]),m("div",WR,oe((r.cart.form.message||"").length)+"/"+oe(r.MESSAGE_LIMIT),1),r.msgRequiredErr?(W(),B("p",qR,"Message is required.")):r.msgProfanityErr?(W(),B("p",BR,"Please remove inappropriate language from your message.")):ae("",!0),e[23]||(e[23]=m("p",{class:"wc-hint"},"By submitting, I agree WanderWonderWorld to contact me via the details provided.",-1)),m("div",HR,[m("img",{src:r.logoGold,alt:"WanderWonderWorld Gold Logo",class:"wc-logo-gold"},null,8,jR),m("img",{src:r.logoText,alt:"WanderWonderWorld Text Logo",class:"wc-logo-text"},null,8,$R)])])]),m("div",zR,[m("button",{class:"wc-btn wc-light",onClick:e[8]||(e[8]=(...a)=>r.cart.clear&&r.cart.clear(...a)),disabled:!r.cart.items.length},"Clear all",8,GR),m("button",{class:"wc-btn wc-primary",onClick:e[9]||(e[9]=(...a)=>r.onSubmit&&r.onSubmit(...a)),disabled:r.submitDisabled},"Submit enquiry",8,KR)]),m("div",QR,[e[26]||(e[26]=m("p",null,[we(" We usually reply within "),m("strong",null,"3 business days"),we(". If you don’t see our email, please check your spam folder or contact us via: ")],-1)),m("div",ZR,[e[24]||(e[24]=m("a",{href:"mailto:info@wanderwonderworlddubai.com"},"Email us",-1)),e[25]||(e[25]=m("a",{href:"https://wa.me/971589831967",target:"_blank",rel:"noopener"},"WhatsApp us",-1)),m("a",{href:"/#wechat",onClick:e[10]||(e[10]=Ur((...a)=>r.openWechat&&r.openWechat(...a),["prevent"]))},"Wechat us"),r.showWechat?(W(),B("div",{key:0,class:"wc-qr-overlay",onClick:e[12]||(e[12]=Ur((...a)=>r.closeWechat&&r.closeWechat(...a),["self"]))},[m("div",YR,[m("button",{class:"wc-qr-close","aria-label":"Close",onClick:e[11]||(e[11]=(...a)=>r.closeWechat&&r.closeWechat(...a))},"×"),m("img",{src:r.wechatQR,alt:"WeChat QR"},null,8,JR)])])):ae("",!0)])])])])):ae("",!0)}const eD=pt(AR,[["render",XR],["__scopeId","data-v-32fefeeb"]]),tD="0x4AAAAAAB1PYTTF4b41PQ6N",nD={name:"WonderCartModal1",setup(){const t=$t(),e=ri(!1);function n(){return window.turnstile?Promise.resolve():new Promise((G,E)=>{const y=document.createElement("script");y.src="https://challenges.cloudflare.com/turnstile/v0/api.js",y.async=!0,y.defer=!0,y.onload=()=>G(),y.onerror=()=>E(new Error("Turnstile load failed")),document.head.appendChild(y)})}let r=null;function s(){return new Promise(async(G,E)=>{try{if(await n(),!document.getElementById("ts-cn"))return E(new Error("Turnstile container not found"));r||(r=window.turnstile.render("#ts-cn",{sitekey:tD,size:"invisible",callback:b=>G(b),"error-callback":()=>E(new Error("Turnstile error")),"timeout-callback":()=>E(new Error("Turnstile timeout"))})),window.turnstile.execute(r)}catch(y){E(y)}})}const i=400,a=G=>{var y;const E=(((y=G==null?void 0:G.target)==null?void 0:y.value)??"").slice(0,i);E!==t.form.message&&(t.form.message=E)},o=G=>{try{return JSON.parse(G)}catch{return null}},l=G=>{var E;return typeof G=="string"?((E=o(G))==null?void 0:E.name)??G:(G==null?void 0:G.name)??String(G)},d=G=>{var E;return typeof G=="string"?((E=o(G))==null?void 0:E.id)??G:(G==null?void 0:G.id)??String(G)},h=new Date().toISOString().slice(0,10),f=Ye(()=>!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test((t.form.email||"").trim())),g=Ye(()=>{const G=t.form.travelDate;if(!G)return!0;const E=new Date(G+"T00:00:00"),y=new Date(h+"T00:00:00"),b=new Date("2050-12-31T00:00:00");return!(E>=y&&E<=b)}),_=["fuck","shit","bitch","asshole","dumb","trash","cunt","scam","eat dog","kill","sex","chink","ching","chang","Mao","chong","communist","Trump","racist","suicide","ccp","xijinping","Tiananmen","hell","bastard","third-rate","douchebag","covid","flu","bomb","virus","妈","逼","操","垃圾","傻逼","去死","精神","毛泽东","习近平","枪毙","共产","支那","民主","赔钱","六四","自杀","王八","跳楼","新冠","911","boya","炸弹","独立","刘吉利","刘博雅"],P=Ye(()=>!(t.form.message&&t.form.message.trim().length>0)),x=Ye(()=>{const G=(t.form.message||"").toLowerCase();return _.some(E=>G.includes(E))}),N=Ye(()=>f.value||g.value||P.value||x.value||!t.canSubmitNow());function H(){return{items:t.items.map(G=>{const E=typeof G=="string"?o(G)||{id:G,name:String(G)}:G;return{id:E.id,title:E.name}}),contact:{name:t.form.name||"",email:(t.form.email||"").trim(),phone:[t.form.phoneCc||"",t.form.phoneNumber||""].filter(Boolean).join(" ")},travelDate:t.form.travelDate,message:(t.form.message||"").trim()}}async function L(){if(!(N.value||e.value)){e.value=!0;try{const G=await s(),E=H(),y=await fetch("/api/enquiry-cn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:G,payload:E})});if(!y.ok)throw new Error(await y.text());t.markSubmitted(),t.toast("您的咨询已提交，我们会尽快联系您。"),t.close()}catch(G){console.error(G),t.toast("提交失败，请稍后再试，或通过 WhatsApp / 邮件联系我们。")}finally{e.value=!1,window.turnstile&&r&&window.turnstile.reset(r)}}}const $=ri(!1),D=()=>{$.value=!0},K=()=>{$.value=!1};return Qs(()=>t.isOpen,G=>{G&&n().catch(()=>{})},{immediate:!1}),{cart:t,submitting:e,MESSAGE_LIMIT:i,enforceMsgLimit:a,getName:l,getId:d,todayISO:h,emailErr:f,dateErr:g,msgRequiredErr:P,msgProfanityErr:x,submitDisabled:N,onSubmitClick:L,wechatQR:hn,showWechat:$,openWechat:D,closeWechat:K,cartIcon:Fh,logoGold:Nt,logoText:Wt}}},rD={class:"wc-modal",role:"dialog","aria-modal":"true","aria-label":"WonderCart"},sD={class:"wc-head"},iD={class:"wc-title"},aD=["src"],oD={class:"wc-body"},cD={class:"wc-section"},lD={key:0,class:"wc-empty"},dD={key:1,class:"wc-chips"},uD=["onClick"],hD={class:"wc-section"},fD={key:0,class:"field-err"},pD={class:"wc-grid-2"},mD=["min"],gD={key:1,class:"field-err"},vD=["maxlength"],yD={class:"wc-count"},_D={key:2,class:"field-err"},bD={key:3,class:"field-err"},wD={class:"wc-logos"},TD=["src"],ED=["src"],AD={class:"wc-foot"},ID=["disabled"],CD=["disabled"],kD={class:"wc-after"},PD={class:"wc-links"},SD={class:"wc-qr-box"},RD=["src"];function DD(t,e,n,r,s,i){return r.cart.isOpen?(W(),B("div",{key:0,class:"wc-overlay",onClick:e[13]||(e[13]=Ur(a=>r.cart.close(),["self"]))},[m("div",rD,[m("div",sD,[m("h3",iD,[m("img",{src:r.cartIcon,alt:"",class:"wc-title-icon"},null,8,aD),e[14]||(e[14]=m("span",null,"万德购物车",-1))]),m("button",{class:"wc-close","aria-label":"Close",onClick:e[0]||(e[0]=(...a)=>r.cart.close&&r.cart.close(...a))},"×")]),m("div",oD,[m("div",cD,[e[15]||(e[15]=m("h4",null,"已选清单",-1)),r.cart.items.length?(W(),B("div",dD,[(W(!0),B(je,null,Ut(r.cart.items,a=>(W(),B("span",{key:r.getId(a),class:"wc-chip"},[we(oe(r.getName(a))+" ",1),m("button",{class:"wc-chip-x",onClick:o=>r.cart.remove(a),"aria-label":"remove"},"×",8,uD)]))),128))])):(W(),B("div",lD," 购物车此时空空如也 — 但请放心您仍然可以提交此表格来概略性咨询。 "))]),m("div",hD,[e[18]||(e[18]=m("h4",null,"您的联系方式",-1)),e[19]||(e[19]=m("label",{class:"wc-l"},"如何称呼您",-1)),Qt(m("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.cart.form.name=a),class:"wc-inp",placeholder:"e.g. Alex"},null,512),[[on,r.cart.form.name,void 0,{trim:!0}]]),e[20]||(e[20]=m("label",{class:"wc-l"},[we(" 电子邮箱 "),m("span",{class:"req"},"*")],-1)),Qt(m("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>r.cart.form.email=a),class:tn(["wc-inp",{err:r.emailErr}]),placeholder:"name@example.com",inputmode:"email"},null,2),[[on,r.cart.form.email,void 0,{trim:!0}]]),r.emailErr?(W(),B("p",fD,"请输入正确的电子邮箱格式。")):ae("",!0),m("div",pD,[m("div",null,[e[16]||(e[16]=m("label",{class:"wc-l"},"国际区号",-1)),Qt(m("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>r.cart.form.phoneCc=a),class:"wc-inp",placeholder:"+1,+44,+971,etc."},null,512),[[on,r.cart.form.phoneCc,void 0,{trim:!0}]])]),m("div",null,[e[17]||(e[17]=m("label",{class:"wc-l"},"电话号码",-1)),Qt(m("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>r.cart.form.phoneNumber=a),class:"wc-inp",placeholder:"5xxxxxxx"},null,512),[[on,r.cart.form.phoneNumber,void 0,{trim:!0}]])])]),e[21]||(e[21]=m("label",{class:"wc-l"},[we(" 旅行时间 (MM-DD-YYYY) "),m("span",{class:"req"},"*")],-1)),Qt(m("input",{type:"date",class:tn(["wc-inp",{err:r.dateErr}]),"onUpdate:modelValue":e[5]||(e[5]=a=>r.cart.form.travelDate=a),min:r.todayISO,max:"2050-12-31"},null,10,mD),[[on,r.cart.form.travelDate]]),r.dateErr?(W(),B("p",gD,"请选择一个从今天起算的日期。")):ae("",!0),e[22]||(e[22]=m("label",{class:"wc-l"},[we(" 您的咨询内容 "),m("span",{class:"req"},"*")],-1)),Qt(m("textarea",{"onUpdate:modelValue":e[6]||(e[6]=a=>r.cart.form.message=a),class:tn(["wc-inp",{err:r.msgRequiredErr||r.msgProfanityErr}]),rows:"4",placeholder:"告诉我们您的出行计划, 接您的地点, 有什么特殊要求...",maxlength:r.MESSAGE_LIMIT,onInput:e[7]||(e[7]=(...a)=>r.enforceMsgLimit&&r.enforceMsgLimit(...a))},null,42,vD),[[on,r.cart.form.message,void 0,{trim:!0}]]),m("div",yD,oe((r.cart.form.message||"").length)+"/"+oe(r.MESSAGE_LIMIT),1),r.msgRequiredErr?(W(),B("p",_D,"您需要填写咨询内容才能提交咨询表。")):r.msgProfanityErr?(W(),B("p",bD,"请您移除不恰当的文字。")):ae("",!0),e[23]||(e[23]=m("p",{class:"wc-hint"},"通过提交本次咨询表，我同意万德假日通过我提供的信息联系我。",-1)),m("div",wD,[m("img",{src:r.logoGold,alt:"WanderWonderWorld Gold Logo",class:"wc-logo-gold"},null,8,TD),m("img",{src:r.logoText,alt:"WanderWonderWorld Text Logo",class:"wc-logo-text"},null,8,ED)])])]),m("div",AD,[m("button",{class:"wc-btn wc-light",onClick:e[8]||(e[8]=(...a)=>r.cart.clear&&r.cart.clear(...a)),disabled:!r.cart.items.length},"清除全部",8,ID),m("button",{class:"wc-btn wc-primary",onClick:e[9]||(e[9]=(...a)=>r.onSubmitClick&&r.onSubmitClick(...a)),disabled:r.submitDisabled||r.submitting},oe(r.submitting?"提交中…":"提交咨询"),9,CD)]),m("div",kD,[e[26]||(e[26]=m("p",null,[we(" 我们通常会在 "),m("strong",null,"3个工作日内"),we("通过发送电子邮件回复您的讯息；如果您没收到邮件，请检查垃圾箱。也可快速联系： ")],-1)),m("div",PD,[e[24]||(e[24]=m("a",{href:"mailto:info@wanderwonderworlddubai.com"},"邮件联系",-1)),e[25]||(e[25]=m("a",{href:"https://wa.me/971589831967",target:"_blank",rel:"noopener"},"WhatsApp 我们",-1)),m("a",{href:"/#wechat",onClick:e[10]||(e[10]=Ur((...a)=>r.openWechat&&r.openWechat(...a),["prevent"]))},"微信扫一扫"),r.showWechat?(W(),B("div",{key:0,class:"wc-qr-overlay",onClick:e[12]||(e[12]=Ur((...a)=>r.closeWechat&&r.closeWechat(...a),["self"]))},[m("div",SD,[m("button",{class:"wc-qr-close","aria-label":"Close",onClick:e[11]||(e[11]=(...a)=>r.closeWechat&&r.closeWechat(...a))},"×"),m("img",{src:r.wechatQR,alt:"WeChat QR"},null,8,RD)])])):ae("",!0)])]),e[27]||(e[27]=m("div",{id:"ts-cn",class:"cf-turnstile",style:{display:"none"}},null,-1))])])):ae("",!0)}const xD=pt(nD,[["render",DD],["__scopeId","data-v-4ae48459"]]);function dd(t){if(!t)return!1;const e=t.split("?")[0];return/^\/(transfers|package|safari|city)\/[^/]*1$/.test(e)}const ND={name:"App",components:{WonderCartModal:eD,WonderCartModal1:xD},data(){const t=typeof window<"u"?window.location.pathname:"/";return{isMenuOpen:!1,mailIcon:mR,cartIcon:Fh,zhMode:t.startsWith("/cn")||dd(t),navTextEn:{home:"Home",transfers:"Private Transfers",packages:"Tour Package",safari:"Desert Safari",city:"City Tour",cruise:"Dhow Cruise",cart:"WonderCart"},navTextZh:{home:"首页",transfers:"专车接送",packages:"旅游套餐",safari:"沙漠冲沙",city:"城市一日游",cruise:"游船晚餐",cart:"万德购物车"},routeNamePair:{Home:"HomeZh",HomeZh:"Home",Transfers:"TransfersZh",TransfersZh:"Transfers",Packages:"PackagesZh",PackagesZh:"Packages",Safari:"SafariZh",SafariZh:"Safari",City:"CityZh",CityZh:"City",Cruise:"CruiseZh",CruiseZh:"Cruise"}}},computed:{cart(){return $t()},navText(){return this.zhMode?this.navTextZh:this.navTextEn},navPaths(){return this.zhMode?{home:"/cn",transfers:"/cn/transfers",packages:"/cn/packages",safari:"/cn/safari",city:"/cn/city",cruise:"/cn/cruise"}:{home:"/",transfers:"/transfers",packages:"/packages",safari:"/safari",city:"/city",cruise:"/cruise"}}},mounted(){var r,s;this.cart.hydrate();const t=((r=this.$route)==null?void 0:r.path)||"",e=t.startsWith("/cn")||/Zh$/.test(((s=this.$route)==null?void 0:s.name)||"")||dd(t);this.zhMode=e;const n=localStorage.getItem("zhMode");n===null?localStorage.setItem("zhMode",this.zhMode?"1":"0"):n==="1"!==e&&(this.zhMode=e,localStorage.setItem("zhMode",e?"1":"0"))},watch:{$route(t){const e=(t==null?void 0:t.path)||"",n=e.startsWith("/cn")||/Zh$/.test((t==null?void 0:t.name)||"")||dd(e);n!==this.zhMode&&(this.zhMode=n,localStorage.setItem("zhMode",n?"1":"0"))}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},closeMenu(){this.isMenuOpen=!1},toggleLang(){const t=!this.zhMode;this.zhMode=t,localStorage.setItem("zhMode",t?"1":"0");const e=this.$route.name,n=this.routeNamePair[e];n?this.$router.replace({name:n}):this.$router.replace({path:t?"/cn":"/"})}}},MD={id:"app"},VD={class:"site-header"},OD={class:"topbar"},LD={class:"bar-inner"},FD={class:"email-info"},UD=["src"],WD={class:"navbar"},qD={class:"bar-inner"},BD={class:"email-inline"},HD=["src"],jD=["src"],$D={key:0},zD={key:2,class:"global-toast"},GD={class:"selected-services",role:"navigation","aria-label":"Selected Services"},KD={class:"ss-inner"},QD={class:"ss-grid"};function ZD(t,e,n,r,s,i){const a=lt("router-link"),o=lt("WonderCartModal"),l=lt("WonderCartModal1"),d=lt("router-view");return W(),B("div",MD,[m("header",VD,[m("div",OD,[m("div",LD,[m("div",FD,[m("img",{src:s.mailIcon,alt:"Email Icon",class:"mail-ico"},null,8,UD),e[4]||(e[4]=m("a",{class:"email-link",href:"mailto:info@wanderwonderworlddubai.com"}," info@wanderwonderworlddubai.com ",-1))]),m("button",{class:"menu-toggle",onClick:e[0]||(e[0]=(...h)=>i.toggleMenu&&i.toggleMenu(...h)),"aria-label":"Toggle menu"},"☰")])]),m("div",WD,[m("div",qD,[m("nav",{class:tn({open:s.isMenuOpen}),onClick:e[3]||(e[3]=Ur((...h)=>i.closeMenu&&i.closeMenu(...h),["self"]))},[m("div",BD,[m("img",{src:s.mailIcon,alt:"Email Icon",class:"mail-ico"},null,8,HD),e[5]||(e[5]=m("a",{class:"email-link",href:"mailto:info@wanderwonderworlddubai.com"}," info@wanderwonderworlddubai.com ",-1))]),V(a,{to:i.navPaths.home},{default:Ge(()=>[we(oe(i.navText.home),1)]),_:1},8,["to"]),V(a,{to:i.navPaths.transfers},{default:Ge(()=>[we(oe(i.navText.transfers),1)]),_:1},8,["to"]),V(a,{to:i.navPaths.packages},{default:Ge(()=>[we(oe(i.navText.packages),1)]),_:1},8,["to"]),V(a,{to:i.navPaths.safari},{default:Ge(()=>[we(oe(i.navText.safari),1)]),_:1},8,["to"]),V(a,{to:i.navPaths.city},{default:Ge(()=>[we(oe(i.navText.city),1)]),_:1},8,["to"]),V(a,{to:i.navPaths.cruise},{default:Ge(()=>[we(oe(i.navText.cruise),1)]),_:1},8,["to"]),m("button",{class:"nav-lang",type:"button",onClick:e[1]||(e[1]=(...h)=>i.toggleLang&&i.toggleLang(...h))},"EN / 中"),m("button",{class:"nav-cart",type:"button",onClick:e[2]||(e[2]=Ur(h=>i.cart.open(),["stop"]))},[m("img",{src:s.cartIcon,alt:"WonderCart"},null,8,jD),m("span",null,oe(i.navText.cart),1),i.cart.items.length?(W(),B("sup",$D,oe(i.cart.items.length),1)):ae("",!0)])],2)])])]),s.zhMode?(W(),cc(l,{key:1})):(W(),cc(o,{key:0})),i.cart.showToast?(W(),B("div",zD,oe(i.cart.toastMsg),1)):ae("",!0),V(d),m("footer",GD,[m("div",KD,[e[17]||(e[17]=m("h3",null,"Selected Services",-1)),m("div",QD,[V(a,{class:"ss-btn",to:"/transfers"},{default:Ge(()=>[...e[6]||(e[6]=[we("Airport Transfers",-1)])]),_:1}),V(a,{class:"ss-btn",to:"/package/56nights"},{default:Ge(()=>[...e[7]||(e[7]=[we("6 Nights Signature Plus",-1)])]),_:1}),V(a,{class:"ss-btn",to:"/safari/upsafari"},{default:Ge(()=>[...e[8]||(e[8]=[we("Extended Dunes Thrill",-1)])]),_:1}),V(a,{class:"ss-btn",to:"/safari/upsafari"},{default:Ge(()=>[...e[9]||(e[9]=[we("Royal Dunes Safari",-1)])]),_:1}),V(a,{class:"ss-btn",to:"/safari/addon"},{default:Ge(()=>[...e[10]||(e[10]=[we("Buggy Ride (2-Seater)",-1)])]),_:1}),V(a,{class:"ss-btn",to:"/city/city34"},{default:Ge(()=>[...e[11]||(e[11]=[we("Abu Dhabi Culture Day",-1)])]),_:1}),V(a,{class:"ss-btn",to:"/city/city34"},{default:Ge(()=>[...e[12]||(e[12]=[we("Hatta Mountain Escape",-1)])]),_:1}),V(a,{class:"ss-btn",to:"/city/sndcruise"},{default:Ge(()=>[...e[13]||(e[13]=[we("Dubai Water Canal Glassboat Dinner",-1)])]),_:1}),V(a,{class:"ss-btn",to:"/city/sndcruise"},{default:Ge(()=>[...e[14]||(e[14]=[we("Lotus Mega Yacht Dinner",-1)])]),_:1}),V(a,{class:"ss-btn",to:"/contact"},{default:Ge(()=>[...e[15]||(e[15]=[we("About Us",-1)])]),_:1}),V(a,{class:"ss-btn",to:"/contact"},{default:Ge(()=>[...e[16]||(e[16]=[we("Terms and Conditions",-1)])]),_:1})]),e[18]||(e[18]=m("div",{class:"copyright"}," Copyright © 2025. WanderWonderWorld. All Rights Reserved. ",-1))])])])}const YD=pt(ND,[["render",ZD],["__scopeId","data-v-276d0e81"]]),JD="modulepreload",XD=function(t){return"/"+t},ag={},nt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=XD(l),l in ag)return;ag[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":JD,d||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),d)return new Promise((g,_)=>{f.addEventListener("load",g),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Us=typeof document<"u";function H1(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function e4(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&H1(t.default)}const Ne=Object.assign;function ud(t,e){const n={};for(const r in e){const s=e[r];n[r]=An(s)?s.map(t):t(s)}return n}const ta=()=>{},An=Array.isArray,j1=/#/g,t4=/&/g,n4=/\//g,r4=/=/g,s4=/\?/g,$1=/\+/g,i4=/%5B/g,a4=/%5D/g,z1=/%5E/g,o4=/%60/g,G1=/%7B/g,c4=/%7C/g,K1=/%7D/g,l4=/%20/g;function Uh(t){return encodeURI(""+t).replace(c4,"|").replace(i4,"[").replace(a4,"]")}function d4(t){return Uh(t).replace(G1,"{").replace(K1,"}").replace(z1,"^")}function eu(t){return Uh(t).replace($1,"%2B").replace(l4,"+").replace(j1,"%23").replace(t4,"%26").replace(o4,"`").replace(G1,"{").replace(K1,"}").replace(z1,"^")}function u4(t){return eu(t).replace(r4,"%3D")}function h4(t){return Uh(t).replace(j1,"%23").replace(s4,"%3F")}function f4(t){return t==null?"":h4(t).replace(n4,"%2F")}function Aa(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const p4=/\/$/,m4=t=>t.replace(p4,"");function hd(t,e,n="/"){let r,s={},i="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,o>-1?o:e.length),s=t(i)),o>-1&&(r=r||e.slice(0,o),a=e.slice(o,e.length)),r=_4(r??e,n),{fullPath:r+(i&&"?")+i+a,path:r,query:s,hash:Aa(a)}}function g4(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function og(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function v4(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&ii(e.matched[r],n.matched[s])&&Q1(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ii(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Q1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!y4(t[n],e[n]))return!1;return!0}function y4(t,e){return An(t)?cg(t,e):An(e)?cg(e,t):t===e}function cg(t,e){return An(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function _4(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,o;for(a=0;a<r.length;a++)if(o=r[a],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const wr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ia;(function(t){t.pop="pop",t.push="push"})(Ia||(Ia={}));var na;(function(t){t.back="back",t.forward="forward",t.unknown=""})(na||(na={}));function b4(t){if(!t)if(Us){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),m4(t)}const w4=/^[^#]+#/;function T4(t,e){return t.replace(w4,"#")+e}function E4(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const el=()=>({left:window.scrollX,top:window.scrollY});function A4(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=E4(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function lg(t,e){return(history.state?history.state.position-e:-1)+t}const tu=new Map;function I4(t,e){tu.set(t,e)}function C4(t){const e=tu.get(t);return tu.delete(t),e}let k4=()=>location.protocol+"//"+location.host;function Z1(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(o);return l[0]!=="/"&&(l="/"+l),og(l,"")}return og(n,t)+r+s}function P4(t,e,n,r){let s=[],i=[],a=null;const o=({state:g})=>{const _=Z1(t,location),P=n.value,x=e.value;let N=0;if(g){if(n.value=_,e.value=g,a&&a===P){a=null;return}N=x?g.position-x.position:0}else r(_);s.forEach(H=>{H(n.value,P,{delta:N,type:Ia.pop,direction:N?N>0?na.forward:na.back:na.unknown})})};function l(){a=n.value}function d(g){s.push(g);const _=()=>{const P=s.indexOf(g);P>-1&&s.splice(P,1)};return i.push(_),_}function h(){const{history:g}=window;g.state&&g.replaceState(Ne({},g.state,{scroll:el()}),"")}function f(){for(const g of i)g();i=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:d,destroy:f}}function dg(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?el():null}}function S4(t){const{history:e,location:n}=window,r={value:Z1(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,d,h){const f=t.indexOf("#"),g=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:k4()+t+l;try{e[h?"replaceState":"pushState"](d,"",g),s.value=d}catch(_){console.error(_),n[h?"replace":"assign"](g)}}function a(l,d){const h=Ne({},e.state,dg(s.value.back,l,s.value.forward,!0),d,{position:s.value.position});i(l,h,!0),r.value=l}function o(l,d){const h=Ne({},s.value,e.state,{forward:l,scroll:el()});i(h.current,h,!0);const f=Ne({},dg(r.value,l,null),{position:h.position+1},d);i(l,f,!1),r.value=l}return{location:r,state:s,push:o,replace:a}}function R4(t){t=b4(t);const e=S4(t),n=P4(t,e.state,e.location,e.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=Ne({location:"",base:t,go:r,createHref:T4.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function D4(t){return typeof t=="string"||t&&typeof t=="object"}function Y1(t){return typeof t=="string"||typeof t=="symbol"}const J1=Symbol("");var ug;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ug||(ug={}));function ai(t,e){return Ne(new Error,{type:t,[J1]:!0},e)}function Qn(t,e){return t instanceof Error&&J1 in t&&(e==null||!!(t.type&e))}const hg="[^/]+?",x4={sensitive:!1,strict:!1,start:!0,end:!0},N4=/[.+*?^${}()[\]/\\]/g;function M4(t,e){const n=Ne({},x4,e),r=[];let s=n.start?"^":"";const i=[];for(const d of t){const h=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let f=0;f<d.length;f++){const g=d[f];let _=40+(n.sensitive?.25:0);if(g.type===0)f||(s+="/"),s+=g.value.replace(N4,"\\$&"),_+=40;else if(g.type===1){const{value:P,repeatable:x,optional:N,regexp:H}=g;i.push({name:P,repeatable:x,optional:N});const L=H||hg;if(L!==hg){_+=10;try{new RegExp(`(${L})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${P}" (${L}): `+D.message)}}let $=x?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;f||($=N&&d.length<2?`(?:/${$})`:"/"+$),N&&($+="?"),s+=$,_+=20,N&&(_+=-8),x&&(_+=-20),L===".*"&&(_+=-50)}h.push(_)}r.push(h)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function o(d){const h=d.match(a),f={};if(!h)return null;for(let g=1;g<h.length;g++){const _=h[g]||"",P=i[g-1];f[P.name]=_&&P.repeatable?_.split("/"):_}return f}function l(d){let h="",f=!1;for(const g of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const _ of g)if(_.type===0)h+=_.value;else if(_.type===1){const{value:P,repeatable:x,optional:N}=_,H=P in d?d[P]:"";if(An(H)&&!x)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const L=An(H)?H.join("/"):H;if(!L)if(N)g.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${P}"`);h+=L}}return h||"/"}return{re:a,score:r,keys:i,parse:o,stringify:l}}function V4(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function X1(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=V4(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(fg(r))return 1;if(fg(s))return-1}return s.length-r.length}function fg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const O4={type:0,value:""},L4=/[a-zA-Z0-9_]/;function F4(t){if(!t)return[[]];if(t==="/")return[[O4]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(_){throw new Error(`ERR (${n})/"${d}": ${_}`)}let n=0,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let o=0,l,d="",h="";function f(){d&&(n===0?i.push({type:0,value:d}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),d="")}function g(){d+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(d&&f(),a()):l===":"?(f(),n=1):g();break;case 4:g(),n=r;break;case 1:l==="("?n=2:L4.test(l)?g():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),a(),s}function U4(t,e,n){const r=M4(F4(t.path),n),s=Ne(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function W4(t,e){const n=[],r=new Map;e=vg({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,g,_){const P=!_,x=mg(f);x.aliasOf=_&&_.record;const N=vg(e,f),H=[x];if("alias"in f){const D=typeof f.alias=="string"?[f.alias]:f.alias;for(const K of D)H.push(mg(Ne({},x,{components:_?_.record.components:x.components,path:K,aliasOf:_?_.record:x})))}let L,$;for(const D of H){const{path:K}=D;if(g&&K[0]!=="/"){const G=g.record.path,E=G[G.length-1]==="/"?"":"/";D.path=g.record.path+(K&&E+K)}if(L=U4(D,g,N),_?_.alias.push(L):($=$||L,$!==L&&$.alias.push(L),P&&f.name&&!gg(L)&&a(f.name)),eb(L)&&l(L),x.children){const G=x.children;for(let E=0;E<G.length;E++)i(G[E],L,_&&_.children[E])}_=_||L}return $?()=>{a($)}:ta}function a(f){if(Y1(f)){const g=r.get(f);g&&(r.delete(f),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(f);g>-1&&(n.splice(g,1),f.record.name&&r.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function o(){return n}function l(f){const g=H4(f,n);n.splice(g,0,f),f.record.name&&!gg(f)&&r.set(f.record.name,f)}function d(f,g){let _,P={},x,N;if("name"in f&&f.name){if(_=r.get(f.name),!_)throw ai(1,{location:f});N=_.record.name,P=Ne(pg(g.params,_.keys.filter($=>!$.optional).concat(_.parent?_.parent.keys.filter($=>$.optional):[]).map($=>$.name)),f.params&&pg(f.params,_.keys.map($=>$.name))),x=_.stringify(P)}else if(f.path!=null)x=f.path,_=n.find($=>$.re.test(x)),_&&(P=_.parse(x),N=_.record.name);else{if(_=g.name?r.get(g.name):n.find($=>$.re.test(g.path)),!_)throw ai(1,{location:f,currentLocation:g});N=_.record.name,P=Ne({},g.params,f.params),x=_.stringify(P)}const H=[];let L=_;for(;L;)H.unshift(L.record),L=L.parent;return{name:N,path:x,params:P,matched:H,meta:B4(H)}}t.forEach(f=>i(f));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:d,removeRoute:a,clearRoutes:h,getRoutes:o,getRecordMatcher:s}}function pg(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function mg(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:q4(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function q4(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function gg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function B4(t){return t.reduce((e,n)=>Ne(e,n.meta),{})}function vg(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function H4(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;X1(t,e[i])<0?r=i:n=i+1}const s=j4(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function j4(t){let e=t;for(;e=e.parent;)if(eb(e)&&X1(t,e)===0)return e}function eb({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function $4(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace($1," "),a=i.indexOf("="),o=Aa(a<0?i:i.slice(0,a)),l=a<0?null:Aa(i.slice(a+1));if(o in e){let d=e[o];An(d)||(d=e[o]=[d]),d.push(l)}else e[o]=l}return e}function yg(t){let e="";for(let n in t){const r=t[n];if(n=u4(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(An(r)?r.map(i=>i&&eu(i)):[r&&eu(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function z4(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=An(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const G4=Symbol(""),_g=Symbol(""),Wh=Symbol(""),tb=Symbol(""),nu=Symbol("");function Ni(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ir(t,e,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,l)=>{const d=g=>{g===!1?l(ai(4,{from:n,to:e})):g instanceof Error?l(g):D4(g)?l(ai(2,{from:e,to:g})):(a&&r.enterCallbacks[s]===a&&typeof g=="function"&&a.push(g),o())},h=i(()=>t.call(r&&r.instances[s],e,n,d));let f=Promise.resolve(h);t.length<3&&(f=f.then(d)),f.catch(g=>l(g))})}function fd(t,e,n,r,s=i=>i()){const i=[];for(const a of t)for(const o in a.components){let l=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(H1(l)){const h=(l.__vccOpts||l)[e];h&&i.push(Ir(h,n,r,a,o,s))}else{let d=l();i.push(()=>d.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const f=e4(h)?h.default:h;a.mods[o]=h,a.components[o]=f;const _=(f.__vccOpts||f)[e];return _&&Ir(_,n,r,a,o,s)()}))}}return i}function bg(t){const e=Fn(Wh),n=Fn(tb),r=Ye(()=>{const l=Gs(t.to);return e.resolve(l)}),s=Ye(()=>{const{matched:l}=r.value,{length:d}=l,h=l[d-1],f=n.matched;if(!h||!f.length)return-1;const g=f.findIndex(ii.bind(null,h));if(g>-1)return g;const _=wg(l[d-2]);return d>1&&wg(h)===_&&f[f.length-1].path!==_?f.findIndex(ii.bind(null,l[d-2])):g}),i=Ye(()=>s.value>-1&&J4(n.params,r.value.params)),a=Ye(()=>s.value>-1&&s.value===n.matched.length-1&&Q1(n.params,r.value.params));function o(l={}){if(Y4(l)){const d=e[Gs(t.replace)?"replace":"push"](Gs(t.to)).catch(ta);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:r,href:Ye(()=>r.value.href),isActive:i,isExactActive:a,navigate:o}}function K4(t){return t.length===1?t[0]:t}const Q4=c1({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:bg,setup(t,{slots:e}){const n=Ua(bg(t)),{options:r}=Fn(Wh),s=Ye(()=>({[Tg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Tg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&K4(e.default(n));return t.custom?i:Oh("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Z4=Q4;function Y4(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function J4(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!An(s)||s.length!==r.length||r.some((i,a)=>i!==s[a]))return!1}return!0}function wg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Tg=(t,e,n)=>t??e??n,X4=c1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Fn(nu),s=Ye(()=>t.route||r.value),i=Fn(_g,0),a=Ye(()=>{let d=Gs(i);const{matched:h}=s.value;let f;for(;(f=h[d])&&!f.components;)d++;return d}),o=Ye(()=>s.value.matched[a.value]);Ro(_g,Ye(()=>a.value+1)),Ro(G4,o),Ro(nu,s);const l=ri();return Qs(()=>[l.value,o.value,t.name],([d,h,f],[g,_,P])=>{h&&(h.instances[f]=d,_&&_!==h&&d&&d===g&&(h.leaveGuards.size||(h.leaveGuards=_.leaveGuards),h.updateGuards.size||(h.updateGuards=_.updateGuards))),d&&h&&(!_||!ii(h,_)||!g)&&(h.enterCallbacks[f]||[]).forEach(x=>x(d))},{flush:"post"}),()=>{const d=s.value,h=t.name,f=o.value,g=f&&f.components[h];if(!g)return Eg(n.default,{Component:g,route:d});const _=f.props[h],P=_?_===!0?d.params:typeof _=="function"?_(d):_:null,N=Oh(g,Ne({},P,e,{onVnodeUnmounted:H=>{H.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return Eg(n.default,{Component:N,route:d})||N}}});function Eg(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const e9=X4;function t9(t){const e=W4(t.routes,t),n=t.parseQuery||$4,r=t.stringifyQuery||yg,s=t.history,i=Ni(),a=Ni(),o=Ni(),l=vS(wr);let d=wr;Us&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=ud.bind(null,F=>""+F),f=ud.bind(null,f4),g=ud.bind(null,Aa);function _(F,re){let ee,ie;return Y1(F)?(ee=e.getRecordMatcher(F),ie=re):ie=F,e.addRoute(ie,ee)}function P(F){const re=e.getRecordMatcher(F);re&&e.removeRoute(re)}function x(){return e.getRoutes().map(F=>F.record)}function N(F){return!!e.getRecordMatcher(F)}function H(F,re){if(re=Ne({},re||l.value),typeof F=="string"){const S=hd(n,F,re.path),U=e.resolve({path:S.path},re),z=s.createHref(S.fullPath);return Ne(S,U,{params:g(U.params),hash:Aa(S.hash),redirectedFrom:void 0,href:z})}let ee;if(F.path!=null)ee=Ne({},F,{path:hd(n,F.path,re.path).path});else{const S=Ne({},F.params);for(const U in S)S[U]==null&&delete S[U];ee=Ne({},F,{params:f(S)}),re.params=f(re.params)}const ie=e.resolve(ee,re),Re=F.hash||"";ie.params=h(g(ie.params));const T=g4(r,Ne({},F,{hash:d4(Re),path:ie.path})),C=s.createHref(T);return Ne({fullPath:T,hash:Re,query:r===yg?z4(F.query):F.query||{}},ie,{redirectedFrom:void 0,href:C})}function L(F){return typeof F=="string"?hd(n,F,l.value.path):Ne({},F)}function $(F,re){if(d!==F)return ai(8,{from:re,to:F})}function D(F){return E(F)}function K(F){return D(Ne(L(F),{replace:!0}))}function G(F){const re=F.matched[F.matched.length-1];if(re&&re.redirect){const{redirect:ee}=re;let ie=typeof ee=="function"?ee(F):ee;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=L(ie):{path:ie},ie.params={}),Ne({query:F.query,hash:F.hash,params:ie.path!=null?{}:F.params},ie)}}function E(F,re){const ee=d=H(F),ie=l.value,Re=F.state,T=F.force,C=F.replace===!0,S=G(ee);if(S)return E(Ne(L(S),{state:typeof S=="object"?Ne({},Re,S.state):Re,force:T,replace:C}),re||ee);const U=ee;U.redirectedFrom=re;let z;return!T&&v4(r,ie,ee)&&(z=ai(16,{to:U,from:ie}),nn(ie,ie,!0,!1)),(z?Promise.resolve(z):A(U,ie)).catch(q=>Qn(q)?Qn(q,2)?q:mn(q):Ee(q,U,ie)).then(q=>{if(q){if(Qn(q,2))return E(Ne({replace:C},L(q.to),{state:typeof q.to=="object"?Ne({},Re,q.to.state):Re,force:T}),re||U)}else q=I(U,ie,!0,C,Re);return k(U,ie,q),q})}function y(F,re){const ee=$(F,re);return ee?Promise.reject(ee):Promise.resolve()}function b(F){const re=pr.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(F):F()}function A(F,re){let ee;const[ie,Re,T]=n9(F,re);ee=fd(ie.reverse(),"beforeRouteLeave",F,re);for(const S of ie)S.leaveGuards.forEach(U=>{ee.push(Ir(U,F,re))});const C=y.bind(null,F,re);return ee.push(C),qt(ee).then(()=>{ee=[];for(const S of i.list())ee.push(Ir(S,F,re));return ee.push(C),qt(ee)}).then(()=>{ee=fd(Re,"beforeRouteUpdate",F,re);for(const S of Re)S.updateGuards.forEach(U=>{ee.push(Ir(U,F,re))});return ee.push(C),qt(ee)}).then(()=>{ee=[];for(const S of T)if(S.beforeEnter)if(An(S.beforeEnter))for(const U of S.beforeEnter)ee.push(Ir(U,F,re));else ee.push(Ir(S.beforeEnter,F,re));return ee.push(C),qt(ee)}).then(()=>(F.matched.forEach(S=>S.enterCallbacks={}),ee=fd(T,"beforeRouteEnter",F,re,b),ee.push(C),qt(ee))).then(()=>{ee=[];for(const S of a.list())ee.push(Ir(S,F,re));return ee.push(C),qt(ee)}).catch(S=>Qn(S,8)?S:Promise.reject(S))}function k(F,re,ee){o.list().forEach(ie=>b(()=>ie(F,re,ee)))}function I(F,re,ee,ie,Re){const T=$(F,re);if(T)return T;const C=re===wr,S=Us?history.state:{};ee&&(ie||C?s.replace(F.fullPath,Ne({scroll:C&&S&&S.scroll},Re)):s.push(F.fullPath,Re)),l.value=F,nn(F,re,ee,C),mn()}let w;function xe(){w||(w=s.listen((F,re,ee)=>{if(!Cn.listening)return;const ie=H(F),Re=G(ie);if(Re){E(Ne(Re,{replace:!0,force:!0}),ie).catch(ta);return}d=ie;const T=l.value;Us&&I4(lg(T.fullPath,ee.delta),el()),A(ie,T).catch(C=>Qn(C,12)?C:Qn(C,2)?(E(Ne(L(C.to),{force:!0}),ie).then(S=>{Qn(S,20)&&!ee.delta&&ee.type===Ia.pop&&s.go(-1,!1)}).catch(ta),Promise.reject()):(ee.delta&&s.go(-ee.delta,!1),Ee(C,ie,T))).then(C=>{C=C||I(ie,T,!1),C&&(ee.delta&&!Qn(C,8)?s.go(-ee.delta,!1):ee.type===Ia.pop&&Qn(C,20)&&s.go(-1,!1)),k(ie,T,C)}).catch(ta)}))}let tt=Ni(),Oe=Ni(),me;function Ee(F,re,ee){mn(F);const ie=Oe.list();return ie.length?ie.forEach(Re=>Re(F,re,ee)):console.error(F),Promise.reject(F)}function zt(){return me&&l.value!==wr?Promise.resolve():new Promise((F,re)=>{tt.add([F,re])})}function mn(F){return me||(me=!F,xe(),tt.list().forEach(([re,ee])=>F?ee(F):re()),tt.reset()),F}function nn(F,re,ee,ie){const{scrollBehavior:Re}=t;if(!Us||!Re)return Promise.resolve();const T=!ee&&C4(lg(F.fullPath,0))||(ie||!ee)&&history.state&&history.state.scroll||null;return Gc().then(()=>Re(F,re,T)).then(C=>C&&A4(C)).catch(C=>Ee(C,F,re))}const $e=F=>s.go(F);let ze;const pr=new Set,Cn={currentRoute:l,listening:!0,addRoute:_,removeRoute:P,clearRoutes:e.clearRoutes,hasRoute:N,getRoutes:x,resolve:H,options:t,push:D,replace:K,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:i.add,beforeResolve:a.add,afterEach:o.add,onError:Oe.add,isReady:zt,install(F){const re=this;F.component("RouterLink",Z4),F.component("RouterView",e9),F.config.globalProperties.$router=re,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>Gs(l)}),Us&&!ze&&l.value===wr&&(ze=!0,D(s.location).catch(Re=>{}));const ee={};for(const Re in wr)Object.defineProperty(ee,Re,{get:()=>l.value[Re],enumerable:!0});F.provide(Wh,re),F.provide(tb,G_(ee)),F.provide(nu,l);const ie=F.unmount;pr.add(F),F.unmount=function(){pr.delete(F),pr.size<1&&(d=wr,w&&w(),w=null,l.value=wr,ze=!1,me=!1),ie()}}};function qt(F){return F.reduce((re,ee)=>re.then(()=>b(ee)),Promise.resolve())}return Cn}function n9(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let a=0;a<i;a++){const o=e.matched[a];o&&(t.matched.find(d=>ii(d,o))?r.push(o):n.push(o));const l=t.matched[a];l&&(e.matched.find(d=>ii(d,l))||s.push(l))}return[n,r,s]}const Ag=[{id:"2025-09-aed50-safari",title:"Autumn Deal: AED 80 OFF on Desert Safari",body:"Book by Dec 30 to save AED 80 per person on evening safari.",ctaText:"Book Safari",ctaLink:"/safari",startAt:"2025-09-01",endAt:"2025-09-30",pin:!0,variant:"success",priority:10},{id:"2025-09-transfer-drop",title:"Airport Transfer price drop",body:"DXB → Dubai City from AED 190 (SUV). Limited time.",ctaText:"See Transfers",ctaLink:"/transfers",startAt:"2025-09-05",endAt:"2025-09-20",variant:"info",priority:5},{id:"ops-2025-09-note",title:"Service notice",body:"Some routes may have peak-season surcharges during public holidays.",startAt:"2025-09-01",variant:"warning"}],r9={name:"NewsBoard",data(){return{raw:[],limit:2,expanded:!1,collapsed:JSON.parse(localStorage.getItem("news_collapsed")||"false")}},computed:{now(){return new Date},filtered(){return this.raw.filter(t=>this.inWindow(t)).filter(t=>!this.isDismissed(t.id))},activeNews(){return[...this.filtered].sort((t,e)=>{if((e.pin?1:0)!=(t.pin?1:0))return(e.pin?1:0)-(t.pin?1:0);const n=e.priority??0,r=t.priority??0;return n!==r?n-r:new Date(e.startAt||0)-new Date(t.startAt||0)})},visible(){return this.expanded?this.activeNews:this.activeNews.slice(0,this.limit)}},watch:{collapsed(t){localStorage.setItem("news_collapsed",JSON.stringify(t))}},methods:{inWindow(t){const e=t.startAt?new Date(t.startAt):null,n=t.endAt?new Date(t.endAt):null;return!(e&&this.now<e||n&&this.now>n)},isDismissed(t){const e=`news_dismiss_${t}`,n=localStorage.getItem(e);if(!n)return!1;try{const{until:r}=JSON.parse(n);return r&&Date.now()<r}catch{return!1}},dismiss(t,e=7){const n=`news_dismiss_${t}`,r=Date.now()+e*864e5;localStorage.setItem(n,JSON.stringify({until:r}));const s=this.raw.findIndex(i=>i.id===t);s>-1&&this.raw.splice(s,1)},isInternal(t){return typeof t=="string"&&t.startsWith("/")},normalizeDoc(t,e){const n=r=>r!=null&&r.toDate?r.toDate().toISOString().slice(0,10):r||"";return{id:t,title:e.title||"",body:e.body||"",ctaText:e.ctaText||"",ctaLink:e.ctaLink||"",pin:!!e.pin,variant:e.variant||"info",priority:Number(e.priority||0),startAt:n(e.startAt),endAt:n(e.endAt)}}},async mounted(){try{const t=await mI(Rc(Is,"news")),e=[];t.forEach(n=>e.push(this.normalizeDoc(n.id,n.data()||{}))),this.raw=e,e.length||(this.raw=(Ag||[]).map((n,r)=>({id:"local_"+r,...n})))}catch(t){console.warn("news fallback:",t),this.raw=(Ag||[]).map((e,n)=>({id:"local_"+n,...e}))}}},s9={key:0,class:"news-card"},i9={class:"news-header"},a9={class:"header-actions"},o9={class:"news-item-head"},c9={class:"title"},l9={key:0,class:"badge"},d9=["onClick"],u9={key:0,class:"body"},h9={key:1,class:"actions"},f9=["href"],p9={key:0,class:"more"};function m9(t,e,n,r,s,i){const a=lt("router-link");return i.activeNews.length?(W(),B("div",s9,[m("div",i9,[e[2]||(e[2]=m("strong",null,"News & Offers",-1)),m("div",a9,[m("button",{class:"link",onClick:e[0]||(e[0]=o=>s.collapsed=!s.collapsed)},oe(s.collapsed?"Show":"Collapse"),1)])]),V(Lh,{name:"nb-fade"},{default:Ge(()=>[Qt(m("div",null,[(W(!0),B(je,null,Ut(i.visible,o=>(W(),B("div",{key:o.id,class:tn(["news-item",`v-${o.variant||"info"}`])},[m("div",o9,[m("div",c9,[o.pin?(W(),B("span",l9,"PINNED")):ae("",!0),we(" "+oe(o.title),1)]),m("button",{class:"close-one",onClick:l=>i.dismiss(o.id),"aria-label":"dismiss"},"×",8,d9)]),o.body?(W(),B("p",u9,oe(o.body),1)):ae("",!0),o.ctaLink||o.ctaText?(W(),B("div",h9,[i.isInternal(o.ctaLink)?(W(),cc(a,{key:0,to:o.ctaLink,class:"btn"},{default:Ge(()=>[we(oe(o.ctaText||"Learn more"),1)]),_:2},1032,["to"])):o.ctaLink?(W(),B("a",{key:1,href:o.ctaLink,target:"_blank",rel:"noopener",class:"btn"},oe(o.ctaText||"Learn more"),9,f9)):ae("",!0)])):ae("",!0)],2))),128)),i.activeNews.length>s.limit?(W(),B("div",p9,[m("button",{class:"link",onClick:e[1]||(e[1]=o=>s.expanded=!s.expanded)},oe(s.expanded?"Show less":`Show all (${i.activeNews.length})`),1)])):ae("",!0)],512),[[G2,!s.collapsed]])]),_:1})])):ae("",!0)}const nb=pt(r9,[["render",m9],["__scopeId","data-v-ca6ab348"]]),g9={name:"CarCard",props:{image:String,title:String,tour:String,duration:String,price:[String,Number],link:String,subtitle:{type:String,default:"Car-With-Driver"},keyId:{type:String,default:""}}},v9={class:"car-card"},y9=["src","alt","id","data-c-src"],_9=["id","data-c"],b9=["id","data-c"],w9=["id","data-c"],T9=["id","data-c"],E9={class:"price"},A9=["id","data-c-num"],I9=["id","data-c"];function C9(t,e,n,r,s,i){const a=lt("router-link");return W(),B("div",v9,[m("img",{src:n.image,alt:n.title,class:"card-image",id:n.keyId?`${n.keyId}-image`:null,"data-c-src":n.keyId?"@id":null},null,8,y9),m("h2",{class:"text-xl font-semibold mt-2",id:n.keyId?`${n.keyId}-title`:null,"data-c":n.keyId?"@id":null},oe(n.title),9,_9),n.subtitle?(W(),B("p",{key:0,class:"subtitle",id:n.keyId?`${n.keyId}-subtitle`:null,"data-c":n.keyId?"@id":null},oe(n.subtitle),9,b9)):ae("",!0),m("p",null,[e[0]||(e[0]=m("strong",null,"Tour:",-1)),m("span",{id:n.keyId?`${n.keyId}-tour`:null,"data-c":n.keyId?"@id":null},oe(n.tour),9,w9)]),m("p",null,[e[1]||(e[1]=m("strong",null,"Duration:",-1)),m("span",{id:n.keyId?`${n.keyId}-duration`:null,"data-c":n.keyId?"@id":null},oe(n.duration),9,T9)]),m("p",E9,[e[2]||(e[2]=m("strong",null,"Price:",-1)),m("span",{id:n.keyId?`${n.keyId}-price`:null,"data-c-num":n.keyId?"@id":null,"data-format":"price-AED"},oe(n.price),9,A9)]),V(a,{to:n.link},{default:Ge(()=>[m("button",{class:"learn-more-button",id:n.keyId?`${n.keyId}-ctaLabel`:null,"data-c":n.keyId?"@id":null}," Learn More ",8,I9)]),_:1},8,["to"])])}const fn=pt(g9,[["render",C9],["__scopeId","data-v-d26549ac"]]),tl="/assets/carcard1-N5by6m3c.jpg",nl="/assets/carcard2-l2Ufwy2b.jpg",rl="/assets/carcard5-CYa2On14.jpg",sl="/assets/carcard4-BXRVpOmb.jpg",il="/assets/tour1-C72op4bL.jpg",al="/assets/tour2-B2BsaN1L.jpg",ol="/assets/tour3-DZwh8xJ2.jpg",cl="/assets/tour4-Bx2oNajN.jpg",ll="/assets/safaricar1-B0aaVq71.jpg",dl="/assets/safaricar2-DGCuucf5.jpg",ul="/assets/safaricar3-OdoRHaNx.jpg",hl="/assets/safaricar4-CaBdUuWs.jpg",fl="/assets/city1-ljg8ail0.jpg",pl="/assets/city2-IHBb8Zx1.jpg",ml="/assets/city3-DSHreyRb.jpg",gl="/assets/city4-B5iN6EO4.jpg",vl="/assets/boat1-DcNjyaR2.jpg",yl="/assets/boat2-DCKc4p9N.jpg",_l="/assets/boat3-7eRtgsFc.jpg",bl="/assets/boat4-ClR_npkk.jpg",pn="/assets/whatsapp-icon-BZYLzR_P.png",k9={name:"Home",components:{NewsBoard:nb,CarCard:fn},data(){return{currentIndex:0,bannerImages:[new URL("/assets/banner1-DjPx_cAn.jpg",import.meta.url).href,new URL("/assets/banner2-DwLu9nI3.jpg",import.meta.url).href,new URL("/assets/banner3-I6jzlz9s.jpg",import.meta.url).href,new URL("/assets/banner4-CRtfJVKr.jpg",import.meta.url).href,new URL("/assets/banner5-CLWkLY9C.jpg",import.meta.url).href,new URL("/assets/banner9-uIX4Dg8A.jpg",import.meta.url).href],car1:tl,car2:nl,car3:rl,car4:sl,tp1:il,tp2:al,tp3:ol,tp4:cl,sf1:ll,sf2:dl,sf3:ul,sf4:hl,ct1:fl,ct2:pl,ct3:ml,ct4:gl,dc1:vl,dc2:yl,dc3:_l,dc4:bl,faqs:[{q:"What is Dubai’s historical arc?",a:"Dubai grew from a Gulf trading and pearling port into a logistics and aviation hub, and in the last two decades pivoted to tourism, events, and finance — hence today’s skyline and modern infrastructure.",open:!1},{q:"What cultural etiquette should I know?",a:"The UAE follows Islamic traditions. Dress modestly in public, observe mosque rules and security checks, and expect adjusted hours and entertainment during Ramadan and on dry days.",open:!1},{q:"What’s the climate and how should I plan?",a:"Hot desert climate. We recommend a <em>Heat-Smart</em> rhythm: outdoors in the morning/evening, and indoor attractions (observatories, museums, malls) around midday.",open:!1},{q:"Is it suitable for families and seniors?",a:"Yes. Child/booster seats are available on request; desert programs can switch to gentler morning versions (≥48h notice); midday indoor time keeps the day comfortable for all ages.",open:!1}]}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open}},mounted(){setInterval(()=>{this.currentIndex=(this.currentIndex+1)%this.bannerImages.length},1e4)}},P9={class:"home"},S9={class:"banner-container"},R9=["src"],D9={class:"intro-text"},x9={class:"news-trust-grid"},N9={class:"news-col"},M9={class:"cards-container"},V9={class:"cards-container"},O9={class:"cards-container"},L9={class:"cards-container"},F9={class:"cards-container"},U9={class:"text-card faq-accordion"},W9=["onClick","aria-expanded"],q9=["id"],B9={key:0,class:"faq-a"},H9=["id","innerHTML"];function j9(t,e,n,r,s,i){const a=lt("NewsBoard"),o=lt("CarCard");return W(),B("div",P9,[m("div",S9,[m("img",{src:s.bannerImages[s.currentIndex],alt:"Banner",class:"banner",id:"homeEnBanner","data-c-src":"@id"},null,8,R9),e[0]||(e[0]=m("div",{class:"floating-logos"},[m("img",{src:Nt,alt:"Gold Logo",class:"logo",id:"homeEnLogoGold","data-c-src":"@id"}),m("img",{src:Wt,alt:"Text Logo",class:"logo-text",id:"homeEnLogoText","data-c-src":"@id"})],-1))]),e[11]||(e[11]=m("h2",{id:"homeEnWelcomeTitle","data-c":"@id"},"Welcome to WanderWonderWorldDubai.com",-1)),e[12]||(e[12]=m("p",{class:"slogan",id:"homeEnSlogan","data-c":"@id"},"Your Journey, Our Passion.",-1)),m("div",D9,[e[3]||(e[3]=m("h3",{id:"homeEnIntroTitle","data-c":"@id"},"Dubai Travel & Tourism with a Personal Touch",-1)),e[4]||(e[4]=m("p",{id:"homeEnIntroP1","data-c":"@id"}," WanderWonderWorld is your trusted travel companion in Dubai, offering exceptional service and unforgettable experiences. Whether you're arriving in style with our private transfers, exploring the golden desert, or cruising through the city skyline, we craft journeys that match your dreams. Let us guide you through the vibrant heart of the UAE with expert local insight and personalized care. ",-1)),m("div",x9,[m("section",N9,[V(a)]),e[1]||(e[1]=Te('<section class="trust-col" data-v-2831e300><section class="trust" data-v-2831e300><h3 class="trust-title" id="homeEnTrustTitle" data-c="@id" data-v-2831e300>Your trusted tour expert in Dubai</h3><div class="trust-stack" data-v-2831e300><article class="trust-card trust-lime" data-v-2831e300><div class="trust-icon" data-v-2831e300><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-2831e300><path d="M12 3l7 3v6c0 4.418-3.582 8-8 8s-8-3.582-8-8V6l9-3z" fill="none" stroke="currentColor" stroke-width="1.8" data-v-2831e300></path><path d="M9 12l2 2 4-4" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" data-v-2831e300></path></svg></div><div class="trust-text" data-v-2831e300><h4 id="homeEnTrust1Title" data-c="@id" data-v-2831e300>Licensed &amp; insured</h4><p id="homeEnTrust1P" data-c="@id" data-v-2831e300> RTA-licensed vehicles and commercially insured drivers. DTCM-compliant tour operations for peace of mind. </p></div></article><article class="trust-card trust-purple" data-v-2831e300><div class="trust-icon" data-v-2831e300><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-2831e300><circle cx="12" cy="12" r="4.5" fill="none" stroke="currentColor" stroke-width="1.8" data-v-2831e300></circle><path d="M12 2v3M12 19v3M4.22 4.22l2.12 2.12M17.66 17.66l2.12 2.12M2 12h3M19 12h3M4.22 19.78l2.12-2.12M17.66 6.34l2.12-2.12" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" data-v-2831e300></path></svg></div><div class="trust-text" data-v-2831e300><h4 id="homeEnTrust2Title" data-c="@id" data-v-2831e300>Heat-Smart pacing</h4><p id="homeEnTrust2P" data-c="@id" data-v-2831e300> Outdoor in the morning/evening, indoor at noon (views, museums, malls) — a cooler, family-friendly rhythm in summer. </p></div></article><article class="trust-card trust-teal" data-v-2831e300><div class="trust-icon" data-v-2831e300><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-2831e300><circle cx="12" cy="12" r="9" fill="none" stroke="currentColor" stroke-width="1.8" data-v-2831e300></circle><circle cx="12" cy="12" r="2.2" fill="none" stroke="currentColor" stroke-width="1.6" data-v-2831e300></circle><path d="M3.5 12h7m2.9 0h7M12 3.5v4.8M8.2 18.4l2.2-3.8m5.4 3.8l-2.2-3.8" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" data-v-2831e300></path></svg></div><div class="trust-text" data-v-2831e300><h4 id="homeEnTrust3Title" data-c="@id" data-v-2831e300>Private driver-guide</h4><p id="homeEnTrust3P" data-c="@id" data-v-2831e300> English-speaking driver-guides for road &amp; outdoor commentary; licensed guides added for Old Dubai walk or select venues. </p></div></article></div></section></section>',1))]),e[5]||(e[5]=Te('<div class="whatsapp-wrapper" data-v-2831e300><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-2831e300><img src="'+pn+'" alt="WhatsApp" id="homeEnWhatsappIcon" data-c-src="@id" data-v-2831e300><span class="whatsapp-text" id="homeEnWhatsappText" data-c="@id" data-v-2831e300>Need help? Chat with us!</span></a></div><h3 class="section-title" id="homeEnSecTransfersTitle" data-c="@id" data-v-2831e300>Private Transfers</h3>',2)),m("div",M9,[V(o,{"key-id":"homeEnTransfersAirport",image:s.car1,title:"Airport Transfers",tour:"Dubai City",duration:"Varies",price:"from AED 190",link:"/transfers/short"},null,8,["image"]),V(o,{"key-id":"homeEnTransfersHalfDay",image:s.car2,title:"Half-Day with Driver",tour:"Dubai City",duration:"5 Hours",price:"from AED 300",link:"/transfers/short"},null,8,["image"]),V(o,{"key-id":"homeEnTransfersFullDay",image:s.car3,title:"Full-Day with Driver",tour:"Dubai City",duration:"10 Hours",price:"from AED 510",link:"/transfers/long"},null,8,["image"]),V(o,{"key-id":"homeEnTransfersAUH",image:s.car4,title:"Dubai to Abu Dhabi",tour:"Abu Dhabi",duration:"10 Hours",price:"from AED 610",link:"/transfers/long"},null,8,["image"])]),e[6]||(e[6]=m("h3",{class:"section-title",id:"homeEnSecPackagesTitle","data-c":"@id"},"Tour Packages",-1)),m("div",V9,[V(o,{"key-id":"homeEnPkg3N",image:s.tp1,title:"3 Nights Dubai Starter",subtitle:"Tour-Package",tour:"Dubai City",duration:"4 Days",price:"Adult from AED 849",link:"/package/34nights"},null,8,["image"]),V(o,{"key-id":"homeEnPkg4N",image:s.tp2,title:"4 Nights Family Value",subtitle:"Tour-Package",tour:"Dubai City",duration:"5 Days",price:"Adult from AED 1099",link:"/package/34nights"},null,8,["image"]),V(o,{"key-id":"homeEnPkg5N",image:s.tp3,title:"5 Nights Dubai + Abu Dhabi Highlights",subtitle:"Tour-Package",tour:"Dubai + Abu Dhabi",duration:"6 Days",price:"Adult from AED 1349",link:"/package/56nights"},null,8,["image"]),V(o,{"key-id":"homeEnPkg6N",image:s.tp4,title:"6 Nights Signature Plus",subtitle:"Tour-Package",tour:"Dubai + Abu Dhabi",duration:"7 Days",price:"Adult from AED 1599",link:"/package/56nights"},null,8,["image"])]),e[7]||(e[7]=m("h3",{class:"section-title",id:"homeEnSecSafariTitle","data-c":"@id"},"Desert Safari",-1)),m("div",O9,[V(o,{"key-id":"homeEnSafariMorning",image:s.sf1,title:"Morning Dunes Drive",subtitle:"Classic Line",tour:"Morning Private Tour",duration:"4.5 Hours",price:"from AED 500",link:"/safari/regsafari"},null,8,["image"]),V(o,{"key-id":"homeEnSafariSunset",image:s.sf2,title:"Sunset Dunes Select",subtitle:"Signature Line",tour:"Sunset Private Tour",duration:"6 Hours",price:"from AED 700",link:"/safari/regsafari"},null,8,["image"]),V(o,{"key-id":"homeEnSafariExtended",image:s.sf3,title:"Extended Dunes Thrill",subtitle:"Prestige Line",tour:"Extended Private Tour",duration:"7 Hours",price:"from AED 1100",link:"/safari/upsafari"},null,8,["image"]),V(o,{"key-id":"homeEnSafariRoyal",image:s.sf4,title:"Royal Dunes Safari",subtitle:"Royal Line",tour:"Luxury Overnight",duration:"16 Hours",price:"from AED 2000",link:"/safari/upsafari"},null,8,["image"])]),e[8]||(e[8]=m("h3",{class:"section-title",id:"homeEnSecCityTitle","data-c":"@id"},"City Tour",-1)),m("div",L9,[V(o,{"key-id":"homeEnCityHalfDay",image:s.ct1,title:"Half-Day Dubai Essentials",subtitle:"City-Tour-Services",tour:"Dubai City",duration:"5 Hours",price:"from AED 325",link:"/city/city12"},null,8,["image"]),V(o,{"key-id":"homeEnCityFullDay",image:s.ct2,title:"Full-Day Dubai Panorama",subtitle:"City-Tour-Services",tour:"Dubai City",duration:"10 Hours",price:"from AED 559",link:"/city/city12"},null,8,["image"]),V(o,{"key-id":"homeEnCityAbuDhabi",image:s.ct3,title:"Abu Dhabi Culture Day",subtitle:"City-Tour-Services",tour:"Abu Dhabi",duration:"10–11 Hours",price:"from AED 659",link:"/city/city34"},null,8,["image"]),V(o,{"key-id":"homeEnCityHatta",image:s.ct4,title:"Hatta Mountain Escape",subtitle:"City-Tour-Services",tour:"Hatta",duration:"10–11 Hours",price:"from AED 710",link:"/city/city34"},null,8,["image"])]),e[9]||(e[9]=m("h3",{class:"section-title",id:"homeEnSecCruiseTitle","data-c":"@id"},"Dhow Cruise",-1)),m("div",F9,[V(o,{"key-id":"homeEnCruiseCreek",image:s.dc1,title:"Creek Classic Dhow Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Creek (Al Seef)",duration:"1.5–2 Hours",price:"from AED 85",link:"/city/sndcruise"},null,8,["image"]),V(o,{"key-id":"homeEnCruiseMarina",image:s.dc2,title:"Dubai Marina Dhow Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Marina",duration:"2 Hours",price:"from AED 115",link:"/city/sndcruise"},null,8,["image"]),V(o,{"key-id":"homeEnCruiseCanal",image:s.dc3,title:"Water Canal Glassboat Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Canal",duration:"~2 Hours",price:"from AED 149",link:"/city/sndcruise"},null,8,["image"]),V(o,{"key-id":"homeEnCruiseLotus",image:s.dc4,title:"Lotus Mega Yacht Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Marina / Harbour",duration:"3 Hours",price:"from AED 239",link:"/city/sndcruise"},null,8,["image"])]),e[10]||(e[10]=Te('<div class="text-card" data-v-2831e300><h2 id="homeEnHowToTitle" data-c="@id" data-v-2831e300>How to Use WanderWonderWorld — Simple &amp; Clear</h2><ol class="process-list" data-v-2831e300><li id="homeEnHowToL1" data-c-html="@id" data-v-2831e300><strong data-v-2831e300>Browse</strong> any section above — Private Transfers, Tour Packages, Desert Safaris, City Tours, or Dhow Cruises.</li><li id="homeEnHowToL2" data-c-html="@id" data-v-2831e300><strong data-v-2831e300>Add to WonderCart</strong> by tapping “Add to WonderCart” or “Book now” to collect any services you like.</li><li id="homeEnHowToL3" data-c-html="@id" data-v-2831e300><strong data-v-2831e300>Open WonderCart</strong> and fill in your name, email, travel date, and a short message. Send multiple items in one request.</li><li id="homeEnHowToL4" data-c-html="@id" data-v-2831e300><strong data-v-2831e300>Submit</strong> — we’ll reply by email within <em data-v-2831e300>3 business days</em>. Need it sooner? Reach us on <a href="https://wa.me/971589831967" target="_blank" rel="noopener" data-v-2831e300>WhatsApp</a> or <a href="mailto:info@wanderwonderworlddubai.com" data-v-2831e300>Email</a>. </li><li id="homeEnHowToL5" data-c-html="@id" data-v-2831e300><strong data-v-2831e300>Finalize</strong> — once confirmed, you’ll receive your schedule and pickup details. We reconfirm on WhatsApp 24h before service.</li></ol></div>',1)),m("div",U9,[e[2]||(e[2]=m("h2",{id:"homeEnFaqTitle","data-c":"@id"},"FAQs — Dubai in a Nutshell",-1)),(W(!0),B(je,null,Ut(s.faqs,(l,d)=>(W(),B("div",{key:d,class:"faq-row"},[m("button",{class:"faq-q",onClick:h=>i.toggleFaq(d),"aria-expanded":l.open.toString()},[m("span",{class:tn(["tri",{open:l.open}])},null,2),m("span",{id:`homeEnFaqQ${d+1}`,"data-c":"@id"},oe(l.q),9,q9)],8,W9),V(Lh,{name:"faq"},{default:Ge(()=>[l.open?(W(),B("div",B9,[m("p",{id:`homeEnFaqA${d+1}`,"data-c-html":"@id",innerHTML:l.a},null,8,H9)])):ae("",!0)]),_:2},1024)]))),128))])])])}const $9=pt(k9,[["render",j9],["__scopeId","data-v-2831e300"]]),In="/assets/banner7-PGLbRrVp.jpg",jn="/assets/WWD-Whatsapp-code-GpOfB0_w.jpg",z9={name:"Transfers",components:{CarCard:fn},data(){return{banner:In,logoGold:Nt,logoText:Wt,car1:tl,car2:nl,car3:rl,car4:sl,faqs:[{question:"Do I need to book my transfer in advance?",answer:"Yes, we recommend booking ahead to secure availability and guarantee your preferred vehicle.",open:!1},{question:"Are airport pick-ups included with waiting time?",answer:"Yes, we provide up to 60 minutes of free waiting at airports. Extra waiting time may incur a small fee.",open:!1},{question:"Can I extend my booking during the trip?",answer:"Yes, extensions are possible based on vehicle availability. Extra charges per hour will apply.",open:!1},{question:"Are entrance tickets or meals included in the price?",answer:"No, prices cover the vehicle and driver only. Attraction tickets, meals, or personal expenses are not included.",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:jn,wechatQR:hn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){$t().open()}}},G9={class:"transfers"},K9={class:"banner-container"},Q9=["src"],Z9={class:"floating-logos"},Y9=["src"],J9=["src"],X9={class:"cards-container"},ex={class:"cta-row-wrapper"},tx={class:"cta-row"},nx={key:0,class:"center-toast",role:"status","aria-live":"polite"},rx={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},sx={class:"qr-modal-box"},ix=["src"],ax={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},ox={class:"qr-modal-box"},cx=["src"],lx={class:"faq-card"},dx=["onClick"],ux={class:"faq-icon"},hx={key:0,class:"faq-answer"};function fx(t,e,n,r,s,i){const a=lt("CarCard");return W(),B("div",G9,[m("div",K9,[m("img",{src:s.banner,alt:"Transfers Banner",class:"banner",id:"transfersBanner","data-c-src":"@id"},null,8,Q9),m("div",Z9,[m("img",{src:s.logoGold,alt:"Gold Logo",class:"logo",id:"transfersLogoGold","data-c-src":"@id"},null,8,Y9),m("img",{src:s.logoText,alt:"Text Logo",class:"logo-text",id:"transfersLogoText","data-c-src":"@id"},null,8,J9)])]),e[8]||(e[8]=Te('<div class="intro" data-v-4a849419><h1 id="transfersIntroTitle" data-c="@id" data-v-4a849419> Private Transfers in Dubai — Arrive with Ease </h1><p id="transfersIntroP1" data-c-html="@id" data-v-4a849419> Experience Dubai’s allure in comfort and convenience with our top-rated private transfers and car with driver services. At WanderWonderWorld, we offer a fleet of immaculate and well-maintained chauffeur cars with experienced drivers who know the roads of the UAE. We cater to all your needs, from stress-free airport transfers to personalized city tours and business trips. Let us provide a seamless and professional journey that perfectly matches your travel dreams. </p></div><div class="whatsapp-wrapper" data-v-4a849419><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-4a849419><img src="'+pn+'" alt="WhatsApp" id="transfersWhatsappIcon" data-c-src="@id" data-v-4a849419><span class="whatsapp-text" id="transfersWhatsappText" data-c="@id" data-v-4a849419> Need help? Chat with us! </span></a></div>',2)),m("div",X9,[V(a,{"key-id":"transfersCardAirport",image:s.car1,title:"Airport Transfers",subtitle:"Car-with-Driver",tour:"Dubai City",duration:"Varies",price:"from AED 190",link:"/transfers/short"},null,8,["image"]),V(a,{"key-id":"transfersCardHalfDay",image:s.car2,title:"Half-Day with Driver",tour:"Dubai City",duration:"5 Hours",price:"from AED 300",link:"/transfers/short"},null,8,["image"]),V(a,{"key-id":"transfersCardFullDay",image:s.car3,title:"Full-Day with Driver",tour:"Dubai City",duration:"10 Hours",price:"from AED 510",link:"/transfers/long"},null,8,["image"]),V(a,{"key-id":"transfersCardAUH",image:s.car4,title:"Dubai to Abu Dhabi",tour:"Abu Dhabi",duration:"10 Hours",price:"from AED 610",link:"/transfers/long"},null,8,["image"])]),e[9]||(e[9]=Te('<div class="text-card" data-v-4a849419><h2 id="transfersPriceTitle" data-c="@id" data-v-4a849419>Dubai Car with Driver Price List</h2><table class="price-table" data-v-4a849419><thead data-v-4a849419><tr data-v-4a849419><th id="transfersPriceThService" data-c="@id" data-v-4a849419>Chauffeur Service</th><th id="transfersPriceThCarType" data-c="@id" data-v-4a849419>Car Type</th><th id="transfersPriceThPrice" data-c="@id" data-v-4a849419>Price</th></tr></thead><tbody data-v-4a849419><tr data-v-4a849419><td id="transfersPriceDXBTitle" data-c="@id" data-v-4a849419>Airport Transfers (DXB – Dubai City Hotel)</td><td id="transfersPriceDXBSUVType" data-c="@id" data-v-4a849419>SUV (4–6 pax)</td><td data-v-4a849419><strong style="color:#b01b1b;" id="transfersPriceDXBSUV" data-c-num="@id" data-format="price-AED" data-v-4a849419>AED 190</strong></td></tr><tr data-v-4a849419><td id="transfersPriceDXBEmpty" data-c="@id" data-v-4a849419></td><td id="transfersPriceDXBVanType" data-c="@id" data-v-4a849419>Van (7–10 pax)</td><td data-v-4a849419><strong style="color:#b01b1b;" id="transfersPriceDXBVan" data-c-num="@id" data-format="price-AED" data-v-4a849419>AED 230</strong></td></tr><tr data-v-4a849419><td id="transfersPriceAUHTitle" data-c="@id" data-v-4a849419>Airport Transfers (AUH – Dubai City Hotel)</td><td id="transfersPriceAUHSUVType" data-c="@id" data-v-4a849419>SUV (4–6 pax)</td><td data-v-4a849419><strong style="color:#b01b1b;" id="transfersPriceAUHSUV" data-c-num="@id" data-format="price-AED" data-v-4a849419>AED 330</strong></td></tr><tr data-v-4a849419><td id="transfersPriceAUHEmpty" data-c="@id" data-v-4a849419></td><td id="transfersPriceAUHVanType" data-c="@id" data-v-4a849419>Van (7–10 pax)</td><td data-v-4a849419><strong style="color:#b01b1b;" id="transfersPriceAUHVan" data-c-num="@id" data-format="price-AED" data-v-4a849419>AED 380</strong></td></tr><tr data-v-4a849419><td id="transfersPriceHalfTitle" data-c="@id" data-v-4a849419>Half-Day Car with Driver (5 Hours)</td><td id="transfersPriceHalfSUVType" data-c="@id" data-v-4a849419>SUV (4–6 pax)</td><td data-v-4a849419><strong style="color:#b01b1b;" id="transfersPriceHalfSUV" data-c-num="@id" data-format="price-AED" data-v-4a849419>AED 300</strong></td></tr><tr data-v-4a849419><td id="transfersPriceHalfEmpty" data-c="@id" data-v-4a849419></td><td id="transfersPriceHalfVanType" data-c="@id" data-v-4a849419>Van (7–10 pax)</td><td data-v-4a849419><strong style="color:#b01b1b;" id="transfersPriceHalfVan" data-c-num="@id" data-format="price-AED" data-v-4a849419>AED 330</strong></td></tr><tr data-v-4a849419><td id="transfersPriceFullTitle" data-c="@id" data-v-4a849419>Full-Day Car with Driver (10 Hours)</td><td id="transfersPriceFullSUVType" data-c="@id" data-v-4a849419>SUV (4–6 pax)</td><td data-v-4a849419><strong style="color:#b01b1b;" id="transfersPriceFullSUV" data-c-num="@id" data-format="price-AED" data-v-4a849419>AED 510</strong></td></tr><tr data-v-4a849419><td id="transfersPriceFullEmpty" data-c="@id" data-v-4a849419></td><td id="transfersPriceFullVanType" data-c="@id" data-v-4a849419>Van (7–10 pax)</td><td data-v-4a849419><strong style="color:#b01b1b;" id="transfersPriceFullVan" data-c-num="@id" data-format="price-AED" data-v-4a849419>AED 550</strong></td></tr><tr data-v-4a849419><td id="transfersPriceADTitle" data-c="@id" data-v-4a849419>Dubai → Abu Dhabi with Sightseeing (10 Hours)</td><td id="transfersPriceADSUVType" data-c="@id" data-v-4a849419>SUV (4–6 pax)</td><td data-v-4a849419><strong style="color:#b01b1b;" id="transfersPriceADSUV" data-c-num="@id" data-format="price-AED" data-v-4a849419>AED 610</strong></td></tr><tr data-v-4a849419><td id="transfersPriceADEmpty" data-c="@id" data-v-4a849419></td><td id="transfersPriceADVanType" data-c="@id" data-v-4a849419>Van (7–10 pax)</td><td data-v-4a849419><strong style="color:#b01b1b;" id="transfersPriceADVan" data-c-num="@id" data-format="price-AED" data-v-4a849419>AED 650</strong></td></tr></tbody></table></div>',1)),m("div",ex,[m("div",tx,[m("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...o)=>i.copyEmail&&i.copyEmail(...o)),id:"transfersCTAEmail","data-c":"@id"}," Email us "),m("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...o)=>i.openWhatsappModal&&i.openWhatsappModal(...o)),id:"transfersCTAWhatsApp","data-c":"@id"}," WhatsApp us "),m("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...o)=>i.openWechatModal&&i.openWechatModal(...o)),id:"transfersCTAWechat","data-c":"@id"}," Wechat us "),m("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...o)=>i.bookNow&&i.bookNow(...o)),id:"transfersCTACart","data-c":"@id"}," My WonderCart ")])]),s.showEmailToast?(W(),B("div",nx,[...e[6]||(e[6]=[m("div",{class:"center-toast-box"},[m("p",{id:"transfersEmailCopiedText","data-c-html":"@id"},[m("strong",null,"info@wanderwonderworlddubai.com"),we(" has been copied to your clipboard ")])],-1)])])):ae("",!0),s.showWhatsappModal?(W(),B("div",rx,[m("div",sx,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.whatsappQR,alt:"WhatsApp QR",id:"transfersWhatsappQR","data-c-src":"@id"},null,8,ix)])])):ae("",!0),s.showWechatModal?(W(),B("div",ax,[m("div",ox,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.wechatQR,alt:"WeChat QR",id:"transfersWechatQR","data-c-src":"@id"},null,8,cx)])])):ae("",!0),m("div",lx,[e[7]||(e[7]=m("h2",{id:"transfersFaqTitle","data-c":"@id"},"FAQs",-1)),(W(!0),B(je,null,Ut(s.faqs,(o,l)=>(W(),B("div",{key:l,class:"faq-item"},[m("div",{class:"faq-question",onClick:d=>i.toggleFaq(l)},[m("span",null,oe(o.question),1),m("span",ux,oe(o.open?"▲":"▼"),1)],8,dx),o.open?(W(),B("div",hx,[m("p",null,oe(o.answer),1)])):ae("",!0)]))),128))]),e[10]||(e[10]=Te('<div class="text-card" data-v-4a849419><h2 id="transfersS1Title" data-c="@id" data-v-4a849419>Seamless Journeys: Our Dubai Chauffeur Services</h2><p id="transfersS1P1" data-c-html="@id" data-v-4a849419> At WanderWonderWorld, we provide professional and reliable chauffeur services designed for your comfort and peace of mind. Our fleet consists of well-maintained, clean vehicles, operated by licensed and experienced drivers. We cater to all private transport needs, from efficient airport transfers to tailored day tours, ensuring a secure and hassle-free travel experience. We are committed to punctuality, vehicle safety, and superior customer service. </p></div><div class="text-card" data-v-4a849419><h2 id="transfersS2Title" data-c="@id" data-v-4a849419>Tailored Transport: Your Private Car &amp; Driver Options</h2><p id="transfersS2P1" data-c-html="@id" data-v-4a849419><strong data-v-4a849419>Airport Transfers:</strong> We offer punctual, meet-and-greet services from both Dubai (DXB) and Abu Dhabi (AUH) airports to any destination in both cities. Our drivers track your flight status to ensure timely pickups, even in case of delays.</p><p id="transfersS2P2" data-c-html="@id" data-v-4a849419><strong data-v-4a849419>Half-Day &amp; Full-Day Hire:</strong> Explore Dubai at your own pace with our hourly or daily chauffeur service. We provide comfortable vehicles for sightseeing, business meetings, or family trips, allowing you to design your itinerary freely.</p><p id="transfersS2P3" data-c-html="@id" data-v-4a849419><strong data-v-4a849419>Safety and Comfort:</strong> All vehicles are equipped with adequate space for luggage. Child seats are available upon advance request to ensure the safety of your family.</p><p id="transfersS2P4" data-c-html="@id" data-v-4a849419><strong data-v-4a849419>Pricing:</strong> Our transparent pricing is based on vehicle type and trip duration. Contact us for a detailed quote tailored to your specific travel plan.</p></div><div class="text-card" data-v-4a849419><h2 id="transfersS3Title" data-c="@id" data-v-4a849419>Terms and Conditions</h2><p id="transfersS3P1" data-c-html="@id" data-v-4a849419><strong data-v-4a849419>Service Availability:</strong> All services are subject to vehicle and driver availability. We recommend booking in advance to confirm your preferred dates.</p><p id="transfersS3P2" data-c-html="@id" data-v-4a849419><strong data-v-4a849419>Vehicle Use:</strong> Our chauffeur services are intended for private transfers and day tours. Eating, drinking, and smoking are not permitted inside the vehicles.</p><p id="transfersS3P3" data-c-html="@id" data-v-4a849419><strong data-v-4a849419>Cancellation Policy:</strong> Cancellations must be made in accordance with our booking policy to avoid charges. Details regarding cancellation fees will be provided at the time of booking.</p><p id="transfersS3P4" data-c-html="@id" data-v-4a849419><strong data-v-4a849419>No-Show Policy:</strong> Late arrival at the designated pickup location without prior notice may be considered a no-show, and applicable fees may apply.</p><p id="transfersS3P5" data-c-html="@id" data-v-4a849419><strong data-v-4a849419>Overtime Charges:</strong> Extra-hour charges are applicable and will be calculated based on the vehicle type and original booking duration.</p><p id="transfersS3P6" data-c-html="@id" data-v-4a849419><strong data-v-4a849419>Seasonal Surcharge:</strong> A peak season surcharge may be applied on specific dates. This will be clearly communicated during the booking process.</p><p id="transfersS3P7" data-c-html="@id" data-v-4a849419><strong data-v-4a849419>Tour Guides:</strong> The provided driver is not a licensed tour guide. A licensed tour guide can be arranged at an additional cost upon request.</p></div><div class="text-card" data-v-4a849419><h2 id="transfersS4Title" data-c="@id" data-v-4a849419>WanderWonderWorld&#39;s Destination Services</h2><p id="transfersS4P1" data-c-html="@id" data-v-4a849419> As a licensed Destination Management Company (DMC) in Dubai, WanderWonderWorld provides a full spectrum of exceptional tourism and transport solutions. Our car with driver services are designed to offer a seamless and professional experience, covering everything from efficient airport transfers to personalized city tours, business meetings, and relaxing family trips. </p><p id="transfersS4P2" data-c-html="@id" data-v-4a849419> We offer a wide range of vehicle options, including luxurious cars, spacious family vans, and comfortable tourist buses, all operated by professional and experienced drivers who assist you throughout your journey. For group bookings or complex travel plans, our dedicated team is ready to create a customized itinerary that perfectly matches your vision. </p></div>',4))])}const px=pt(z9,[["render",fx],["__scopeId","data-v-4a849419"]]),mx={name:"Packages",components:{CarCard:fn},data(){return{banner:In,logoGold:Nt,logoText:Wt,car1:il,car2:al,car3:ol,car4:cl,faqs:[{question:"What’s included in the package price?",answer:"Private airport transfers, hotel with breakfast, private vehicle per itinerary, listed attraction tickets (e.g., Burj Khalifa 124/125, The View/Dubai Frame, Marina dinner cruise), and an evening desert safari (family can switch to a gentler morning version). Land-only—no flights/visa.",open:!1},{question:"How do Adult & Child prices apply?",answer:"Adult price applies to 11+ years. Child price applies to ages 3–10 sharing existing bedding. Infants 0–2 are free (no seat/bed). Extra bed or single supplement is charged by season and hotel.",open:!1},{question:"Can I change the order of sightseeing days?",answer:"Yes. We run private packages. We’ll adapt the daily order to your flight times, season, and special events. Peak days may require time-slot changes for attractions.",open:!1},{question:"Is Abu Dhabi Mosque dress code enforced?",answer:"Yes. Ladies must cover hair, shoulders and legs; men must wear long trousers. Security is strict. We brief you in advance and provide basic guidance.",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:jn,wechatQR:hn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){$t().open()}}},gx={class:"packages"},vx={class:"banner-container"},yx=["src"],_x={class:"floating-logos"},bx=["src"],wx=["src"],Tx={class:"cards-container"},Ex={class:"cta-row-wrapper"},Ax={class:"cta-row"},Ix={key:0,class:"center-toast",role:"status","aria-live":"polite"},Cx={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},kx={class:"qr-modal-box"},Px=["src"],Sx={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},Rx={class:"qr-modal-box"},Dx=["src"],xx={class:"faq-card"},Nx=["onClick"],Mx=["id"],Vx={class:"faq-icon"},Ox={key:0,class:"faq-answer"},Lx=["id"];function Fx(t,e,n,r,s,i){const a=lt("CarCard");return W(),B("div",gx,[m("div",vx,[m("img",{src:s.banner,alt:"Packages Banner",class:"banner",id:"packagesBanner","data-c-src":"@id"},null,8,yx),m("div",_x,[m("img",{src:s.logoGold,alt:"Gold Logo",class:"logo",id:"packagesLogoGold","data-c-src":"@id"},null,8,bx),m("img",{src:s.logoText,alt:"Text Logo",class:"logo-text",id:"packagesLogoText","data-c-src":"@id"},null,8,wx)])]),e[8]||(e[8]=Te('<div class="intro" data-v-e99e6dc3><h1 id="packagesIntroTitle" data-c="@id" data-v-e99e6dc3>Dubai Holiday Packages — Private &amp; Flexible</h1><p id="packagesIntroP1" data-c-html="@id" data-v-e99e6dc3> Plan your Dubai holiday the smart way. Our four private, land-only packages blend must-see icons with heat-smart pacing: outdoor in the morning/evening, indoor at noon. Old Dubai walking with an abra ride is included as standard (with a licensed guide for the walk), while an English-speaking driver-guide escorts you throughout. Value-first pricing, Adult &amp; Child rates, private airport transfers, handpicked hotels with breakfast, and verified vehicles keep the trip seamless. </p></div><div class="whatsapp-wrapper" data-v-e99e6dc3><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" id="packagesWhatsappLink" data-c-src="@id" data-v-e99e6dc3><img src="'+pn+'" alt="WhatsApp" id="packagesWhatsappIcon" data-c-src="@id" data-v-e99e6dc3><span class="whatsapp-text" id="packagesWhatsappText" data-c="@id" data-v-e99e6dc3>Need help? Chat with us!</span></a></div>',2)),m("div",Tx,[V(a,{"key-id":"packagesCard3N",image:s.car1,title:"3 Nights Dubai Starter",subtitle:"Tour-Package",tour:"Dubai City",duration:"4 Days",price:"Adult from AED 849",link:"/package/34nights"},null,8,["image"]),V(a,{"key-id":"packagesCard4N",image:s.car2,title:"4 Nights Family Value",subtitle:"Tour-Package",tour:"Dubai City",duration:"5 Days",price:"Adult from AED 1099",link:"/package/34nights"},null,8,["image"]),V(a,{"key-id":"packagesCard5N",image:s.car3,title:"5 Nights Dubai + Abu Dhabi Highlights",subtitle:"Tour-Package",tour:"Dubai + Abu Dhabi",duration:"6 Days",price:"Adult from AED 1349",link:"/package/56nights"},null,8,["image"]),V(a,{"key-id":"packagesCard6N",image:s.car4,title:"6 Nights Signature Plus",subtitle:"Tour-Package",tour:"Dubai + Abu Dhabi",duration:"7 Days",price:"Adult from AED 1599",link:"/package/56nights"},null,8,["image"])]),e[9]||(e[9]=Te('<div class="text-card" data-v-e99e6dc3><h2 id="packagesPriceTitle" data-c="@id" data-v-e99e6dc3>Dubai Tour Packages Price List</h2><table class="price-table" data-v-e99e6dc3><thead data-v-e99e6dc3><tr data-v-e99e6dc3><th id="packagesPriceThPkg" data-c="@id" data-v-e99e6dc3>Package</th><th id="packagesPriceThDur" data-c="@id" data-v-e99e6dc3>Time/Duration</th><th id="packagesPriceThPrice" data-c="@id" data-v-e99e6dc3>Price</th></tr></thead><tbody data-v-e99e6dc3><tr data-v-e99e6dc3><td id="packagesPrice3NTitle" data-c="@id" data-v-e99e6dc3>3 Nights Dubai Starter</td><td id="packagesPrice3NDuration" data-c="@id" data-v-e99e6dc3>4 Days</td><td data-v-e99e6dc3><strong style="color:#b01b1b;" data-v-e99e6dc3><span id="packagesPrice3NAdultLabel" data-c="@id" data-v-e99e6dc3>Adult</span>   <span id="packagesPrice3NAdult" data-c-num="@id" data-format="price-AED" data-v-e99e6dc3>AED 849</span>  |  <span id="packagesPrice3NChildLabel" data-c="@id" data-v-e99e6dc3>Child</span>   <span id="packagesPrice3NChild" data-c-num="@id" data-format="price-AED" data-v-e99e6dc3>AED 669</span></strong></td></tr><tr data-v-e99e6dc3><td id="packagesPrice4NTitle" data-c="@id" data-v-e99e6dc3>4 Nights Family Value</td><td id="packagesPrice4NDuration" data-c="@id" data-v-e99e6dc3>5 Days</td><td data-v-e99e6dc3><strong style="color:#b01b1b;" data-v-e99e6dc3><span id="packagesPrice4NAdultLabel" data-c="@id" data-v-e99e6dc3>Adult</span>   <span id="packagesPrice4NAdult" data-c-num="@id" data-format="price-AED" data-v-e99e6dc3>AED 1099</span>  |  <span id="packagesPrice4NChildLabel" data-c="@id" data-v-e99e6dc3>Child</span>   <span id="packagesPrice4NChild" data-c-num="@id" data-format="price-AED" data-v-e99e6dc3>AED 919</span></strong></td></tr><tr data-v-e99e6dc3><td id="packagesPrice5NTitle" data-c="@id" data-v-e99e6dc3>5 Nights Dubai + Abu Dhabi Highlights</td><td id="packagesPrice5NDuration" data-c="@id" data-v-e99e6dc3>6 Days</td><td data-v-e99e6dc3><strong style="color:#b01b1b;" data-v-e99e6dc3><span id="packagesPrice5NAdultLabel" data-c="@id" data-v-e99e6dc3>Adult</span>   <span id="packagesPrice5NAdult" data-c-num="@id" data-format="price-AED" data-v-e99e6dc3>AED 1349</span>  |  <span id="packagesPrice5NChildLabel" data-c="@id" data-v-e99e6dc3>Child</span>   <span id="packagesPrice5NChild" data-c-num="@id" data-format="price-AED" data-v-e99e6dc3>AED 1169</span></strong></td></tr><tr data-v-e99e6dc3><td id="packagesPrice6NTitle" data-c="@id" data-v-e99e6dc3>6 Nights Signature Plus</td><td id="packagesPrice6NDuration" data-c="@id" data-v-e99e6dc3>7 Days</td><td data-v-e99e6dc3><strong style="color:#b01b1b;" data-v-e99e6dc3><span id="packagesPrice6NAdultLabel" data-c="@id" data-v-e99e6dc3>Adult</span>   <span id="packagesPrice6NAdult" data-c-num="@id" data-format="price-AED" data-v-e99e6dc3>AED 1599</span>  |  <span id="packagesPrice6NChildLabel" data-c="@id" data-v-e99e6dc3>Child</span>   <span id="packagesPrice6NChild" data-c-num="@id" data-format="price-AED" data-v-e99e6dc3>AED 1419</span></strong></td></tr></tbody></table><p style="margin-top:8px;font-size:0.95rem;color:#555;" id="packagesPriceFootnote" data-c-html="@id" data-v-e99e6dc3> * Rates are per person based on twin/double sharing. Prices include 5% VAT. Tourism Dirham is payable at the hotel (~AED 10–20 per room per night). </p></div>',1)),m("div",Ex,[m("div",Ax,[m("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...o)=>i.copyEmail&&i.copyEmail(...o)),id:"packagesCTAEmail","data-c":"@id"},"Email us"),m("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...o)=>i.openWhatsappModal&&i.openWhatsappModal(...o)),id:"packagesCTAWhatsApp","data-c":"@id"},"WhatsApp us"),m("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...o)=>i.openWechatModal&&i.openWechatModal(...o)),id:"packagesCTAWechat","data-c":"@id"},"Wechat us"),m("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...o)=>i.bookNow&&i.bookNow(...o)),id:"packagesCTACart","data-c":"@id"},"My WonderCart")])]),s.showEmailToast?(W(),B("div",Ix,[...e[6]||(e[6]=[m("div",{class:"center-toast-box"},[m("p",{id:"packagesEmailCopiedText","data-c-html":"@id"},[m("strong",null,"info@wanderwonderworlddubai.com"),we(" has been copied to your clipboard")])],-1)])])):ae("",!0),s.showWhatsappModal?(W(),B("div",Cx,[m("div",kx,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.whatsappQR,alt:"WhatsApp QR",id:"packagesWhatsappQR","data-c-src":"@id"},null,8,Px)])])):ae("",!0),s.showWechatModal?(W(),B("div",Sx,[m("div",Rx,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.wechatQR,alt:"WeChat QR",id:"packagesWechatQR","data-c-src":"@id"},null,8,Dx)])])):ae("",!0),m("div",xx,[e[7]||(e[7]=m("h2",{id:"packagesFaqTitle","data-c":"@id"},"FAQs",-1)),(W(!0),B(je,null,Ut(s.faqs,(o,l)=>(W(),B("div",{key:l,class:"faq-item"},[m("div",{class:"faq-question",onClick:d=>i.toggleFaq(l)},[m("span",{id:`packagesFaqQ${l+1}`,"data-c":"@id"},oe(o.question),9,Mx),m("span",Vx,oe(o.open?"▲":"▼"),1)],8,Nx),o.open?(W(),B("div",Ox,[m("p",{id:`packagesFaqA${l+1}`,"data-c-html":"@id"},oe(o.answer),9,Lx)])):ae("",!0)]))),128))]),e[10]||(e[10]=Te('<div class="text-card" data-v-e99e6dc3><h2 id="packagesS1Title" data-c="@id" data-v-e99e6dc3>Discover Dubai Your Way: Our Private Packages</h2><p id="packagesS1P1" data-c-html="@id" data-v-e99e6dc3><strong data-v-e99e6dc3>3 Nights Dubai Starter:</strong> Old Dubai walking tour (licensed guide, ~2 hours) with an abra ride, plus your choice of <em data-v-e99e6dc3>Dubai Frame</em> or <em data-v-e99e6dc3>The View at The Palm</em>. Enjoy a Dubai Marina dinner cruise and an evening desert safari (families may switch to a gentler morning version with ≥48h notice).</p><p id="packagesS1P2" data-c-html="@id" data-v-e99e6dc3><strong data-v-e99e6dc3>4 Nights Family Value:</strong> Evening arrival buffer on Day 1; desert safari moves to Day 2 for better energy. Modern Dubai half-day with Burj Khalifa 124/125 (non-prime), and a relaxed evening around JBR &amp; Bluewaters. Kid-friendly swaps (e.g., aquarium) are available.</p><p id="packagesS1P3" data-c-html="@id" data-v-e99e6dc3><strong data-v-e99e6dc3>5 Nights Dubai + Abu Dhabi Highlights:</strong> Abu Dhabi sits mid-trip for a smoother pace: Sheikh Zayed Grand Mosque (inside visit; Friday visitor hours are limited) and Louvre Abu Dhabi (typically closed on Mondays; we’ll adjust as needed). Back in Dubai, combine Old Dubai walking + abra with your pre-booked Burj Khalifa time slot and a Marina dinner cruise.</p><p id="packagesS1P4" data-c-html="@id" data-v-e99e6dc3><strong data-v-e99e6dc3>6 Nights Signature Plus:</strong> VIP desert safari upgrade, Atlantis Aquaventure Waterpark &amp; Lost Chambers, plus one free day for shopping or pool time. Includes a full-day Abu Dhabi (Grand Mosque inside + Qasr Al Watan courtyard or Louvre). An optional sunset private yacht from Dubai Marina can be arranged.</p></div><div class="text-card" data-v-e99e6dc3><h2 id="packagesS2Title" data-c="@id" data-v-e99e6dc3>Terms &amp; Conditions (Tour Packages)</h2><p id="packagesS2P1" data-c-html="@id" data-v-e99e6dc3><strong data-v-e99e6dc3>Pricing &amp; Rooming:</strong> Land-only rates per adult based on twin/double sharing. <em data-v-e99e6dc3>Prices include 5% VAT.</em> Child (3–10) shares existing bedding unless an extra bed is purchased; infant 0–2 free (no bed). Tourism Dirham hotel tax is payable at the hotel (approx. AED 10–20 per room per night). Standard hotel check-in 15:00 / check-out 12:00; early/late arrangements subject to availability or surcharge.</p><p id="packagesS2P2" data-c-html="@id" data-v-e99e6dc3><strong data-v-e99e6dc3>Inclusions:</strong> Round-trip private airport transfers (DXB), selected hotel with daily breakfast, <em data-v-e99e6dc3>private vehicle with an English-speaking driver-guide</em>, <em data-v-e99e6dc3>licensed guide for Old Dubai walking (~2 hours)</em>, listed attraction tickets per package (e.g., Burj Khalifa 124/125; The View/Dubai Frame; Louvre/Aquaventure as stated), Dubai Marina dinner cruise <em data-v-e99e6dc3>with private transfers</em>, evening desert safari (VIP upgrade where specified), and bottled water in the vehicle.</p><p id="packagesS2P3" data-c-html="@id" data-v-e99e6dc3><strong data-v-e99e6dc3>Exclusions:</strong> International flights, visas, personal travel insurance; lunches/dinners unless stated; alcoholic drinks; personal expenses; optional activities/upgrades; additional licensed guide on other touring days unless specified; peak/event supplements; single supplement/extra bed; porterage; discretionary tips.</p><p id="packagesS2P4" data-c-html="@id" data-v-e99e6dc3><strong data-v-e99e6dc3>Child Seats &amp; Safety:</strong> In the UAE, infants and young children must use an age-appropriate child/booster seat and occupy a seat in the vehicle. Please request the number of seats at booking; compliance is required by law.</p><p id="packagesS2P5" data-c-html="@id" data-v-e99e6dc3><strong data-v-e99e6dc3>Abu Dhabi Grand Mosque:</strong> Ladies must cover hair, shoulders and legs; men must wear long trousers. Security is strict and entry may be refused if attire is incomplete. Friday visitor hours are limited.</p><p id="packagesS2P6" data-c-html="@id" data-v-e99e6dc3><strong data-v-e99e6dc3>Ramadan &amp; Peak Periods:</strong> Desert-camp entertainment pauses; alcohol service is restricted; attraction hours may change. New Year’s Eve and major events may carry mandatory supplements.</p><p id="packagesS2P7" data-c-html="@id" data-v-e99e6dc3><strong data-v-e99e6dc3>Amendment &amp; Cancellation:</strong> ≥48 hours before service: free change/refund; 24–48 hours: 50% charge; &lt;24 hours or no-show: 100% charge. Non-refundable attraction tickets/hotel nights follow supplier policy. In force-majeure events (e.g., sandstorm, heavy rain), we re-schedule first; if not possible, only unrecoverable supplier costs apply.</p></div><div class="text-card" data-v-e99e6dc3><h2 id="packagesS3Title" data-c="@id" data-v-e99e6dc3>WanderWonderWorld Tour Package Services</h2><p id="packagesS3P1" data-c-html="@id" data-v-e99e6dc3> We design heat-smart itineraries (indoor at noon, outdoors in the golden hour), include Old Dubai walking with Abra as standard, and offer family friendly Safari options. WhatsApp concierge (08:00–22:00), verified drivers, clean camps, child seats on request, and one free re-schedule (≥48h) keep your trip smooth and safe. </p></div>',3))])}const Ux=pt(mx,[["render",Fx],["__scopeId","data-v-e99e6dc3"]]),rb="/assets/addon1-ClnzAQTy.jpg",sb="/assets/addon2-wAxJ3j_K.jpg",ib="/assets/addon3-CWGTeBVZ.jpg",ab="/assets/addon4-C_Zst6zP.jpg",Wx={name:"Safari",components:{CarCard:fn},data(){return{banner:In,logoGold:Nt,logoText:Wt,car1:ll,car2:dl,car3:ul,car4:hl,addon1:rb,addon2:sb,addon3:ib,addon4:ab,faqs:[{question:"What is included in a Dubai desert safari tour?",answer:"Our desert safari tours usually include hotel pick-up and drop-off in a 4x4 vehicle, dune bashing with a professional driver, photo stops on the dunes, camel rides, sandboarding, refreshments, and depending on the package, live entertainment and BBQ dinner. Luxury and overnight packages include exclusive camps and premium dining experiences.",open:!1},{question:"How long does a desert safari in Dubai take?",answer:"The duration depends on the package you choose. Morning safaris are typically 4–5 hours, evening safaris last about 6 hours, and overnight safaris extend up to 16 hours including breakfast the next morning.",open:!1},{question:"Do I need to book desert safari in advance?",answer:"We recommend booking in advance to secure your preferred date and vehicle, especially during weekends and peak travel seasons. Same-day bookings are possible, but availability cannot be guaranteed.",open:!1},{question:"What should I wear for a desert safari in Dubai?",answer:"Comfortable casual clothing is best, such as light trousers or shorts and breathable tops. We recommend sneakers or sandals for walking on the sand. During winter evenings, bring a light jacket as desert temperatures can drop significantly.",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:jn,wechatQR:hn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){$t().open()}}},qx={class:"safari"},Bx={class:"banner-container"},Hx=["src"],jx={class:"floating-logos"},$x=["src"],zx=["src"],Gx={class:"cards-container"},Kx={class:"cards-container"},Qx={class:"cta-row-wrapper"},Zx={class:"cta-row"},Yx={key:0,class:"center-toast",role:"status","aria-live":"polite"},Jx={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},Xx={class:"qr-modal-box"},e3=["src"],t3={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},n3={class:"qr-modal-box"},r3=["src"],s3={class:"faq-card"},i3=["onClick"],a3=["id"],o3={class:"faq-icon"},c3={key:0,class:"faq-answer"},l3=["id"];function d3(t,e,n,r,s,i){const a=lt("CarCard");return W(),B("div",qx,[m("div",Bx,[m("img",{src:s.banner,alt:"Transfers Banner",class:"banner",id:"safariBanner","data-c-src":"@id"},null,8,Hx),m("div",jx,[m("img",{src:s.logoGold,alt:"Gold Logo",class:"logo",id:"safariLogoGold","data-c-src":"@id"},null,8,$x),m("img",{src:s.logoText,alt:"Text Logo",class:"logo-text",id:"safariLogoText","data-c-src":"@id"},null,8,zx)])]),e[8]||(e[8]=Te('<div class="intro" data-v-32059872><h1 id="safariIntroTitle" data-c="@id" data-v-32059872>Dubai&#39;s Premier Adventure — Desert Safari Tours</h1><p id="safariIntroP1" data-c-html="@id" data-v-32059872> Experience the best of Dubai&#39;s desert with our curated safari tours. We offer a full spectrum of adventures, from the thrilling energy of a morning safari to the mesmerizing calm of a desert sunset and the authentic cultural immersion of an overnight stay. Each tour is designed to deliver a unique experience, allowing you to choose the perfect fit for your style of travel. Book with us for a seamless, professional, and unforgettable journey into the dunes. </p></div><div class="whatsapp-wrapper" data-v-32059872><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" id="safariWhatsappLink" data-c-src="@id" data-v-32059872><img src="'+pn+'" alt="WhatsApp" id="safariWhatsappIcon" data-c-src="@id" data-v-32059872><span class="whatsapp-text" id="safariWhatsappText" data-c="@id" data-v-32059872>Need help? Chat with us!</span></a></div>',2)),m("div",Gx,[V(a,{"key-id":"safariCardMorning",image:s.car1,title:"Morning Dunes Drive",subtitle:"Classic Line",tour:"Morning Private Tour",duration:"4.5 Hours",price:"from AED 500",link:"/safari/regsafari"},null,8,["image"]),V(a,{"key-id":"safariCardSunset",image:s.car2,title:"Sunset Dunes Select",subtitle:"Signature Line",tour:"Sunset Private Tour",duration:"6 Hours",price:"from AED 700",link:"/safari/regsafari"},null,8,["image"]),V(a,{"key-id":"safariCardExtended",image:s.car3,title:"Extended Dunes Thrill",subtitle:"Prestige Line",tour:"Extended Private Tour",duration:"7 Hours",price:"from AED 1100",link:"/safari/upsafari"},null,8,["image"]),V(a,{"key-id":"safariCardRoyal",image:s.car4,title:"Royal Dunes Safari",subtitle:"Royal Line",tour:"Luxury Overnight",duration:"16 Hours",price:"from AED 2000",link:"/safari/upsafari"},null,8,["image"]),m("div",Kx,[V(a,{"key-id":"safariAddonATV150",image:s.addon1,title:"ATV Ride (150cc)",subtitle:"Add-on",tour:"Desert Safari",duration:"30 Minutes",price:"AED 140 / person",link:"/safari/addon"},null,8,["image"]),V(a,{"key-id":"safariAddonBuggy2",image:s.addon2,title:"Buggy Ride (2-Seater)",subtitle:"Add-on",tour:"Desert Safari",duration:"30 Minutes",price:"AED 420 / vehicle",link:"/safari/addon"},null,8,["image"]),V(a,{"key-id":"safariAddonPhoto",image:s.addon3,title:"Photography Package",subtitle:"Add-on",tour:"10 Edited + All Originals",duration:"—",price:"AED 150 / package",link:"/safari/addon"},null,8,["image"]),V(a,{"key-id":"safariAddonShisha",image:s.addon4,title:"Shisha / Drinks",subtitle:"Add-on",tour:"Available at Licensed Camps",duration:"—",price:"contact for details",link:"/safari/addon"},null,8,["image"])])]),e[9]||(e[9]=Te('<div class="text-card" data-v-32059872><h2 id="safariPriceTitle" data-c="@id" data-v-32059872>Dubai Desert Safari Price List</h2><table class="price-table" data-v-32059872><thead data-v-32059872><tr data-v-32059872><th id="safariPriceThService" data-c="@id" data-v-32059872>Desert Safari Service</th><th id="safariPriceThTime" data-c="@id" data-v-32059872>Time/Duration</th><th id="safariPriceThPrice" data-c="@id" data-v-32059872>Price</th></tr></thead><tbody data-v-32059872><tr data-v-32059872><td id="safariPriceMorningTitle" data-c="@id" data-v-32059872>Morning Dunes Drive｜Classic Line</td><td id="safariPriceMorningTime" data-c="@id" data-v-32059872>08:00 – 12:30</td><td data-v-32059872><strong style="color:#b01b1b;" id="safariPriceMorning" data-c-num="@id" data-format="price-AED" data-v-32059872>AED 500</strong></td></tr><tr data-v-32059872><td id="safariPriceSunsetTitle" data-c="@id" data-v-32059872>Sunset Dunes Select｜Signature Line</td><td id="safariPriceSunsetTime" data-c="@id" data-v-32059872>15:00 – 21:00</td><td data-v-32059872><strong style="color:#b01b1b;" id="safariPriceSunset" data-c-num="@id" data-format="price-AED" data-v-32059872>AED 700</strong></td></tr><tr data-v-32059872><td id="safariPriceExtendedTitle" data-c="@id" data-v-32059872>Extended Dunes Thrill｜Prestige Line</td><td id="safariPriceExtendedTime" data-c="@id" data-v-32059872>14:00 – 21:00</td><td data-v-32059872><strong style="color:#b01b1b;" id="safariPriceExtended" data-c-num="@id" data-format="price-AED" data-v-32059872>AED 1100</strong></td></tr><tr data-v-32059872><td id="safariPriceRoyalTitle" data-c="@id" data-v-32059872>Royal Dunes Safari｜Royal Line</td><td id="safariPriceRoyalTime" data-c="@id" data-v-32059872>15:00 – 09:00(+1 day)</td><td data-v-32059872><strong style="color:#b01b1b;" id="safariPriceRoyal" data-c-num="@id" data-format="price-AED" data-v-32059872>AED 2000</strong></td></tr><tr data-v-32059872><td id="safariPriceAddonATVTitle" data-c="@id" data-v-32059872>Add-on ATV Ride (150cc)</td><td id="safariPriceAddonATVTime" data-c="@id" data-v-32059872>30min</td><td data-v-32059872><strong style="color:#b01b1b;" id="safariPriceAddonATV" data-c-num="@id" data-format="price-AED" data-v-32059872>AED 140</strong></td></tr><tr data-v-32059872><td id="safariPriceAddonBuggyTitle" data-c="@id" data-v-32059872>Add-on Buggy Ride (2-seater)</td><td id="safariPriceAddonBuggyTime" data-c="@id" data-v-32059872>30min</td><td data-v-32059872><strong style="color:#b01b1b;" id="safariPriceAddonBuggy" data-c-num="@id" data-format="price-AED" data-v-32059872>AED 420</strong></td></tr><tr data-v-32059872><td id="safariPriceAddonPhotoTitle" data-c="@id" data-v-32059872>Add-on One Photography Package</td><td id="safariPriceAddonPhotoTime" data-c="@id" data-v-32059872>——</td><td data-v-32059872><strong style="color:#b01b1b;" id="safariPriceAddonPhoto" data-c-num="@id" data-format="price-AED" data-v-32059872>AED 150</strong></td></tr><tr data-v-32059872><td id="safariPriceAddonShishaTitle" data-c="@id" data-v-32059872>Shisha/Alcoholic Drinks</td><td id="safariPriceAddonShishaTime" data-c="@id" data-v-32059872>——</td><td data-v-32059872><strong id="safariPriceAddonShisha" data-c="@id" data-v-32059872>see menu</strong></td></tr></tbody></table></div>',1)),m("div",Qx,[m("div",Zx,[m("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...o)=>i.copyEmail&&i.copyEmail(...o)),id:"safariCTAEmail","data-c":"@id"}," Email us "),m("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...o)=>i.openWhatsappModal&&i.openWhatsappModal(...o)),id:"safariCTAWhatsApp","data-c":"@id"}," WhatsApp us "),m("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...o)=>i.openWechatModal&&i.openWechatModal(...o)),id:"safariCTAWechat","data-c":"@id"}," Wechat us "),m("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...o)=>i.bookNow&&i.bookNow(...o)),id:"safariCTACart","data-c":"@id"}," My WonderCart ")])]),s.showEmailToast?(W(),B("div",Yx,[...e[6]||(e[6]=[m("div",{class:"center-toast-box"},[m("p",{id:"safariEmailCopiedText","data-c-html":"@id"},[m("strong",null,"info@wanderwonderworlddubai.com"),we(" has been copied to your clipboard ")])],-1)])])):ae("",!0),s.showWhatsappModal?(W(),B("div",Jx,[m("div",Xx,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.whatsappQR,alt:"WhatsApp QR",id:"safariWhatsappQR","data-c-src":"@id"},null,8,e3)])])):ae("",!0),s.showWechatModal?(W(),B("div",t3,[m("div",n3,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.wechatQR,alt:"WeChat QR",id:"safariWechatQR","data-c-src":"@id"},null,8,r3)])])):ae("",!0),m("div",s3,[e[7]||(e[7]=m("h2",{id:"safariFaqTitle","data-c":"@id"},"FAQs",-1)),(W(!0),B(je,null,Ut(s.faqs,(o,l)=>(W(),B("div",{key:l,class:"faq-item"},[m("div",{class:"faq-question",onClick:d=>i.toggleFaq(l)},[m("span",{id:`safariFaqQ${l+1}`,"data-c":"@id"},oe(o.question),9,a3),m("span",o3,oe(o.open?"▲":"▼"),1)],8,i3),o.open?(W(),B("div",c3,[m("p",{id:`safariFaqA${l+1}`,"data-c-html":"@id"},oe(o.answer),9,l3)])):ae("",!0)]))),128))]),e[10]||(e[10]=Te('<div class="text-card" data-v-32059872><h2 id="safariS1Title" data-c="@id" data-v-32059872>Unforgettable Adventures: Our Dubai Desert Safari Experiences</h2><p id="safariS1P1" data-c-html="@id" data-v-32059872> At WanderWonderWorld, we deliver safe, comfortable, and thrilling desert safari journeys designed for every type of traveler. From gentle morning drives across golden dunes to adrenaline-filled dune bashing at sunset, our packages are tailored to combine excitement with cultural immersion. With private 4x4 vehicles, professional drivers, and carefully selected desert camps, we ensure an authentic yet premium experience for families, couples, and groups alike. </p></div><div class="text-card" data-v-32059872><h2 id="safariS2Title" data-c="@id" data-v-32059872>Tailored Desert Safari: Your Private Tour Options</h2><p id="safariS2P1" data-c-html="@id" data-v-32059872><strong data-v-32059872>Morning Dune Drive | Classic Line:</strong> A half-day safari designed for families, seniors, and short-stay travelers. Includes cool morning dune bashing, camel ride, sandboarding, and light refreshments.</p><p id="safariS2P2" data-c-html="@id" data-v-32059872><strong data-v-32059872>Sunset Dunes Select | Signature Line:</strong> Our most popular safari. Afternoon dune bashing, sunset photo stop, camel ride, cultural shows, and BBQ buffet dinner in a traditional desert camp.</p><p id="safariS2P3" data-c-html="@id" data-v-32059872><strong data-v-32059872>Extended Dune Thrill | Prestige Line:</strong> For adventure seekers. Extended dune bashing in deeper desert areas, premium camp access with VIP seating, upgraded dinner, and exclusive performances.</p><p id="safariS2P4" data-c-html="@id" data-v-32059872><strong data-v-32059872>Royal Dunes Safari | Royal Line:</strong> The ultimate luxury experience. Chauffeured in a premium SUV, enjoy private dune bashing, champagne welcome, fine dining, and an overnight stay in luxury tents with stargazing and breakfast.</p></div><div class="text-card" data-v-32059872><h2 id="safariS3Title" data-c="@id" data-v-32059872>Terms and Conditions</h2><p id="safariS3P1" data-c-html="@id" data-v-32059872><strong data-v-32059872>Service Availability:</strong> All desert safari tours are subject to vehicle, driver, and camp availability. We recommend booking in advance to secure your preferred date and package.</p><p id="safariS3P2" data-c-html="@id" data-v-32059872><strong data-v-32059872>Vehicle Use:</strong> Our safaris are conducted with well-maintained 4x4 vehicles. Eating, drinking, and smoking are not allowed inside the vehicles for safety reasons.</p><p id="safariS3P3" data-c-html="@id" data-v-32059872><strong data-v-32059872>Cancellation Policy:</strong> Cancellations must follow our booking policy. Fees may apply depending on the timing of cancellation. Full details will be provided at the time of booking.</p><p id="safariS3P4" data-c-html="@id" data-v-32059872><strong data-v-32059872>No-Show Policy:</strong> Guests who fail to arrive at the designated pickup point without prior notice may be treated as a no-show, and applicable fees will be charged.</p><p id="safariS3P5" data-c-html="@id" data-v-32059872><strong data-v-32059872>Overtime Charges:</strong> Extra-hour charges may apply if guests request additional time beyond the booked safari schedule. Rates depend on vehicle type and tour duration.</p><p id="safariS3P6" data-c-html="@id" data-v-32059872><strong data-v-32059872>Seasonal Surcharge:</strong> Peak season or holiday surcharges may apply. This will be clearly communicated before final confirmation.</p><p id="safariS3P7" data-c-html="@id" data-v-32059872><strong data-v-32059872>Safety Policy:</strong> Guests must follow the driver’s instructions during dune bashing and other activities. Children and elderly guests should inform us in advance so we can recommend suitable safari options. Child seats are available upon request.</p><p id="safariS3P8" data-c-html="@id" data-v-32059872><strong data-v-32059872>Add-ons &amp; Alcohol Policy:</strong> Add-on activities such as ATV, buggy rides, photography, and shisha can be booked in advance. Alcoholic drinks are served only at licensed camps, in compliance with UAE law.</p><p id="safariS3P9" data-c-html="@id" data-v-32059872><strong data-v-32059872>Tour Guides:</strong> The provided driver is not a licensed tour guide. A licensed tour guide can be arranged at an additional cost upon request.</p></div><div class="text-card" data-v-32059872><h2 id="safariS4Title" data-c="@id" data-v-32059872>WanderWonderWorld Desert Safari Services</h2><p id="safariS4P1" data-c-html="@id" data-v-32059872> At WanderWonderWorld, we deliver a full spectrum of desert safari experiences tailored for every traveler. From thrilling dune bashing adventures to luxury overnight stays, our tours are designed to combine safety, cultural immersion, and exceptional service. Whether you are a first-time visitor or seeking a premium desert journey, we provide reliable and professional services that meet international standards. </p><p id="safariS4P2" data-c-html="@id" data-v-32059872> We offer a wide range of safari options, including morning, evening, extended, and royal overnight experiences. All safaris are conducted with modern 4x4 vehicles and licensed, experienced drivers, ensuring both excitement and peace of mind. For families, couples, groups, or corporate bookings, our dedicated team can create a customized itinerary that matches your needs and expectations. </p></div>',4))])}const u3=pt(Wx,[["render",d3],["__scopeId","data-v-32059872"]]),h3={name:"Packages",components:{CarCard:fn},data(){return{banner:In,logoGold:Nt,logoText:Wt,car1:fl,car2:pl,car3:ml,car4:gl,faqs:[{question:"What’s included in the tour price?",answer:"Private vehicle with an English-speaking driver, Old Dubai walking (~2h) with a licensed guide on Dubai routes, abra tickets (Dubai routes), bottled water, Salik tolls and official parking fees. Tickets and meals are optional add-ons unless specified.",open:!1},{question:"Are the rates per car or per person?",answer:"Per car, up to 6 guests in a 7-seater. Child/booster seats are required by law and can be requested when booking. Larger vehicles (Hiace/minibus/SUV upgrade) are available at a supplement.",open:!1},{question:"Can we change the sightseeing order?",answer:"Yes. Tours are private and flexible. We adapt to your flight times, season, traffic and ticket slots. On peak days we may re-sequence to secure better time windows.",open:!1},{question:"Is the Abu Dhabi Mosque dress code enforced?",answer:"Absolutely. Ladies must cover hair, shoulders and legs; men must wear long trousers. Security is strict and may refuse entry if attire is incomplete. Friday visitor hours are limited.",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:jn,wechatQR:hn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){$t().open()}}},f3={class:"city"},p3={class:"banner-container"},m3=["src"],g3={class:"floating-logos"},v3=["src"],y3=["src"],_3={class:"cards-container"},b3={class:"cta-row-wrapper"},w3={class:"cta-row"},T3={key:0,class:"center-toast",role:"status","aria-live":"polite"},E3={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},A3={class:"qr-modal-box"},I3=["src"],C3={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},k3={class:"qr-modal-box"},P3=["src"],S3={class:"faq-card"},R3=["onClick"],D3={class:"faq-icon"},x3={key:0,class:"faq-answer"};function N3(t,e,n,r,s,i){const a=lt("CarCard");return W(),B("div",f3,[m("div",p3,[m("img",{src:s.banner,alt:"Packages Banner",class:"banner",id:"cityBanner","data-c-src":"@id"},null,8,m3),m("div",g3,[m("img",{src:s.logoGold,alt:"Gold Logo",class:"logo",id:"cityLogoGold","data-c-src":"@id"},null,8,v3),m("img",{src:s.logoText,alt:"Text Logo",class:"logo-text",id:"cityLogoText","data-c-src":"@id"},null,8,y3)])]),e[8]||(e[8]=Te('<div class="intro" data-v-054c113d><h1 id="cityIntroTitle" data-c="@id" data-v-054c113d>Dubai City Tours — Flexible &amp; Discovery</h1><p id="cityIntroP1" data-c-html="@id" data-v-054c113d> Explore Dubai your way with four private, per-car city tours. We plan with heat-smart pacing (outdoors in the morning/evening, indoors at midday), and include an Old Dubai walking segment with an abra ride on our Dubai routes (guided by a licensed walking guide; your English-speaking driver escorts you for the rest of the day). Clear, value-first pricing, up to 6 guests per car, bottled water on board, and verified vehicles keep the day smooth from hotel pickup to drop-off. </p></div><div class="whatsapp-wrapper" data-v-054c113d><a id="cityWhatsappLink" data-c-src="@id" href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-054c113d><img src="'+pn+'" alt="WhatsApp" id="cityWhatsappIcon" data-c-src="@id" data-v-054c113d><span class="whatsapp-text" id="cityWhatsappText" data-c="@id" data-v-054c113d>Need help? Chat with us!</span></a></div>',2)),m("div",_3,[V(a,{"key-id":"cityCardHalfDay",image:s.car1,title:"Half-Day Dubai Essentials",subtitle:"City-Tour-Services",tour:"Dubai City",duration:"5 Hours",price:"from AED 325",link:"/city/city12"},null,8,["image"]),V(a,{"key-id":"cityCardFullDay",image:s.car2,title:"Full-Day Dubai Panorama",subtitle:"City-Tour-Services",tour:"Dubai City",duration:"10 Hours",price:"from AED 559",link:"/city/city12"},null,8,["image"]),V(a,{"key-id":"cityCardAbuDhabi",image:s.car3,title:"Abu Dhabi Culture Day",subtitle:"City-Tour-Services",tour:"Abu Dhabi",duration:"10-11 Hours",price:"from AED 659",link:"/city/city34"},null,8,["image"]),V(a,{"key-id":"cityCardHatta",image:s.car4,title:"Hatta Mountain Escape",subtitle:"City-Tour-Services",tour:"Hatta",duration:"10-11 Hours",price:"from AED 710",link:"/city/city34"},null,8,["image"])]),e[9]||(e[9]=Te('<div class="text-card" data-v-054c113d><h2 id="cityPriceTitle" data-c="@id" data-v-054c113d>Dubai City Tour Price List</h2><table class="price-table" data-v-054c113d><thead data-v-054c113d><tr data-v-054c113d><th id="cityPriceThTour" data-c="@id" data-v-054c113d>City Tour</th><th id="cityPriceThTime" data-c="@id" data-v-054c113d>Time/Duration</th><th id="cityPriceThPrice" data-c="@id" data-v-054c113d>Price</th></tr></thead><tbody data-v-054c113d><tr data-v-054c113d><td id="cityPriceHalfTitle" data-c="@id" data-v-054c113d>Half-Day Dubai Essentials</td><td id="cityPriceHalfTime" data-c="@id" data-v-054c113d>5 Hours</td><td data-v-054c113d><strong style="color:#b01b1b;" data-v-054c113d> from <span id="cityPriceHalfFrom" data-c-num="@id" data-format="price-AED" data-v-054c113d>AED 325</span></strong></td></tr><tr data-v-054c113d><td id="cityPriceFullTitle" data-c="@id" data-v-054c113d>Full-Day Dubai Panorama</td><td id="cityPriceFullTime" data-c="@id" data-v-054c113d>10 Hours</td><td data-v-054c113d><strong style="color:#b01b1b;" data-v-054c113d> from <span id="cityPriceFullFrom" data-c-num="@id" data-format="price-AED" data-v-054c113d>AED 559</span></strong></td></tr><tr data-v-054c113d><td id="cityPriceADTitle" data-c="@id" data-v-054c113d>Abu Dhabi Culture Day</td><td id="cityPriceADTime" data-c="@id" data-v-054c113d>10–11 Hours</td><td data-v-054c113d><strong style="color:#b01b1b;" data-v-054c113d> from <span id="cityPriceADFrom" data-c-num="@id" data-format="price-AED" data-v-054c113d>AED 659</span></strong></td></tr><tr data-v-054c113d><td id="cityPriceHattaTitle" data-c="@id" data-v-054c113d>Hatta Mountain Escape</td><td id="cityPriceHattaTime" data-c="@id" data-v-054c113d>10–11 Hours</td><td data-v-054c113d><strong style="color:#b01b1b;" data-v-054c113d> from <span id="cityPriceHattaFrom" data-c-num="@id" data-format="price-AED" data-v-054c113d>AED 710</span></strong></td></tr></tbody></table><p id="cityPriceNote" data-c-html="@id" style="margin-top:8px;font-size:0.95rem;color:#555;" data-v-054c113d> * Rates are <strong data-v-054c113d>per car</strong> (7-seater, up to 6 guests). Overtime <strong data-v-054c113d>AED 75/h</strong>. Old Dubai walking + abra is included on Dubai routes. Attraction tickets and meals are optional add-ons unless specified. Child/booster seats available on request (by law). </p></div>',1)),m("div",b3,[m("div",w3,[m("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...o)=>i.copyEmail&&i.copyEmail(...o)),id:"cityCTAEmail","data-c":"@id"},"Email us"),m("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...o)=>i.openWhatsappModal&&i.openWhatsappModal(...o)),id:"cityCTAWhatsApp","data-c":"@id"},"WhatsApp us"),m("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...o)=>i.openWechatModal&&i.openWechatModal(...o)),id:"cityCTAWechat","data-c":"@id"},"Wechat us"),m("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...o)=>i.bookNow&&i.bookNow(...o)),id:"cityCTACart","data-c":"@id"},"My WonderCart")])]),s.showEmailToast?(W(),B("div",T3,[...e[6]||(e[6]=[m("div",{class:"center-toast-box"},[m("p",{id:"cityEmailCopiedText","data-c-html":"@id"},[m("strong",null,"info@wanderwonderworlddubai.com"),we(" has been copied to your clipboard ")])],-1)])])):ae("",!0),s.showWhatsappModal?(W(),B("div",E3,[m("div",A3,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.whatsappQR,alt:"WhatsApp QR",id:"cityWhatsappQR","data-c-src":"@id"},null,8,I3)])])):ae("",!0),s.showWechatModal?(W(),B("div",C3,[m("div",k3,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.wechatQR,alt:"WeChat QR",id:"cityWechatQR","data-c-src":"@id"},null,8,P3)])])):ae("",!0),m("div",S3,[e[7]||(e[7]=m("h2",{id:"cityFaqTitle","data-c":"@id"},"FAQs",-1)),(W(!0),B(je,null,Ut(s.faqs,(o,l)=>(W(),B("div",{key:l,class:"faq-item"},[m("div",{class:"faq-question",onClick:d=>i.toggleFaq(l)},[m("span",null,oe(o.question),1),m("span",D3,oe(o.open?"▲":"▼"),1)],8,R3),o.open?(W(),B("div",x3,[m("p",null,oe(o.answer),1)])):ae("",!0)]))),128))]),e[10]||(e[10]=Te('<div class="text-card" data-v-054c113d><h2 id="cityS1Title" data-c="@id" data-v-054c113d>Discover Dubai Your Way: Our Private City Tours</h2><p id="cityS1P1" data-c-html="@id" data-v-054c113d><strong data-v-054c113d>Half-Day Dubai Essentials:</strong> Old Dubai walking (licensed guide) + abra crossing, souks, a Jumeirah seaside photo stop, and a finale at Dubai Mall/Fountain (or MoTF exterior). A compact 5-hour plan that beats the heat and traffic.</p><p id="cityS1P2" data-c-html="@id" data-v-054c113d><strong data-v-054c113d>Full-Day Dubai Panorama:</strong> The complete Dubai day with heat-smart flow: Old Dubai walking + abra in the morning; midday indoors at Dubai Frame or The View (or Burj Khalifa 124/125); golden-hour photos around Souk Madinat and Dubai Marina/Bluewaters/JBR.</p><p id="cityS1P3" data-c-html="@id" data-v-054c113d><strong data-v-054c113d>Abu Dhabi Culture Day:</strong> Inside visit at Sheikh Zayed Grand Mosque (dress code required), drive by the Presidential Palace &amp; Corniche, and either Louvre Abu Dhabi or Qasr Al Watan (subject to ticket slots). We adjust timing for Friday prayers and traffic.</p><p id="cityS1P4" data-c-html="@id" data-v-054c113d><strong data-v-054c113d>Hatta Mountain Escape:</strong> Scenic dam viewpoints with optional kayaking, Heritage Village, Wadi Hub activity zone, and Hatta Hill Park. 4×4 recommended. Weather and road conditions may shift the order for safety.</p></div><div class="text-card" data-v-054c113d><h2 id="cityS2Title" data-c="@id" data-v-054c113d>Terms &amp; Conditions (City Tours)</h2><p id="cityS2P1" data-c-html="@id" data-v-054c113d><strong data-v-054c113d>Pricing &amp; Seating:</strong> Rates are per car (7-seater, up to 6 guests). Overtime AED 75/h. Remote pickups (Jebel Ali/DWC/Sharjah border) may incur a small surcharge. Fixed starts help avoid peak traffic; custom times on request.</p><p id="cityS2P2" data-c-html="@id" data-v-054c113d><strong data-v-054c113d>Inclusions:</strong> Private vehicle with an English-speaking driver, Old Dubai walking (~2h) with a licensed guide on Dubai routes, abra tickets (Dubai routes), bottled water, Salik tolls, and official parking fees.</p><p id="cityS2P3" data-c-html="@id" data-v-054c113d><strong data-v-054c113d>Exclusions:</strong> Attraction tickets and meals unless stated; optional activity fees (e.g., kayaking, observatories); licensed full-day guide add-on; peak/event supplements; gratuities; personal travel insurance.</p><p id="cityS2P4" data-c-html="@id" data-v-054c113d><strong data-v-054c113d>Child Seats &amp; Safety:</strong> UAE law requires age-appropriate child/booster seats. Please request seats at booking; each child must occupy a seat. No eating/drinking/smoking inside vehicles.</p><p id="cityS2P5" data-c-html="@id" data-v-054c113d><strong data-v-054c113d>Abu Dhabi Grand Mosque:</strong> Ladies must cover hair, shoulders, and legs; men must wear long trousers. Security is strict; non-compliant attire may be refused entry. Friday visitor hours are limited.</p><p id="cityS2P6" data-c-html="@id" data-v-054c113d><strong data-v-054c113d>Ramadan &amp; Peak Periods:</strong> Entertainment at desert camps pauses; alcohol service is restricted; attraction hours may change. New Year’s Eve and major events can carry mandatory supplements and road closures.</p><p id="cityS2P7" data-c-html="@id" data-v-054c113d><strong data-v-054c113d>Amendment &amp; Cancellation:</strong> ≥24h free change/cancel; 12–24h 50%; &lt;12h or no-show 100%. Non-refundable tickets follow supplier policy. For force-majeure (sandstorm/heavy rain/closures), we reschedule first; if not possible, only unrecoverable costs apply.</p></div><div class="text-card" data-v-054c113d><h2 id="cityS3Title" data-c="@id" data-v-054c113d>WanderWonderWorld City Tour Services</h2><p id="cityS3P1" data-c-html="@id" data-v-054c113d> We run heat-smart itineraries, include Old Dubai walking + abra as standard on Dubai routes, and keep add-ons transparent. WhatsApp concierge (08:00–22:00), verified drivers and vehicles, clean and safe stops, child seats on request, and one complimentary re-schedule (≥24h) make your day easy from pickup to drop-off. </p></div>',3))])}const M3=pt(h3,[["render",N3],["__scopeId","data-v-054c113d"]]),V3={name:"Packages",components:{CarCard:fn},data(){return{banner:In,logoGold:Nt,logoText:Wt,car1:vl,car2:yl,car3:_l,car4:bl,faqs:[{question:"What’s included in the ticket price?",answer:"Your cruise seat, buffet dinner (Halal; veg/non-veg; Jain/vegan by request), water/soft drinks and entertainment when permitted by law/season. Taxes included. Transfers, alcohol (where licensed), seating upgrades and occasion décor are optional add-ons.",open:!1},{question:"Where do we board and when should we arrive?",answer:"Your e-voucher shows the exact pier and a map link. Creek/Marina/Canal: board 8:00 PM, sail 8:30 PM. Lotus: report 7:00 PM, sail 7:30 PM for a 3-hour cruise. Please arrive on time—late arrivals are treated as no-show by the boat operator.",open:!1},{question:"Do you provide hotel transfers?",answer:"Yes—private round-trip transfers are available (Dubai urban): Sedan 1–4 AED 180, MPV 5–7 AED 220, Van 10–14 AED 350. Jebel Ali/JVC/DIP +AED 40–60; from Sharjah +AED 100. Child seats are free on request (limited).",open:!1},{question:"Is alcohol served on board?",answer:"Only on licensed vessels/dates (e.g., Lotus with Premium Drinks add-on). Alcohol is not served during Ramadan and on official dry days as per UAE regulations.",open:!1},{question:"What is the cancellation policy?",answer:"Creek/Marina/Canal: ≥24h free; 12–24h 50%; <12h or no-show 100%. Lotus/VIP: ≥48h free; 24–48h 50%; <24h 100%. Event nights have stricter terms.",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:jn,wechatQR:hn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){$t().open()}}},O3={class:"cruise"},L3={class:"banner-container"},F3=["src"],U3={class:"floating-logos"},W3=["src"],q3=["src"],B3={class:"cards-container"},H3={class:"cta-row-wrapper"},j3={class:"cta-row"},$3={key:0,class:"center-toast",role:"status","aria-live":"polite"},z3={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},G3={class:"qr-modal-box"},K3=["src"],Q3={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},Z3={class:"qr-modal-box"},Y3=["src"],J3={class:"faq-card"},X3=["onClick"],eN={class:"faq-icon"},tN={key:0,class:"faq-answer"};function nN(t,e,n,r,s,i){const a=lt("CarCard");return W(),B("div",O3,[m("div",L3,[m("img",{src:s.banner,alt:"Packages Banner",class:"banner",id:"cruiseBanner","data-c-src":"@id"},null,8,F3),m("div",U3,[m("img",{src:s.logoGold,alt:"Gold Logo",class:"logo",id:"cruiseLogoGold","data-c-src":"@id"},null,8,W3),m("img",{src:s.logoText,alt:"Text Logo",class:"logo-text",id:"cruiseLogoText","data-c-src":"@id"},null,8,q3)])]),e[8]||(e[8]=Te('<div class="intro" data-v-e3f16184><h1 id="cruiseIntroTitle" data-c="@id" data-v-e3f16184>Dubai Dhow Cruise Dinners — Night Life &amp; Premium</h1><p id="cruiseIntroP1" data-c-html="@id" data-v-e3f16184> Choose from four evening cruises: Creek Classic, Marina Skyline, Water Canal Glassboat, and the Lotus Mega Yacht. We keep pricing competitive, upgrades transparent (upper-deck/window seating, VIP lounges), and private hotel transfers optional. Vegetarian/Jain meals are available on request, entertainment follows local regulations, and your e-voucher includes a pier map and 24/7 emergency contact for a smooth boarding experience. </p></div><div class="whatsapp-wrapper" data-v-e3f16184><a id="cruiseWhatsappLink" data-c-src="@id" href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20dhow%20cruises." class="whatsapp-button hover-reveal" data-v-e3f16184><img src="'+pn+'" alt="WhatsApp" id="cruiseWhatsappIcon" data-c-src="@id" data-v-e3f16184><span class="whatsapp-text" id="cruiseWhatsappText" data-c="@id" data-v-e3f16184>Need help? Chat with us!</span></a></div>',2)),m("div",B3,[V(a,{"key-id":"cruiseCardCreek",image:s.car1,title:"Creek Classic Dhow Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Creek (Al Seef)",duration:"1.5–2 Hours",price:"from AED 85",link:"/city/sndcruise"},null,8,["image"]),V(a,{"key-id":"cruiseCardMarina",image:s.car2,title:"Dubai Marina Dhow Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Marina",duration:"2 Hours",price:"from AED 115",link:"/city/sndcruise"},null,8,["image"]),V(a,{"key-id":"cruiseCardCanal",image:s.car3,title:"Dubai Water Canal Glassboat Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Canal",duration:"2-2.5 Hours",price:"from AED 149",link:"/city/sndcruise"},null,8,["image"]),V(a,{"key-id":"cruiseCardLotus",image:s.car4,title:"Lotus Mega Yacht Dinner",subtitle:"Dhow-Cruise-Tour",tour:"Dubai Marina / Harbour",duration:"3 Hours",price:"from AED 239",link:"/city/sndcruise"},null,8,["image"])]),e[9]||(e[9]=Te('<div class="text-card" data-v-e3f16184><h2 id="cruisePriceTitle" data-c="@id" data-v-e3f16184>Dubai Dhow Cruise Price List</h2><table class="price-table" data-v-e3f16184><thead data-v-e3f16184><tr data-v-e3f16184><th id="cruisePriceThCruise" data-c="@id" data-v-e3f16184>Dhow Cruise</th><th id="cruisePriceThTime" data-c="@id" data-v-e3f16184>Time/Duration</th><th id="cruisePriceThTicket" data-c="@id" data-v-e3f16184>Ticket-Only Price</th></tr></thead><tbody data-v-e3f16184><tr data-v-e3f16184><td id="cruisePriceCreekTitle" data-c="@id" data-v-e3f16184>Creek Classic Dhow Dinner</td><td id="cruisePriceCreekTime" data-c="@id" data-v-e3f16184>90–120 Minutes</td><td data-v-e3f16184><strong style="color:#b01b1b;" data-v-e3f16184> Adult AED <span id="cruisePriceCreekAdult" data-c-num="@id" data-format="price-AED" data-v-e3f16184>85</span> | Child AED <span id="cruisePriceCreekChild" data-c-num="@id" data-format="price-AED" data-v-e3f16184>70</span></strong></td></tr><tr data-v-e3f16184><td id="cruisePriceMarinaTitle" data-c="@id" data-v-e3f16184>Dubai Marina Dhow Dinner</td><td id="cruisePriceMarinaTime" data-c="@id" data-v-e3f16184>2 Hours</td><td data-v-e3f16184><strong style="color:#b01b1b;" data-v-e3f16184> Adult AED <span id="cruisePriceMarinaAdult" data-c-num="@id" data-format="price-AED" data-v-e3f16184>115</span> | Child AED <span id="cruisePriceMarinaChild" data-c-num="@id" data-format="price-AED" data-v-e3f16184>95</span></strong></td></tr><tr data-v-e3f16184><td id="cruisePriceCanalTitle" data-c="@id" data-v-e3f16184>Dubai Water Canal Glassboat Dinner</td><td id="cruisePriceCanalTime" data-c="@id" data-v-e3f16184>~2 Hours</td><td data-v-e3f16184><strong style="color:#b01b1b;" data-v-e3f16184> Adult AED <span id="cruisePriceCanalAdult" data-c-num="@id" data-format="price-AED" data-v-e3f16184>149</span> | Child AED <span id="cruisePriceCanalChild" data-c-num="@id" data-format="price-AED" data-v-e3f16184>119</span></strong></td></tr><tr data-v-e3f16184><td id="cruisePriceLotusTitle" data-c="@id" data-v-e3f16184>Lotus Mega Yacht Dinner</td><td id="cruisePriceLotusTime" data-c="@id" data-v-e3f16184>3 Hours</td><td data-v-e3f16184><strong style="color:#b01b1b;" data-v-e3f16184> Adult AED <span id="cruisePriceLotusAdult" data-c-num="@id" data-format="price-AED" data-v-e3f16184>239</span> | Child AED <span id="cruisePriceLotusChild" data-c-num="@id" data-format="price-AED" data-v-e3f16184>189</span></strong></td></tr></tbody></table><p id="cruisePriceNote" data-c-html="@id" style="margin-top:8px;font-size:0.95rem;color:#555;" data-v-e3f16184> * Rates are <strong data-v-e3f16184>per person</strong>. Infant (0–2) free. Ticket-only prices exclude hotel transfers and seating upgrades. Optional private round-trip transfers (Dubai urban): Sedan 1–4 AED 180 / MPV 5–7 AED 220 / Van 10–14 AED 350 (Jebel Ali/JVC/DIP +AED 40–60; from Sharjah +AED 100). Child seats provided free on request (limited; by UAE law). </p></div>',1)),m("div",H3,[m("div",j3,[m("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...o)=>i.copyEmail&&i.copyEmail(...o)),id:"cruiseCTAEmail","data-c":"@id"},"Email us"),m("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...o)=>i.openWhatsappModal&&i.openWhatsappModal(...o)),id:"cruiseCTAWhatsApp","data-c":"@id"},"WhatsApp us"),m("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...o)=>i.openWechatModal&&i.openWechatModal(...o)),id:"cruiseCTAWechat","data-c":"@id"},"Wechat us"),m("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...o)=>i.bookNow&&i.bookNow(...o)),id:"cruiseCTACart","data-c":"@id"},"My WonderCart")])]),s.showEmailToast?(W(),B("div",$3,[...e[6]||(e[6]=[m("div",{class:"center-toast-box"},[m("p",{id:"cruiseEmailCopiedText","data-c-html":"@id"},[m("strong",null,"info@wanderwonderworlddubai.com"),we(" has been copied to your clipboard ")])],-1)])])):ae("",!0),s.showWhatsappModal?(W(),B("div",z3,[m("div",G3,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.whatsappQR,alt:"WhatsApp QR",id:"cruiseWhatsappQR","data-c-src":"@id"},null,8,K3)])])):ae("",!0),s.showWechatModal?(W(),B("div",Q3,[m("div",Z3,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.wechatQR,alt:"WeChat QR",id:"cruiseWechatQR","data-c-src":"@id"},null,8,Y3)])])):ae("",!0),m("div",J3,[e[7]||(e[7]=m("h2",{id:"cruiseFaqTitle","data-c":"@id"},"FAQs",-1)),(W(!0),B(je,null,Ut(s.faqs,(o,l)=>(W(),B("div",{key:l,class:"faq-item"},[m("div",{class:"faq-question",onClick:d=>i.toggleFaq(l)},[m("span",null,oe(o.question),1),m("span",eN,oe(o.open?"▲":"▼"),1)],8,X3),o.open?(W(),B("div",tN,[m("p",null,oe(o.answer),1)])):ae("",!0)]))),128))]),e[10]||(e[10]=Te('<div class="text-card" data-v-e3f16184><h2 id="cruiseS1Title" data-c="@id" data-v-e3f16184>Find Your Evening on the Water: Our Cruise Line-up</h2><p id="cruiseS1P1" data-c-html="@id" data-v-e3f16184><strong data-v-e3f16184>Creek Classic Dhow Dinner:</strong> Heritage wooden dhow, Old Dubai skyline, international buffet, water/soft drinks and <em data-v-e3f16184>Tanoura</em> when permitted. Easy price point and a relaxed vibe. Add an <em data-v-e3f16184>upper-deck</em> or <em data-v-e3f16184>window table</em> guarantee, pre-cruise Old Dubai mini walk + abra, or private hotel transfers.</p><p id="cruiseS1P2" data-c-html="@id" data-v-e3f16184><strong data-v-e3f16184>Dubai Marina Dhow Dinner:</strong> The favourite skyline route—Marina, JBR and Bluewaters by night on a traditional dhow or a modern glass boat (operator assigned). Buffet dinner, soft drinks and entertainment when permitted. Optional upper-deck/window seating and birthday/anniversary table décor.</p><p id="cruiseS1P3" data-c-html="@id" data-v-e3f16184><strong data-v-e3f16184>Water Canal Glassboat Dinner:</strong> Premium glass-enclosed vessel along the Dubai Water Canal and Business Bay bridges. Panoramic windows, quieter “fine-dining” ambience, and priority to window-style tables when available. Add a quick Dubai Frame visit before boarding (ticket add-on).</p><p id="cruiseS1P4" data-c-html="@id" data-v-e3f16184><strong data-v-e3f16184>Lotus Mega Yacht Dinner:</strong> Three hours on one of Dubai’s largest yachts—live DJ, multiple decks, live cooking stations and lounge areas. Optional VIP sofa sections and, on licensed dates only, a Premium Drinks package.</p></div><div class="text-card" data-v-e3f16184><h2 id="cruiseS2Title" data-c="@id" data-v-e3f16184>Terms &amp; Conditions (Dhow Cruises)</h2><p id="cruiseS2P1" data-c-html="@id" data-v-e3f16184><strong data-v-e3f16184>Boarding &amp; Timing:</strong> Standard cruises board at 8:00 PM and sail at 8:30 PM for ~90–120 minutes (Creek/Marina/Canal). Lotus reports at 7:00 PM and sails 7:30–10:30 PM. Late arrivals are treated as no-show by the boat operator.</p><p id="cruiseS2P2" data-c-html="@id" data-v-e3f16184><strong data-v-e3f16184>Inclusions:</strong> Ticket-only covers the boat seat, buffet dinner (Halal; veg/non-veg; Jain/vegan by request), water/soft drinks, and shows when permitted. Alcohol is only served on licensed vessels and not during Ramadan/dry days.</p><p id="cruiseS2P3" data-c-html="@id" data-v-e3f16184><strong data-v-e3f16184>Transfers:</strong> Private round-trip hotel transfers are optional at the published matrix. Child/booster seats are provided free on request (limited). Eating/drinking/smoking are not allowed inside vehicles.</p><p id="cruiseS2P4" data-c-html="@id" data-v-e3f16184><strong data-v-e3f16184>Seating:</strong> FCFS or operator-assigned. Paid upgrades guarantee a section (upper deck/window/VIP) rather than a specific table number. Families are seated together.</p><p id="cruiseS2P5" data-c-html="@id" data-v-e3f16184><strong data-v-e3f16184>Weather / Route:</strong> Marine control, wind or traffic may alter route/berth (e.g., canal waterfall closures). If the operator cancels, you may re-book or receive a full refund; if the cruise operates with a modified route, refunds do not apply.</p><p id="cruiseS2P6" data-c-html="@id" data-v-e3f16184><strong data-v-e3f16184>Amendment &amp; Cancellation:</strong> Creek/Marina/Canal ≥24h free; 12–24h 50%; &lt;12h or no-show 100%. Lotus/VIP sections ≥48h free; 24–48h 50%; &lt;24h 100%. Event nights (NYE/National Day/major shows) have stricter terms and supplements.</p><p id="cruiseS2P7" data-c-html="@id" data-v-e3f16184><strong data-v-e3f16184>Compliance &amp; Safety:</strong> Vessels are licensed by DMCA/RTA and carry lifejackets with trained crew. Our transfers use insured vehicles and RTA-licensed drivers.</p></div><div class="text-card" data-v-e3f16184><h2 id="cruiseS3Title" data-c="@id" data-v-e3f16184>Why Book Your Cruise with WanderWonderWorld</h2><p id="cruiseS3P1" data-c-html="@id" data-v-e3f16184> Competitive ticket pricing, clear upgrades, and real-time support. WhatsApp concierge (08:00–22:00), optional private hotel transfers with free child seats on request, occasion add-ons (cake, décor, photographer), and one complimentary re-schedule within the policy window (subject to availability) keep your evening simple—from confirmation to boarding. </p></div>',3))])}const rN=pt(V3,[["render",nN],["__scopeId","data-v-e3f16184"]]),sN={name:"Contact"},iN={class:"contact"};function aN(t,e,n,r,s,i){return W(),B("div",iN,[...e[0]||(e[0]=[Te('<div class="banner-container" data-v-11f5456b><img src="'+In+'" alt="Transfers Banner" class="banner" data-v-11f5456b><div class="floating-logos" data-v-11f5456b><img src="'+Nt+'" alt="Gold Logo" class="logo" data-v-11f5456b><img src="'+Wt+'" alt="Text Logo" class="logo-text" data-v-11f5456b></div></div><div class="intro" data-v-11f5456b><h1 data-v-11f5456b>WanderWonderWorld</h1><p data-v-11f5456b> Welcome to WanderWonderWorld Dubai — a direct-to-traveler tour operator and concierge based in the UAE. We design heat-smart, family-friendly trips and operate with vetted, insured partners across tours, safaris, cruises, transfers, and multi-night packages. </p></div><div class="text-card" data-v-11f5456b><div class="card-header" data-v-11f5456b><h2 data-v-11f5456b>About Us</h2><img src="'+Nt+'" alt="WanderWonderWorld Logo" class="about-logo" data-v-11f5456b></div><p data-v-11f5456b><strong data-v-11f5456b>WanderWonderWorld Dubai (WWD)</strong> is a locally run tour company specialized in <em data-v-11f5456b>private city tours</em>, <em data-v-11f5456b>desert safaris</em>, <em data-v-11f5456b>dhow cruises</em>, <em data-v-11f5456b>airport transfers</em>, and <em data-v-11f5456b>land-only holiday packages</em>. Our signature is <strong data-v-11f5456b>Heat-Smart pacing</strong> (outdoors in the morning/evening, indoors at noon) and an <strong data-v-11f5456b>Old Dubai walking + abra ride</strong> included on our Dubai city routes. We work with English-speaking driver-guides and licensed walking guides, keep add-ons transparent, and make family needs easy (complimentary child seats on request, limited stock). </p><ul class="bullets" data-v-11f5456b><li data-v-11f5456b><strong data-v-11f5456b>What we do:</strong> Custom itineraries, time-slotted tickets, private vehicles, and on-trip WhatsApp concierge (08:00–22:00).</li><li data-v-11f5456b><strong data-v-11f5456b>Safety &amp; compliance:</strong> RTA-licensed drivers, insured vehicles, DMCA/RTA-licensed cruise and activity operators, and company public-liability insurance.</li><li data-v-11f5456b><strong data-v-11f5456b>Who we serve:</strong> Couples, families, small groups, and business travelers seeking flexible, value-first experiences.</li><li data-v-11f5456b><strong data-v-11f5456b>Promise:</strong> Clear pricing, reliable operations, and friendly human support before and during your stay.</li></ul><p data-v-11f5456b> Explore more at <a href="https://www.wanderwonderworlddubai.com" target="_blank" rel="noopener" data-v-11f5456b> wanderwonderworlddubai.com </a> or email us at <a href="mailto:info@wanderwonderworlddubai.com" data-v-11f5456b>info@wanderwonderworlddubai.com</a>. </p></div><div class="text-card" data-v-11f5456b><h2 data-v-11f5456b>Terms &amp; Conditions</h2><p data-v-11f5456b> These Terms govern bookings made with <strong data-v-11f5456b>WanderWonderWorld Dubai</strong> (“WWD”, “we”, “us” or “our”) via our website <strong data-v-11f5456b>wanderwonderworlddubai.com</strong>, WhatsApp, email or any other channel. By confirming a service, you acknowledge and accept the following: </p><h3 data-v-11f5456b>1) Pricing &amp; Definitions</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>All rates are in AED and generally include <strong data-v-11f5456b>5% VAT</strong> unless stated otherwise.</li><li data-v-11f5456b><strong data-v-11f5456b>Land-Only</strong> packages exclude international flights and visas.</li><li data-v-11f5456b><strong data-v-11f5456b>Tourism Dirham</strong> (hotel tax) is payable directly at the hotel (by room/night, per hotel class).</li><li data-v-11f5456b>Per-car city tours indicate the maximum seating per vehicle; per-person package rates are based on twin/double unless noted.</li></ul><h3 data-v-11f5456b>2) Booking, Payment &amp; Vouchers</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>A booking is confirmed once payment is received and a WWD confirmation/voucher is issued.</li><li data-v-11f5456b>Time-slotted tickets (e.g., Burj Khalifa, Louvre, waterparks/cruises) and hotel nights are often <strong data-v-11f5456b>non-refundable</strong> per supplier terms.</li><li data-v-11f5456b>Passengers must review vouchers (dates, times, pick-ups) and advise corrections immediately.</li></ul><h3 data-v-11f5456b>3) Amendments &amp; Cancellations</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b><strong data-v-11f5456b>Shared cruises / most city tours:</strong> ≥24h free; 12–24h 50%; &lt;12h or no-show 100%.</li><li data-v-11f5456b><strong data-v-11f5456b>Private full-day tours / Abu Dhabi / packages &amp; hotels:</strong> ≥48h free; 24–48h 50%; &lt;24h 100%.</li><li data-v-11f5456b><strong data-v-11f5456b>Peak nights &amp; special events</strong> (e.g., New Year’s Eve, major shows): stricter supplier policies and surcharges apply.</li><li data-v-11f5456b>Non-refundable tickets follow the attraction/operator policy regardless of tour cancellation windows.</li></ul><h3 data-v-11f5456b>4) Force Majeure &amp; Operational Changes</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>Weather, sandstorms, traffic, road or marine closures, religious observance, and government/security directives may require route/sequence changes or timing shifts.</li><li data-v-11f5456b>If an operator cancels, we <strong data-v-11f5456b>re-schedule first</strong>; if not possible, refunds are limited to <strong data-v-11f5456b>unrecoverable supplier costs</strong> actually withheld.</li><li data-v-11f5456b>We may substitute an equivalent service (vehicle, vessel, guide, time slot) when necessary for safety or operations.</li></ul><h3 data-v-11f5456b>5) Traveler Responsibilities</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>Arrive on time for pick-ups/boarding. Late arrivals may be treated as no-shows by suppliers.</li><li data-v-11f5456b>UAE law requires <strong data-v-11f5456b>child/booster seats</strong> and one seat per passenger in vehicles; please pre-book the seats you need.</li><li data-v-11f5456b>Respect site rules and dress codes. For the <strong data-v-11f5456b>Abu Dhabi Grand Mosque</strong>: ladies must cover hair, shoulders and legs; men must wear long trousers.</li><li data-v-11f5456b>Disclose medical conditions; some activities (e.g., dune bashing, quad/buggy, ziplines, water rides) are not suitable for pregnant travelers or those with back/neck/heart issues.</li></ul><h3 data-v-11f5456b>6) Insurance &amp; Liability</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>WWD maintains company public-liability insurance; suppliers are licensed by relevant authorities (e.g., RTA/DMCA).</li><li data-v-11f5456b>Guests must carry personal <strong data-v-11f5456b>travel insurance</strong> that covers medical care, trip interruption and high-risk activities where applicable.</li><li data-v-11f5456b>WWD is not liable for indirect, incidental, or consequential losses. In any case, our liability is limited to the amount you paid to WWD for the affected service.</li></ul><h3 data-v-11f5456b>7) Complaints &amp; Support</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>Please contact our WhatsApp/phone <strong data-v-11f5456b>during the service</strong> so we can attempt real-time solutions.</li><li data-v-11f5456b>Written claims should be submitted within <strong data-v-11f5456b>7 days</strong> of service date with evidence (tickets, photos, timelines).</li></ul><h3 data-v-11f5456b>8) Data &amp; IP</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>We collect only the information needed to arrange services (names, contacts, flight/hotel details, passport info where required). We don’t sell personal data.</li><li data-v-11f5456b>Website content, itineraries, and trademarks are the property of WWD; reproduction requires prior written consent.</li></ul><h3 data-v-11f5456b>9) Governing Law</h3><ul class="bullets" data-v-11f5456b><li data-v-11f5456b>These Terms are governed by the laws of the United Arab Emirates. Any dispute shall be subject to the jurisdiction of the competent courts in Dubai, UAE.</li></ul><p class="footnote" data-v-11f5456b> By confirming a booking with WWD, you agree to these Terms &amp; Conditions and the specific supplier terms shown on your voucher. We may update these Terms without prior notice; the latest version on our website applies. </p></div>',4)])])}const oN=pt(sN,[["render",aN],["__scopeId","data-v-11f5456b"]]),cN={name:"Home",components:{NewsBoard:nb,CarCard:fn},data(){return{currentIndex:0,bannerImages:[new URL("/assets/banner1-DjPx_cAn.jpg",import.meta.url).href,new URL("/assets/banner2-DwLu9nI3.jpg",import.meta.url).href,new URL("/assets/banner3-I6jzlz9s.jpg",import.meta.url).href,new URL("/assets/banner4-CRtfJVKr.jpg",import.meta.url).href,new URL("/assets/banner5-CLWkLY9C.jpg",import.meta.url).href,new URL("/assets/banner9-uIX4Dg8A.jpg",import.meta.url).href],car1:tl,car2:nl,car3:rl,car4:sl,tp1:il,tp2:al,tp3:ol,tp4:cl,sf1:ll,sf2:dl,sf3:ul,sf4:hl,ct1:fl,ct2:pl,ct3:ml,ct4:gl,dc1:vl,dc2:yl,dc3:_l,dc4:bl,faqs:[{q:"迪拜的发展脉络是什么？",a:"迪拜由海湾贸易与采珠港口起步，成长为物流与航空枢纽；近二十年转向旅游、会展与金融，因此形成今日的现代天际线与完善的城市基础设施。",open:!1},{q:"有哪些文化礼仪需要注意？",a:"阿联酋奉行伊斯兰传统。公共场合请着装得体，参观清真寺需遵守礼规与安检；在斋月及禁酒日，营业时间与娱乐活动会有所调整。",open:!1},{q:"气候如何，行程该如何安排？",a:"属炎热沙漠气候。建议采用 <em>Heat-Smart</em> 节奏：早晚进行户外活动，中午安排室内景点（观景台、博物馆、商场）。",open:!1},{q:"适合亲子与长者吗？",a:"适合。可按需提供儿童/增高座椅；沙漠项目可在 ≥48 小时提前通知下调整为更温和的早晨场；中午室内时间更适合各年龄层。",open:!1}]}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open}},mounted(){setInterval(()=>{this.currentIndex=(this.currentIndex+1)%this.bannerImages.length},1e4)}},lN={class:"home"},dN={class:"banner-container"},uN=["src"],hN={class:"intro-text"},fN={class:"news-trust-grid"},pN={class:"news-col"},mN={class:"cards-container"},gN={class:"cards-container"},vN={class:"cards-container"},yN={class:"cards-container"},_N={class:"cards-container"},bN={class:"text-card faq-accordion"},wN=["onClick","aria-expanded"],TN=["id"],EN={key:0,class:"faq-a"},AN=["id","innerHTML"];function IN(t,e,n,r,s,i){const a=lt("NewsBoard"),o=lt("CarCard");return W(),B("div",lN,[m("div",dN,[m("img",{src:s.bannerImages[s.currentIndex],alt:"横幅",class:"banner",id:"homeBanner","data-c-src":"@id"},null,8,uN),e[0]||(e[0]=m("div",{class:"floating-logos"},[m("img",{src:Nt,alt:"金色标志",class:"logo",id:"homeLogoGold","data-c-src":"@id"}),m("img",{src:Wt,alt:"文字标志",class:"logo-text",id:"homeLogoText","data-c-src":"@id"})],-1))]),e[11]||(e[11]=m("h2",{id:"homeWelcomeTitle","data-c":"@id"},"万德假日，欢迎您访问 WanderWonderWorldDubai.com",-1)),e[12]||(e[12]=m("p",{class:"slogan",id:"homeSlogan","data-c":"@id"},"您的旅程，我们的热爱。",-1)),m("div",hN,[e[3]||(e[3]=m("h3",{id:"homeIntroTitle","data-c":"@id"},"迪拜旅行 · 有温度的服务",-1)),e[4]||(e[4]=m("p",{id:"homeIntroP1","data-c-html":"@id"}," 万德假日（WanderWonderWorld）是您在迪拜值得信赖的旅行伙伴，提供专业服务与难忘体验。 无论是专车接送、金色沙漠探险，还是天际线游船观光，我们都为您定制贴合心愿的旅程。 借助本地专家洞察与个性化关怀，带您走进阿联酋的多彩与活力。 ",-1)),m("div",fN,[m("section",pN,[V(a)]),e[1]||(e[1]=Te('<section class="trust-col" data-v-0011f2ca><section class="trust" data-v-0011f2ca><h3 class="trust-title" id="homeTrustTitle" data-c="@id" data-v-0011f2ca>您在迪拜值得信赖的行程专家</h3><div class="trust-stack" data-v-0011f2ca><article class="trust-card trust-lime" data-v-0011f2ca><div class="trust-icon" data-v-0011f2ca><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-0011f2ca><path d="M12 3l7 3v6c0 4.418-3.582 8-8 8s-8-3.582-8-8V6l9-3z" fill="none" stroke="currentColor" stroke-width="1.8" data-v-0011f2ca></path><path d="M9 12l2 2 4-4" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" data-v-0011f2ca></path></svg></div><div class="trust-text" data-v-0011f2ca><h4 id="homeTrust1Title" data-c="@id" data-v-0011f2ca>持牌运营 · 全面保险</h4><p id="homeTrust1P" data-c-html="@id" data-v-0011f2ca> RTA 持牌车辆与商业保险司机；DTCM 合规运营，全程安心无忧。 </p></div></article><article class="trust-card trust-purple" data-v-0011f2ca><div class="trust-icon" data-v-0011f2ca><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-0011f2ca><circle cx="12" cy="12" r="4.5" fill="none" stroke="currentColor" stroke-width="1.8" data-v-0011f2ca></circle><path d="M12 2v3M12 19v3M4.22 4.22l2.12 2.12M17.66 17.66l2.12 2.12M2 12h3M19 12h3M4.22 19.78l2.12-2.12M17.66 6.34l2.12-2.12" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" data-v-0011f2ca></path></svg></div><div class="trust-text" data-v-0011f2ca><h4 id="homeTrust2Title" data-c="@id" data-v-0011f2ca>防暑节奏 · 更舒适</h4><p id="homeTrust2P" data-c-html="@id" data-v-0011f2ca> 早晚安排户外，中午转为室内（观景台、博物馆、商场）——夏季更清凉，亲子更友好。 </p></div></article><article class="trust-card trust-teal" data-v-0011f2ca><div class="trust-icon" data-v-0011f2ca><svg viewBox="0 0 24 24" class="ico" aria-hidden="true" data-v-0011f2ca><circle cx="12" cy="12" r="9" fill="none" stroke="currentColor" stroke-width="1.8" data-v-0011f2ca></circle><circle cx="12" cy="12" r="2.2" fill="none" stroke="currentColor" stroke-width="1.6" data-v-0011f2ca></circle><path d="M3.5 12h7m2.9 0h7M12 3.5v4.8M8.2 18.4l2.2-3.8m5.4 3.8l-2.2-3.8" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" data-v-0011f2ca></path></svg></div><div class="trust-text" data-v-0011f2ca><h4 id="homeTrust3Title" data-c="@id" data-v-0011f2ca>司机讲解 · 私享导览</h4><p id="homeTrust3P" data-c-html="@id" data-v-0011f2ca> 中英双语司机沿途讲解；老迪拜徒步或指定场馆可加配持证导游（按需安排）。 </p></div></article></div></section></section>',1))]),e[5]||(e[5]=Te('<div class="whatsapp-wrapper" data-v-0011f2ca><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-0011f2ca><img src="'+pn+'" alt="WhatsApp" id="homeWhatsappIcon" data-c-src="@id" data-v-0011f2ca><span class="whatsapp-text" id="homeWhatsappText" data-c="@id" data-v-0011f2ca>需要帮助？点击咨询！</span></a></div><h3 class="section-title" id="homeSecTransfersTitle" data-c="@id" data-v-0011f2ca>私人接送</h3>',2)),m("div",mN,[V(o,{"key-id":"homeTransfersAirport",image:s.car1,title:"机场接送",subtitle:"含司机用车",tour:"迪拜市区",duration:"以航班为准",price:"AED 190 起",link:"/transfers/short1"},null,8,["image"]),V(o,{"key-id":"homeTransfersHalfDay",image:s.car2,title:"半日包车（含司机）",subtitle:"含司机用车",tour:"迪拜市区",duration:"5小时",price:"AED 300 起",link:"/transfers/short1"},null,8,["image"]),V(o,{"key-id":"homeTransfersFullDay",image:s.car3,title:"全日包车（含司机）",subtitle:"含司机用车",tour:"迪拜市区",duration:"10小时",price:"AED 510 起",link:"/transfers/long1"},null,8,["image"]),V(o,{"key-id":"homeTransfersAUH",image:s.car4,title:"迪拜—阿布扎比往返",subtitle:"含司机用车",tour:"阿布扎比",duration:"10小时",price:"AED 610 起",link:"/transfers/long1"},null,8,["image"])]),e[6]||(e[6]=m("h3",{class:"section-title",id:"homeSecPackagesTitle","data-c":"@id"},"精选行程套餐",-1)),m("div",gN,[V(o,{"key-id":"homePkg3N",image:s.tp1,title:"迪拜3晚入门之旅",subtitle:"行程套餐",tour:"迪拜市区",duration:"4天",price:"成人 AED 849 起",link:"/package/34nights1"},null,8,["image"]),V(o,{"key-id":"homePkg4N",image:s.tp2,title:"4晚亲子优选",subtitle:"行程套餐",tour:"迪拜市区",duration:"5天",price:"成人 AED 1099 起",link:"/package/34nights1"},null,8,["image"]),V(o,{"key-id":"homePkg5N",image:s.tp3,title:"迪拜+阿布扎比5晚精华",subtitle:"行程套餐",tour:"迪拜 + 阿布扎比",duration:"6天",price:"成人 AED 1349 起",link:"/package/56nights1"},null,8,["image"]),V(o,{"key-id":"homePkg6N",image:s.tp4,title:"6晚臻选升级",subtitle:"行程套餐",tour:"迪拜 + 阿布扎比",duration:"7天",price:"成人 AED 1599 起",link:"/package/56nights1"},null,8,["image"])]),e[7]||(e[7]=m("h3",{class:"section-title",id:"homeSecSafariTitle","data-c":"@id"},"沙漠探险",-1)),m("div",vN,[V(o,{"key-id":"homeSafariMorning",image:s.sf1,title:"晨曦沙丘越野",subtitle:"经典系列",tour:"早晨私人团",duration:"4.5小时",price:"AED 500 起",link:"/safari/regsafari1"},null,8,["image"]),V(o,{"key-id":"homeSafariSunset",image:s.sf2,title:"日落沙丘优选",subtitle:"臻选系列",tour:"日落私人团",duration:"6小时",price:"AED 700 起",link:"/safari/regsafari1"},null,8,["image"]),V(o,{"key-id":"homeSafariExtended",image:s.sf3,title:"加长版沙丘刺激",subtitle:"尊尚系列",tour:"加长私人团",duration:"7小时",price:"AED 1100 起",link:"/safari/upsafari1"},null,8,["image"]),V(o,{"key-id":"homeSafariRoyal",image:s.sf4,title:"皇家沙漠过夜营",subtitle:"皇室系列",tour:"豪华过夜",duration:"16小时",price:"AED 2000 起",link:"/safari/upsafari1"},null,8,["image"])]),e[8]||(e[8]=m("h3",{class:"section-title",id:"homeSecCityTitle","data-c":"@id"},"城市观光",-1)),m("div",yN,[V(o,{"key-id":"homeCityHalfDay",image:s.ct1,title:"半日迪拜精华",subtitle:"城市观光服务",tour:"迪拜市区",duration:"5小时",price:"AED 325 起",link:"/city/city121"},null,8,["image"]),V(o,{"key-id":"homeCityFullDay",image:s.ct2,title:"全日迪拜全景",subtitle:"城市观光服务",tour:"迪拜市区",duration:"10小时",price:"AED 559 起",link:"/city/city121"},null,8,["image"]),V(o,{"key-id":"homeCityAbuDhabi",image:s.ct3,title:"阿布扎比文化一日游",subtitle:"城市观光服务",tour:"阿布扎比",duration:"10–11小时",price:"AED 659 起",link:"/city/city341"},null,8,["image"]),V(o,{"key-id":"homeCityHatta",image:s.ct4,title:"哈塔山谷度假一日游",subtitle:"城市观光服务",tour:"哈塔",duration:"10–11小时",price:"AED 710 起",link:"/city/city341"},null,8,["image"])]),e[9]||(e[9]=m("h3",{class:"section-title",id:"homeSecCruiseTitle","data-c":"@id"},"游船晚宴",-1)),m("div",_N,[V(o,{"key-id":"homeCruiseCreek",image:s.dc1,title:"迪拜溪传统独桅帆船晚餐",subtitle:"游船观光",tour:"迪拜溪（Al Seef）",duration:"1.5–2小时",price:"AED 85 起",link:"/city/sndcruise1"},null,8,["image"]),V(o,{"key-id":"homeCruiseMarina",image:s.dc2,title:"迪拜码头独桅帆船晚餐",subtitle:"游船观光",tour:"迪拜码头",duration:"2小时",price:"AED 115 起",link:"/city/sndcruise1"},null,8,["image"]),V(o,{"key-id":"homeCruiseCanal",image:s.dc3,title:"水道玻璃游船晚餐",subtitle:"游船观光",tour:"迪拜运河",duration:"约2小时",price:"AED 149 起",link:"/city/sndcruise1"},null,8,["image"]),V(o,{"key-id":"homeCruiseLotus",image:s.dc4,title:"Lotus 巨型游艇晚餐",subtitle:"游船观光",tour:"迪拜码头 / 港湾",duration:"3小时",price:"AED 239 起",link:"/city/sndcruise1"},null,8,["image"])]),e[10]||(e[10]=Te('<div class="text-card" data-v-0011f2ca><h2 id="homeHowToTitle" data-c="@id" data-v-0011f2ca>如何使用万德假日（WanderWonderWorld）— 简洁清晰</h2><ol class="process-list" data-v-0011f2ca><li id="homeHowToL1" data-c-html="@id" data-v-0011f2ca><strong data-v-0011f2ca>浏览</strong> 上方各栏目：私人接送、行程套餐、沙漠探险、城市观光或游船晚宴。</li><li id="homeHowToL2" data-c-html="@id" data-v-0011f2ca><strong data-v-0011f2ca>加入万德购物车</strong> 点击“加入万德购物车”或“立即预订”，将心仪服务加入清单。</li><li id="homeHowToL3" data-c-html="@id" data-v-0011f2ca><strong data-v-0011f2ca>打开万德购物车</strong> 填写姓名、邮箱、出行日期与简要需求说明；支持一次提交多项服务。</li><li id="homeHowToL4" data-c-html="@id" data-v-0011f2ca><strong data-v-0011f2ca>提交</strong> — 我们会在 <em data-v-0011f2ca>3个工作日</em> 内邮件回复。需要更快？请通过 <a href="https://wa.me/971589831967" target="_blank" rel="noopener" data-v-0011f2ca>WhatsApp</a> 或 <a href="mailto:info@wanderwonderworlddubai.com" data-v-0011f2ca>电子邮件</a> 联系我们。 </li><li id="homeHowToL5" data-c-html="@id" data-v-0011f2ca><strong data-v-0011f2ca>确认</strong> — 确认后您将收到行程单与上车详情；服务前 24 小时我们会通过 WhatsApp 再次确认。</li></ol></div>',1)),m("div",bN,[e[2]||(e[2]=m("h2",{id:"homeFaqTitle","data-c":"@id"},"常见问题 — 迪拜一览",-1)),(W(!0),B(je,null,Ut(s.faqs,(l,d)=>(W(),B("div",{key:d,class:"faq-row"},[m("button",{class:"faq-q",onClick:h=>i.toggleFaq(d),"aria-expanded":l.open.toString()},[m("span",{class:tn(["tri",{open:l.open}])},null,2),m("span",{id:`homeFaqQ${d+1}`,"data-c":"@id"},oe(l.q),9,TN)],8,wN),V(Lh,{name:"faq"},{default:Ge(()=>[l.open?(W(),B("div",EN,[m("p",{id:`homeFaqA${d+1}`,"data-c-html":"@id",innerHTML:l.a},null,8,AN)])):ae("",!0)]),_:2},1024)]))),128))])])])}const CN=pt(cN,[["render",IN],["__scopeId","data-v-0011f2ca"]]),kN={name:"Transfers",components:{CarCard:fn},data(){return{banner:In,logoGold:Nt,logoText:Wt,car1:tl,car2:nl,car3:rl,car4:sl,faqs:[{question:"需要提前预订接送服务吗？",answer:"建议提前预订以确保车辆与司机的可用，并锁定您偏好的车型。",open:!1},{question:"机场接机是否包含等候时间？",answer:"是的，机场接机包含最长 60 分钟免费等候；超出部分可能产生少量等候费用。",open:!1},{question:"行程中可以临时延长用车吗？",answer:"可以，视当日车辆可用情况而定，并按小时收取加时费用。",open:!1},{question:"价格是否包含景点门票或餐食？",answer:"不包含。报价仅涵盖车辆与司机服务；景点门票、餐食及个人消费不在内。",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:jn,wechatQR:hn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){$t().open()}}},PN={class:"transfers"},SN={class:"banner-container"},RN=["src"],DN={class:"floating-logos"},xN=["src"],NN=["src"],MN={class:"cards-container"},VN={class:"cta-row-wrapper"},ON={class:"cta-row"},LN={key:0,class:"center-toast",role:"status","aria-live":"polite"},FN={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},UN={class:"qr-modal-box"},WN=["src"],qN={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},BN={class:"qr-modal-box"},HN=["src"],jN={class:"faq-card"},$N=["onClick"],zN=["id"],GN={class:"faq-icon"},KN={key:0,class:"faq-answer"},QN=["id"];function ZN(t,e,n,r,s,i){const a=lt("CarCard");return W(),B("div",PN,[m("div",SN,[m("img",{src:s.banner,alt:"接送横幅",class:"banner",id:"transfers1Banner","data-c-src":"@id"},null,8,RN),m("div",DN,[m("img",{src:s.logoGold,alt:"金色标志",class:"logo",id:"transfers1LogoGold","data-c-src":"@id"},null,8,xN),m("img",{src:s.logoText,alt:"文字标志",class:"logo-text",id:"transfers1LogoText","data-c-src":"@id"},null,8,NN)])]),e[8]||(e[8]=Te('<div class="intro" data-v-14bd7119><h1 id="transfers1IntroTitle" data-c="@id" data-v-14bd7119>迪拜私人接送 — 轻松抵达</h1><p id="transfers1IntroP1" data-c-html="@id" data-v-14bd7119> 以舒适与便捷开启您的迪拜旅程。万德假日（WanderWonderWorld）为您提供口碑优选的私人接送与含司机用车服务，车队整洁保养到位，资深司机熟悉阿联酋道路。无论是无忧的机场接送，还是个性化城市观光与商务行程，我们都以专业、顺畅的服务，贴合您的出行心愿。 </p></div><div class="whatsapp-wrapper" data-v-14bd7119><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" id="transfers1WhatsappLink" data-c-src="@id" data-v-14bd7119><img src="'+pn+'" alt="WhatsApp" id="transfers1WhatsappIcon" data-c-src="@id" data-v-14bd7119><span class="whatsapp-text" id="transfers1WhatsappText" data-c="@id" data-v-14bd7119> 需要帮助？点击咨询！ </span></a></div>',2)),m("div",MN,[V(a,{"key-id":"transfers1CardAirport",image:s.car1,title:"机场接送",subtitle:"含司机用车",tour:"迪拜市区",duration:"以航班为准",price:"AED 190 起",link:"/transfers/short1"},null,8,["image"]),V(a,{"key-id":"transfers1CardHalfDay",image:s.car2,title:"半日包车（含司机）",subtitle:"含司机用车",tour:"迪拜市区",duration:"5小时",price:"AED 300 起",link:"/transfers/short1"},null,8,["image"]),V(a,{"key-id":"transfers1CardFullDay",image:s.car3,title:"全日包车（含司机）",subtitle:"含司机用车",tour:"迪拜市区",duration:"10小时",price:"AED 510 起",link:"/transfers/long1"},null,8,["image"]),V(a,{"key-id":"transfers1CardAUH",image:s.car4,title:"迪拜至阿布扎比（观光）",subtitle:"含司机用车",tour:"阿布扎比",duration:"10小时",price:"AED 610 起",link:"/transfers/long1"},null,8,["image"])]),e[9]||(e[9]=Te('<div class="text-card" data-v-14bd7119><h2 id="transfers1PriceTitle" data-c="@id" data-v-14bd7119>迪拜司导用车价目表</h2><table class="price-table" data-v-14bd7119><thead data-v-14bd7119><tr data-v-14bd7119><th id="transfers1PriceThService" data-c="@id" data-v-14bd7119>司导服务</th><th id="transfers1PriceThCarType" data-c="@id" data-v-14bd7119>车型</th><th id="transfers1PriceThPrice" data-c="@id" data-v-14bd7119>价格</th></tr></thead><tbody data-v-14bd7119><tr data-v-14bd7119><td id="transfers1PriceDXBTitle" data-c="@id" data-v-14bd7119>机场接送（DXB → 迪拜市区酒店）</td><td id="transfers1PriceDXBSUVType" data-c="@id" data-v-14bd7119>SUV（4–6人）</td><td data-v-14bd7119><strong style="color:#b01b1b;" id="transfers1PriceDXBSUV" data-c-num="@id" data-format="price-AED" data-v-14bd7119>AED 190</strong></td></tr><tr data-v-14bd7119><td id="transfers1PriceDXBEmpty" data-c="@id" data-v-14bd7119></td><td id="transfers1PriceDXBVanType" data-c="@id" data-v-14bd7119>商务车（7–10人）</td><td data-v-14bd7119><strong style="color:#b01b1b;" id="transfers1PriceDXBVan" data-c-num="@id" data-format="price-AED" data-v-14bd7119>AED 230</strong></td></tr><tr data-v-14bd7119><td id="transfers1PriceAUHTitle" data-c="@id" data-v-14bd7119>机场接送（AUH → 迪拜市区酒店）</td><td id="transfers1PriceAUHSUVType" data-c="@id" data-v-14bd7119>SUV（4–6人）</td><td data-v-14bd7119><strong style="color:#b01b1b;" id="transfers1PriceAUHSUV" data-c-num="@id" data-format="price-AED" data-v-14bd7119>AED 330</strong></td></tr><tr data-v-14bd7119><td id="transfers1PriceAUHEmpty" data-c="@id" data-v-14bd7119></td><td id="transfers1PriceAUHVanType" data-c="@id" data-v-14bd7119>商务车（7–10人）</td><td data-v-14bd7119><strong style="color:#b01b1b;" id="transfers1PriceAUHVan" data-c-num="@id" data-format="price-AED" data-v-14bd7119>AED 380</strong></td></tr><tr data-v-14bd7119><td id="transfers1PriceHalfTitle" data-c="@id" data-v-14bd7119>半日包车（含司机，5小时）</td><td id="transfers1PriceHalfSUVType" data-c="@id" data-v-14bd7119>SUV（4–6人）</td><td data-v-14bd7119><strong style="color:#b01b1b;" id="transfers1PriceHalfSUV" data-c-num="@id" data-format="price-AED" data-v-14bd7119>AED 300</strong></td></tr><tr data-v-14bd7119><td id="transfers1PriceHalfEmpty" data-c="@id" data-v-14bd7119></td><td id="transfers1PriceHalfVanType" data-c="@id" data-v-14bd7119>商务车（7–10人）</td><td data-v-14bd7119><strong style="color:#b01b1b;" id="transfers1PriceHalfVan" data-c-num="@id" data-format="price-AED" data-v-14bd7119>AED 330</strong></td></tr><tr data-v-14bd7119><td id="transfers1PriceFullTitle" data-c="@id" data-v-14bd7119>全日包车（含司机，10小时）</td><td id="transfers1PriceFullSUVType" data-c="@id" data-v-14bd7119>SUV（4–6人）</td><td data-v-14bd7119><strong style="color:#b01b1b;" id="transfers1PriceFullSUV" data-c-num="@id" data-format="price-AED" data-v-14bd7119>AED 510</strong></td></tr><tr data-v-14bd7119><td id="transfers1PriceFullEmpty" data-c="@id" data-v-14bd7119></td><td id="transfers1PriceFullVanType" data-c="@id" data-v-14bd7119>商务车（7–10人）</td><td data-v-14bd7119><strong style="color:#b01b1b;" id="transfers1PriceFullVan" data-c-num="@id" data-format="price-AED" data-v-14bd7119>AED 550</strong></td></tr><tr data-v-14bd7119><td id="transfers1PriceADTitle" data-c="@id" data-v-14bd7119>迪拜 → 阿布扎比观光（10小时）</td><td id="transfers1PriceADSUVType" data-c="@id" data-v-14bd7119>SUV（4–6人）</td><td data-v-14bd7119><strong style="color:#b01b1b;" id="transfers1PriceADSUV" data-c-num="@id" data-format="price-AED" data-v-14bd7119>AED 610</strong></td></tr><tr data-v-14bd7119><td id="transfers1PriceADEmpty" data-c="@id" data-v-14bd7119></td><td id="transfers1PriceADVanType" data-c="@id" data-v-14bd7119>商务车（7–10人）</td><td data-v-14bd7119><strong style="color:#b01b1b;" id="transfers1PriceADVan" data-c-num="@id" data-format="price-AED" data-v-14bd7119>AED 650</strong></td></tr></tbody></table></div>',1)),m("div",VN,[m("div",ON,[m("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...o)=>i.copyEmail&&i.copyEmail(...o)),id:"transfers1CTAEmail","data-c":"@id"}," 邮件联系我们 "),m("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...o)=>i.openWhatsappModal&&i.openWhatsappModal(...o)),id:"transfers1CTAWhatsApp","data-c":"@id"}," WhatsApp 联系我们 "),m("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...o)=>i.openWechatModal&&i.openWechatModal(...o)),id:"transfers1CTAWechat","data-c":"@id"}," 微信联系我们 "),m("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...o)=>i.bookNow&&i.bookNow(...o)),id:"transfers1CTACart","data-c":"@id"}," 万德购物车 ")])]),s.showEmailToast?(W(),B("div",LN,[...e[6]||(e[6]=[m("div",{class:"center-toast-box"},[m("p",{id:"transfers1EmailCopiedText","data-c-html":"@id"},[m("strong",null,"info@wanderwonderworlddubai.com"),we(" 已复制到您的剪贴板 ")])],-1)])])):ae("",!0),s.showWhatsappModal?(W(),B("div",FN,[m("div",UN,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.whatsappQR,alt:"WhatsApp 二维码",id:"transfers1WhatsappQR","data-c-src":"@id"},null,8,WN)])])):ae("",!0),s.showWechatModal?(W(),B("div",qN,[m("div",BN,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.wechatQR,alt:"微信二维码",id:"transfers1WechatQR","data-c-src":"@id"},null,8,HN)])])):ae("",!0),m("div",jN,[e[7]||(e[7]=m("h2",{id:"transfers1FaqTitle","data-c":"@id"},"常见问题",-1)),(W(!0),B(je,null,Ut(s.faqs,(o,l)=>(W(),B("div",{key:l,class:"faq-item"},[m("div",{class:"faq-question",onClick:d=>i.toggleFaq(l)},[m("span",{id:`transfers1FaqQ${l+1}`,"data-c":"@id"},oe(o.question),9,zN),m("span",GN,oe(o.open?"▲":"▼"),1)],8,$N),o.open?(W(),B("div",KN,[m("p",{id:`transfers1FaqA${l+1}`,"data-c-html":"@id"},oe(o.answer),9,QN)])):ae("",!0)]))),128))]),e[10]||(e[10]=Te('<div class="text-card" data-v-14bd7119><h2 id="transfers1S1Title" data-c="@id" data-v-14bd7119>顺畅出行：我们的迪拜司导服务</h2><p id="transfers1S1P1" data-c-html="@id" data-v-14bd7119> 万德假日为您提供专业可靠的司导服务，专注舒适与安心。我们的车辆整洁保养良好，由持证且经验丰富的司机运营；从高效的机场接送到按需定制的一日行程，确保安全省心的出行体验。我们始终重视准点守时、车辆安全与优质服务。 </p></div><div class="text-card" data-v-14bd7119><h2 id="transfers1S2Title" data-c="@id" data-v-14bd7119>量身定制：私人用车与司机选择</h2><p id="transfers1S2P1" data-c-html="@id" data-v-14bd7119><strong data-v-14bd7119>机场接送：</strong> 提供迪拜（DXB）与阿布扎比（AUH）机场至两地任意目的地的准点迎送服务，司机实时关注航班动态，航班延误亦可及时衔接。</p><p id="transfers1S2P2" data-c-html="@id" data-v-14bd7119><strong data-v-14bd7119>半日/全日包车：</strong> 以小时或天为单位的司导服务，自由安排行程节奏，适用于城市观光、商务会议或家庭出游。</p><p id="transfers1S2P3" data-c-html="@id" data-v-14bd7119><strong data-v-14bd7119>安全与舒适：</strong> 车辆行李空间充足；如需儿童座椅，请提前告知，我们将为您的家庭出行提供更周到的保障。</p><p id="transfers1S2P4" data-c-html="@id" data-v-14bd7119><strong data-v-14bd7119>价格说明：</strong> 价格根据车型与用车时长透明计费；欢迎联系我们，根据您的具体计划提供详细报价。</p></div><div class="text-card" data-v-14bd7119><h2 id="transfers1S3Title" data-c="@id" data-v-14bd7119>预订条款与细则</h2><p id="transfers1S3P1" data-c-html="@id" data-v-14bd7119><strong data-v-14bd7119>服务名额：</strong> 所有服务以车辆与司机当日可用为准，建议提前预订以确保心仪日期与车型。</p><p id="transfers1S3P2" data-c-html="@id" data-v-14bd7119><strong data-v-14bd7119>车辆使用：</strong> 司导服务适用于私人接送与日间观光；车内禁止饮食与吸烟。</p><p id="transfers1S3P3" data-c-html="@id" data-v-14bd7119><strong data-v-14bd7119>取消政策：</strong> 取消需遵循预订政策以避免费用；具体条款将在预订时告知。</p><p id="transfers1S3P4" data-c-html="@id" data-v-14bd7119><strong data-v-14bd7119>未到场（No-Show）：</strong> 如到约定上车点迟到且未事先通知，可能视为未到场并产生相应费用。</p><p id="transfers1S3P5" data-c-html="@id" data-v-14bd7119><strong data-v-14bd7119>超时计费：</strong> 行程加时将按车型与原预订时长另行计费。</p><p id="transfers1S3P6" data-c-html="@id" data-v-14bd7119><strong data-v-14bd7119>旺季附加费：</strong> 特定日期可能收取旺季附加费，预订时将明确说明。</p><p id="transfers1S3P7" data-c-html="@id" data-v-14bd7119><strong data-v-14bd7119>导游说明：</strong> 司机并非持证导游，如需持证中文或英文导游，可按需另行安排并收取相应费用。</p></div><div class="text-card" data-v-14bd7119><h2 id="transfers1S4Title" data-c="@id" data-v-14bd7119>万德假日的目的地服务</h2><p id="transfers1S4P1" data-c-html="@id" data-v-14bd7119> 作为迪拜持牌目的地管理公司（DMC），万德假日提供覆盖面广的旅游与交通解决方案。我们的含司机用车服务贯穿机场接送、城市观光、商务会务与家庭休闲行程，旨在为您带来专业顺畅的体验。 </p><p id="transfers1S4P2" data-c-html="@id" data-v-14bd7119> 我们提供多样车型选择，包括豪华轿车、家庭宽体商务车与舒适旅游巴士；所有车辆均由专业司机全程协助。若涉及团体预订或复杂行程，我们的团队可为您定制与您愿景高度匹配的专属方案。 </p></div>',4))])}const YN=pt(kN,[["render",ZN],["__scopeId","data-v-14bd7119"]]),JN={name:"Packages",components:{CarCard:fn},data(){return{banner:In,logoGold:Nt,logoText:Wt,car1:il,car2:al,car3:ol,car4:cl,faqs:[{question:"套餐价格包含哪些内容？",answer:"私人往返机场接送、含早酒店、按行程配备的私人用车、所列景点门票（如哈利法塔124/125、The View/迪拜之框、码头晚餐游船等），以及晚间沙漠探险（亲子可改为更温和的早晨场）。为纯陆地产品，不含机票与签证。",open:!1},{question:"成人与儿童价格如何适用？",answer:"成人价适用于 11 岁及以上；儿童价适用于 3–10 岁并与成人同房不加床；婴儿 0–2 岁免费（不占座/床）。加床与单房差按季节与酒店政策收取。",open:!1},{question:"观光日程的先后顺序可以调整吗？",answer:"可以。我们为私人行程，可依据您的航班、季节与活动调整每日顺序。旺季/热门景点可能需要更换门票时段。",open:!1},{question:"阿布扎比清真寺的着装要求会严格执行吗？",answer:"会。女士需遮盖头发、肩膀与腿部；男士需穿长裤。安检严格，我们会提前说明并提供着装建议。",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:jn,wechatQR:hn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){$t().open()}}},XN={class:"packages"},eM={class:"banner-container"},tM=["src"],nM={class:"floating-logos"},rM=["src"],sM=["src"],iM={class:"cards-container"},aM={class:"cta-row-wrapper"},oM={class:"cta-row"},cM={key:0,class:"center-toast",role:"status","aria-live":"polite"},lM={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},dM={class:"qr-modal-box"},uM=["src"],hM={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},fM={class:"qr-modal-box"},pM=["src"],mM={class:"faq-card"},gM=["onClick"],vM=["id"],yM={class:"faq-icon"},_M={key:0,class:"faq-answer"},bM=["id"];function wM(t,e,n,r,s,i){const a=lt("CarCard");return W(),B("div",XN,[m("div",eM,[m("img",{src:s.banner,alt:"套餐横幅",class:"banner",id:"packagesBanner","data-c-src":"@id"},null,8,tM),m("div",nM,[m("img",{src:s.logoGold,alt:"金色标志",class:"logo",id:"packagesLogoGold","data-c-src":"@id"},null,8,rM),m("img",{src:s.logoText,alt:"文字标志",class:"logo-text",id:"packagesLogoText","data-c-src":"@id"},null,8,sM)])]),e[8]||(e[8]=Te('<div class="intro" data-v-806b7fce><h1 id="packagesIntroTitle" data-c="@id" data-v-806b7fce>迪拜假期套餐 — 私人定制 · 弹性安排</h1><p id="packagesIntroP1" data-c-html="@id" data-v-806b7fce> 用更聪明的方式规划您的迪拜之旅。我们的四款「纯陆地」私人套餐，将必看地标与「防暑节奏」巧妙结合： 早晚户外，中午室内。老迪拜徒步（含持证中文导游）与水上的 <em data-v-806b7fce>阿布拉</em> 小船体验为标准配置； 全程由司机兼中文讲解随行。以「价值优先」为定价原则，覆盖成人与儿童价格、私人机场接送、甄选含早酒店、 合规与认证车辆，让旅程顺畅安心。 </p></div><div class="whatsapp-wrapper" data-v-806b7fce><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" id="packagesWhatsappLink" data-c-src="@id" data-v-806b7fce><img src="'+pn+'" alt="WhatsApp" id="packagesWhatsappIcon" data-c-src="@id" data-v-806b7fce><span class="whatsapp-text" id="packagesWhatsappText" data-c="@id" data-v-806b7fce>需要帮助？点击咨询！</span></a></div>',2)),m("div",iM,[V(a,{"key-id":"packagesCard3N",image:s.car1,title:"迪拜3晚入门之旅",subtitle:"行程套餐",tour:"迪拜市区",duration:"4天",price:"成人 AED 849 起",link:"/package/34nights1"},null,8,["image"]),V(a,{"key-id":"packagesCard4N",image:s.car2,title:"4晚亲子优选",subtitle:"行程套餐",tour:"迪拜市区",duration:"5天",price:"成人 AED 1099 起",link:"/package/34nights1"},null,8,["image"]),V(a,{"key-id":"packagesCard5N",image:s.car3,title:"迪拜 + 阿布扎比5晚精华",subtitle:"行程套餐",tour:"迪拜 + 阿布扎比",duration:"6天",price:"成人 AED 1349 起",link:"/package/56nights1"},null,8,["image"]),V(a,{"key-id":"packagesCard6N",image:s.car4,title:"6晚臻选升级",subtitle:"行程套餐",tour:"迪拜 + 阿布扎比",duration:"7天",price:"成人 AED 1599 起",link:"/package/56nights1"},null,8,["image"])]),e[9]||(e[9]=Te('<div class="text-card" data-v-806b7fce><h2 id="packagesPriceTitle" data-c="@id" data-v-806b7fce>迪拜行程套餐价目表</h2><table class="price-table" data-v-806b7fce><thead data-v-806b7fce><tr data-v-806b7fce><th id="packagesPriceThPkg" data-c="@id" data-v-806b7fce>套餐</th><th id="packagesPriceThDur" data-c="@id" data-v-806b7fce>行程时长</th><th id="packagesPriceThPrice" data-c="@id" data-v-806b7fce>价格</th></tr></thead><tbody data-v-806b7fce><tr data-v-806b7fce><td id="packagesPrice3NTitle" data-c="@id" data-v-806b7fce>迪拜3晚入门之旅</td><td id="packagesPrice3NDuration" data-c="@id" data-v-806b7fce>4天</td><td data-v-806b7fce><strong style="color:#b01b1b;" data-v-806b7fce><span id="packagesPrice3NAdultLabel" data-c="@id" data-v-806b7fce>成人</span>   <span id="packagesPrice3NAdult" data-c-num="@id" data-format="price-AED" data-v-806b7fce>AED 849</span>  |  <span id="packagesPrice3NChildLabel" data-c="@id" data-v-806b7fce>儿童</span>   <span id="packagesPrice3NChild" data-c-num="@id" data-format="price-AED" data-v-806b7fce>AED 669</span></strong></td></tr><tr data-v-806b7fce><td id="packagesPrice4NTitle" data-c="@id" data-v-806b7fce>4晚亲子优选</td><td id="packagesPrice4NDuration" data-c="@id" data-v-806b7fce>5天</td><td data-v-806b7fce><strong style="color:#b01b1b;" data-v-806b7fce><span id="packagesPrice4NAdultLabel" data-c="@id" data-v-806b7fce>成人</span>   <span id="packagesPrice4NAdult" data-c-num="@id" data-format="price-AED" data-v-806b7fce>AED 1099</span>  |  <span id="packagesPrice4NChildLabel" data-c="@id" data-v-806b7fce>儿童</span>   <span id="packagesPrice4NChild" data-c-num="@id" data-format="price-AED" data-v-806b7fce>AED 919</span></strong></td></tr><tr data-v-806b7fce><td id="packagesPrice5NTitle" data-c="@id" data-v-806b7fce>迪拜 + 阿布扎比5晚精华</td><td id="packagesPrice5NDuration" data-c="@id" data-v-806b7fce>6天</td><td data-v-806b7fce><strong style="color:#b01b1b;" data-v-806b7fce><span id="packagesPrice5NAdultLabel" data-c="@id" data-v-806b7fce>成人</span>   <span id="packagesPrice5NAdult" data-c-num="@id" data-format="price-AED" data-v-806b7fce>AED 1349</span>  |  <span id="packagesPrice5NChildLabel" data-c="@id" data-v-806b7fce>儿童</span>   <span id="packagesPrice5NChild" data-c-num="@id" data-format="price-AED" data-v-806b7fce>AED 1169</span></strong></td></tr><tr data-v-806b7fce><td id="packagesPrice6NTitle" data-c="@id" data-v-806b7fce>6晚臻选升级</td><td id="packagesPrice6NDuration" data-c="@id" data-v-806b7fce>7天</td><td data-v-806b7fce><strong style="color:#b01b1b;" data-v-806b7fce><span id="packagesPrice6NAdultLabel" data-c="@id" data-v-806b7fce>成人</span>   <span id="packagesPrice6NAdult" data-c-num="@id" data-format="price-AED" data-v-806b7fce>AED 1599</span>  |  <span id="packagesPrice6NChildLabel" data-c="@id" data-v-806b7fce>儿童</span>   <span id="packagesPrice6NChild" data-c-num="@id" data-format="price-AED" data-v-806b7fce>AED 1419</span></strong></td></tr></tbody></table><p style="margin-top:8px;font-size:0.95rem;color:#555;" id="packagesPriceFootnote" data-c-html="@id" data-v-806b7fce> * 以上为每位价格，按双人/大床同住计算。已含 5% VAT。酒店将另收取「旅游迪拉姆税」（约 AED 10–20/间/晚）。 </p></div>',1)),m("div",aM,[m("div",oM,[m("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...o)=>i.copyEmail&&i.copyEmail(...o)),id:"packagesCTAEmail","data-c":"@id"},"邮件联系我们"),m("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...o)=>i.openWhatsappModal&&i.openWhatsappModal(...o)),id:"packagesCTAWhatsApp","data-c":"@id"},"WhatsApp 联系我们"),m("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...o)=>i.openWechatModal&&i.openWechatModal(...o)),id:"packagesCTAWechat","data-c":"@id"},"微信联系我们"),m("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...o)=>i.bookNow&&i.bookNow(...o)),id:"packagesCTACart","data-c":"@id"},"万德购物车")])]),s.showEmailToast?(W(),B("div",cM,[...e[6]||(e[6]=[m("div",{class:"center-toast-box"},[m("p",{id:"packagesEmailCopiedText","data-c-html":"@id"},[m("strong",null,"info@wanderwonderworlddubai.com"),we(" 已复制到您的剪贴板")])],-1)])])):ae("",!0),s.showWhatsappModal?(W(),B("div",lM,[m("div",dM,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.whatsappQR,alt:"WhatsApp 二维码",id:"packagesWhatsappQR","data-c-src":"@id"},null,8,uM)])])):ae("",!0),s.showWechatModal?(W(),B("div",hM,[m("div",fM,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.wechatQR,alt:"微信二维码",id:"packagesWechatQR","data-c-src":"@id"},null,8,pM)])])):ae("",!0),m("div",mM,[e[7]||(e[7]=m("h2",{id:"packagesFaqTitle","data-c":"@id"},"常见问题",-1)),(W(!0),B(je,null,Ut(s.faqs,(o,l)=>(W(),B("div",{key:l,class:"faq-item"},[m("div",{class:"faq-question",onClick:d=>i.toggleFaq(l)},[m("span",{id:`packagesFaqQ${l+1}`,"data-c":"@id"},oe(o.question),9,vM),m("span",yM,oe(o.open?"▲":"▼"),1)],8,gM),o.open?(W(),B("div",_M,[m("p",{id:`packagesFaqA${l+1}`,"data-c-html":"@id"},oe(o.answer),9,bM)])):ae("",!0)]))),128))]),e[10]||(e[10]=Te('<div class="text-card" data-v-806b7fce><h2 id="packagesS1Title" data-c="@id" data-v-806b7fce>按你的方式探索迪拜：我们的私人套餐</h2><p id="packagesS1P1" data-c-html="@id" data-v-806b7fce><strong data-v-806b7fce>迪拜3晚入门之旅：</strong> 老迪拜徒步（持证中文导游，约2小时）+ 传统 <em data-v-806b7fce>阿布拉</em> 摆渡；其后可二选一： <em data-v-806b7fce>迪拜之框</em> 或 <em data-v-806b7fce>棕榈塔观景台 The View</em>。安排迪拜码头晚餐游船与 晚间沙漠探险（亲子家庭可在 ≥48 小时提前通知下，改为更温和的早晨版本）。 </p><p id="packagesS1P2" data-c-html="@id" data-v-806b7fce><strong data-v-806b7fce>4晚亲子优选：</strong> 第一天晚间抵达留足缓冲；沙漠探险顺延至第二日更有精力。现代迪拜半日游含 哈利法塔 124/125 层（非高峰时段），晚间在 JBR 与 Bluewaters 悠闲漫步。 可按需替换亲子友好项目（如水族馆）。 </p><p id="packagesS1P3" data-c-html="@id" data-v-806b7fce><strong data-v-806b7fce>迪拜 + 阿布扎比5晚精华：</strong> 行程中段前往阿布扎比以平衡节奏：谢赫扎耶德大清真寺（入内参观；周五访客时段有限）与阿布扎比卢浮宫 （通常周一闭馆；我们将据实调整）。返回迪拜后，结合老迪拜徒步 + 阿布拉与您 预订好的哈利法塔时段，再配以码头晚餐游船。 </p><p id="packagesS1P4" data-c-html="@id" data-v-806b7fce><strong data-v-806b7fce>6晚臻选升级：</strong> 沙漠探险 VIP 升级，亚特兰蒂斯水上乐园 &amp; 失落的空间水族馆，另含一天自由活动（购物或泳池时光）。 包含一日阿布扎比（大清真寺入内 + 总统府外苑或卢浮宫其一）。可选加购：迪拜码头日落私人游艇。 </p></div><div class="text-card" data-v-806b7fce><h2 id="packagesS2Title" data-c="@id" data-v-806b7fce>条款与细则（行程套餐）</h2><p id="packagesS2P1" data-c-html="@id" data-v-806b7fce><strong data-v-806b7fce>价格与房型：</strong> 纯陆地价按每位成人、双人/大床同住计算，<em data-v-806b7fce>已含 5% VAT</em>。 儿童（3–10 岁）默认不加床与大人同住；婴儿 0–2 岁免费（不占座/床）。 酒店「旅游迪拉姆税」由住客于前台自付（约 AED 10–20/间/晚）。 标准入住 15:00 / 退房 12:00；如需早入住/晚退房，视房态或需附加费。 </p><p id="packagesS2P2" data-c-html="@id" data-v-806b7fce><strong data-v-806b7fce>包含项目：</strong> 私人往返机场接送（DXB），甄选含早酒店，<em data-v-806b7fce>私人车辆 + 司机兼中文讲解</em>， <em data-v-806b7fce>老迪拜徒步配持证中文导游（约2小时）</em>，套餐所列景点门票 （如哈利法塔 124/125；The View/迪拜之框；卢浮宫/亚特兰蒂斯等以套餐为准）， 迪拜码头晚餐游船（<em data-v-806b7fce>含私人接送</em>），晚间沙漠探险（如标注则为 VIP 升级）， 车载瓶装水。 </p><p id="packagesS2P3" data-c-html="@id" data-v-806b7fce><strong data-v-806b7fce>不含项目：</strong> 国际机票、签证、个人旅行保险；除说明外的午/晚餐；酒精饮品；个人消费； 自选项目/升级；除特别说明外，其他日的额外持证导游；旺季/活动附加费； 单房差/加床费；行李员服务；自愿小费等。 </p><p id="packagesS2P4" data-c-html="@id" data-v-806b7fce><strong data-v-806b7fce>儿童座椅与安全：</strong> 阿联酋法律要求婴幼儿使用合规安全座椅并单独占座。请在预订时告知实际需求数量；务必遵从当地法规。 </p><p id="packagesS2P5" data-c-html="@id" data-v-806b7fce><strong data-v-806b7fce>阿布扎比大清真寺着装：</strong> 女士需遮盖头发、肩膀与腿部；男士须着长裤。安检严格，着装不合规可能被拒入。 周五访客时段有限，我们会提前提醒并给出着装建议。 </p><p id="packagesS2P6" data-c-html="@id" data-v-806b7fce><strong data-v-806b7fce>斋月与旺季：</strong> 斋月期间沙漠营地表演暂停；酒精供应受限；景点开放时间或有调整。 新年夜等重大活动可能有强制性附加费用。 </p><p id="packagesS2P7" data-c-html="@id" data-v-806b7fce><strong data-v-806b7fce>改期与取消：</strong> ≥48 小时：免费改期/退款；24–48 小时：收取 50%；＜24 小时或未到场：收取 100%。 不可退门票/酒店晚按供应商政策执行。不可抗力（如沙尘暴、暴雨）优先改期；如无法改期，仅收取不可追回成本。 </p></div><div class="text-card" data-v-806b7fce><h2 id="packagesS3Title" data-c="@id" data-v-806b7fce>万德假日 · 套餐服务说明</h2><p id="packagesS3P1" data-c-html="@id" data-v-806b7fce> 我们以「防暑节奏」设计行程（中午室内，黄金时段户外），标配老迪拜徒步 + 阿布拉； 提供亲子友好的沙漠方案。WhatsApp 礼宾（08:00–22:00）、认证司机、干净营地、 需提前预约的儿童座椅，以及「≥48 小时一次免费改期」，共同保障旅途顺滑与安全。 </p></div>',3))])}const TM=pt(JN,[["render",wM],["__scopeId","data-v-806b7fce"]]),EM={name:"Safari",components:{CarCard:fn},data(){return{banner:In,logoGold:Nt,logoText:Wt,car1:ll,car2:dl,car3:ul,car4:hl,addon1:rb,addon2:sb,addon3:ib,addon4:ab,faqs:[{question:"迪拜沙漠团通常包含哪些内容？",answer:"一般包含四驱车辆酒店接送、专业司机带领的冲沙、沙丘拍照打卡、骆驼骑乘、沙板体验与简易茶点；按套餐不同，可包含营地现场表演与 BBQ 自助晚餐。奢华或过夜套餐将配备专属营地与升级餐饮。",open:!1},{question:"沙漠行程通常需要多长时间？",answer:"时长取决于所选套餐：早晨团约 4–5 小时；傍晚团约 6 小时；过夜团含次日早餐，约 16 小时。",open:!1},{question:"需要提前预订沙漠行程吗？",answer:"建议提前预订以确保日期与车辆，尤其在周末与旺季。当天临时报名可能无法保证名额。",open:!1},{question:"参加沙漠团该如何着装？",answer:"建议轻便透气的休闲装，如薄长裤/短裤与透气上衣；鞋履可选运动鞋或凉鞋。冬季夜晚温差较大，建议携带薄外套。",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:jn,wechatQR:hn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){$t().open()}}},AM={class:"safari"},IM={class:"banner-container"},CM=["src"],kM={class:"floating-logos"},PM=["src"],SM=["src"],RM={class:"cards-container"},DM={class:"cards-container"},xM={class:"cta-row-wrapper"},NM={class:"cta-row"},MM={key:0,class:"center-toast",role:"status","aria-live":"polite"},VM={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},OM={class:"qr-modal-box"},LM=["src"],FM={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},UM={class:"qr-modal-box"},WM=["src"],qM={class:"faq-card"},BM=["onClick"],HM=["id"],jM={class:"faq-icon"},$M={key:0,class:"faq-answer"},zM=["id"];function GM(t,e,n,r,s,i){const a=lt("CarCard");return W(),B("div",AM,[m("div",IM,[m("img",{src:s.banner,alt:"沙漠接送横幅",class:"banner",id:"safari1Banner","data-c-src":"@id"},null,8,CM),m("div",kM,[m("img",{src:s.logoGold,alt:"金色标志",class:"logo",id:"safari1LogoGold","data-c-src":"@id"},null,8,PM),m("img",{src:s.logoText,alt:"文字标志",class:"logo-text",id:"safari1LogoText","data-c-src":"@id"},null,8,SM)])]),e[8]||(e[8]=Te('<div class="intro" data-v-11edcee5><h1 id="safari1IntroTitle" data-c="@id" data-v-11edcee5>迪拜至臻冒险 — 沙漠探险之旅</h1><p id="safari1IntroP1" data-c-html="@id" data-v-11edcee5> 用最地道的方式邂逅迪拜沙海。我们的精选沙漠行程覆盖清晨的活力越野、黄昏的金色落日，以及过夜营地的文化沉浸。每条线路都具备独特体验，您可按旅行风格自由选择。预订万德假日（WanderWonderWorld），以专业、顺畅且难忘的方式驶向沙丘深处。 </p></div><div class="whatsapp-wrapper" data-v-11edcee5><a href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" id="safari1WhatsappLink" data-c-src="@id" data-v-11edcee5><img src="'+pn+'" alt="WhatsApp" id="safari1WhatsappIcon" data-c-src="@id" data-v-11edcee5><span class="whatsapp-text" id="safari1WhatsappText" data-c="@id" data-v-11edcee5> 需要帮助？点击咨询！ </span></a></div>',2)),m("div",RM,[V(a,{"key-id":"safari1CardMorning",image:s.car1,title:"晨曦沙丘越野",subtitle:"经典系列",tour:"早晨私人团",duration:"4.5小时",price:"AED 500 起",link:"/safari/regsafari1"},null,8,["image"]),V(a,{"key-id":"safari1CardSunset",image:s.car2,title:"日落沙丘优选",subtitle:"臻选系列",tour:"日落私人团",duration:"6小时",price:"AED 700 起",link:"/safari/regsafari1"},null,8,["image"]),V(a,{"key-id":"safari1CardExtended",image:s.car3,title:"加长版沙丘刺激",subtitle:"尊尚系列",tour:"加长私人团",duration:"7小时",price:"AED 1100 起",link:"/safari/upsafari1"},null,8,["image"]),V(a,{"key-id":"safari1CardRoyal",image:s.car4,title:"皇家沙漠过夜营",subtitle:"皇室系列",tour:"豪华过夜",duration:"16小时",price:"AED 2000 起",link:"/safari/upsafari1"},null,8,["image"]),m("div",DM,[V(a,{"key-id":"safari1AddonATV150",image:s.addon1,title:"全地形车（150cc）",subtitle:"加选项目",tour:"沙漠探险",duration:"30分钟",price:"AED 140 / 人",link:"/safari/addon1"},null,8,["image"]),V(a,{"key-id":"safari1AddonBuggy2",image:s.addon2,title:"沙滩车（双座）",subtitle:"加选项目",tour:"沙漠探险",duration:"30分钟",price:"AED 420 / 辆",link:"/safari/addon1"},null,8,["image"]),V(a,{"key-id":"safari1AddonPhoto",image:s.addon3,title:"旅拍摄影套餐",subtitle:"加选项目",tour:"精修10张 + 全部原片",duration:"—",price:"AED 150 / 套",link:"/safari/addon1"},null,8,["image"]),V(a,{"key-id":"safari1AddonShisha",image:s.addon4,title:"水烟 / 饮品",subtitle:"加选项目",tour:"持牌营地可选",duration:"—",price:"详情咨询",link:"/safari/addon1"},null,8,["image"])])]),e[9]||(e[9]=Te('<div class="text-card" data-v-11edcee5><h2 id="safari1PriceTitle" data-c="@id" data-v-11edcee5>迪拜沙漠探险价目表</h2><table class="price-table" data-v-11edcee5><thead data-v-11edcee5><tr data-v-11edcee5><th id="safari1PriceThProject" data-c="@id" data-v-11edcee5>沙漠项目</th><th id="safari1PriceThTime" data-c="@id" data-v-11edcee5>时间/时长</th><th id="safari1PriceThPrice" data-c="@id" data-v-11edcee5>价格</th></tr></thead><tbody data-v-11edcee5><tr data-v-11edcee5><td id="safari1PriceMorningTitle" data-c="@id" data-v-11edcee5>晨曦沙丘越野｜经典系列</td><td id="safari1PriceMorningTime" data-c="@id" data-v-11edcee5>08:00 – 12:30</td><td data-v-11edcee5><strong style="color:#b01b1b;" id="safari1PriceMorning" data-c-num="@id" data-format="price-AED" data-v-11edcee5>AED 500</strong></td></tr><tr data-v-11edcee5><td id="safari1PriceSunsetTitle" data-c="@id" data-v-11edcee5>日落沙丘优选｜臻选系列</td><td id="safari1PriceSunsetTime" data-c="@id" data-v-11edcee5>15:00 – 21:00</td><td data-v-11edcee5><strong style="color:#b01b1b;" id="safari1PriceSunset" data-c-num="@id" data-format="price-AED" data-v-11edcee5>AED 700</strong></td></tr><tr data-v-11edcee5><td id="safari1PriceExtendedTitle" data-c="@id" data-v-11edcee5>加长版沙丘刺激｜尊尚系列</td><td id="safari1PriceExtendedTime" data-c="@id" data-v-11edcee5>14:00 – 21:00</td><td data-v-11edcee5><strong style="color:#b01b1b;" id="safari1PriceExtended" data-c-num="@id" data-format="price-AED" data-v-11edcee5>AED 1100</strong></td></tr><tr data-v-11edcee5><td id="safari1PriceRoyalTitle" data-c="@id" data-v-11edcee5>皇家沙漠过夜营｜皇室系列</td><td id="safari1PriceRoyalTime" data-c="@id" data-v-11edcee5>15:00 – 09:00（+1 天）</td><td data-v-11edcee5><strong style="color:#b01b1b;" id="safari1PriceRoyal" data-c-num="@id" data-format="price-AED" data-v-11edcee5>AED 2000</strong></td></tr><tr data-v-11edcee5><td id="safari1PriceAddonATVTitle" data-c="@id" data-v-11edcee5>加选 全地形车（150cc）</td><td id="safari1PriceAddonATVTime" data-c="@id" data-v-11edcee5>30min</td><td data-v-11edcee5><strong style="color:#b01b1b;" id="safari1PriceAddonATV" data-c-num="@id" data-format="price-AED" data-v-11edcee5>AED 140</strong></td></tr><tr data-v-11edcee5><td id="safari1PriceAddonBuggyTitle" data-c="@id" data-v-11edcee5>加选 沙滩车（双座）</td><td id="safari1PriceAddonBuggyTime" data-c="@id" data-v-11edcee5>30min</td><td data-v-11edcee5><strong style="color:#b01b1b;" id="safari1PriceAddonBuggy" data-c-num="@id" data-format="price-AED" data-v-11edcee5>AED 420</strong></td></tr><tr data-v-11edcee5><td id="safari1PriceAddonPhotoTitle" data-c="@id" data-v-11edcee5>加选 旅拍摄影套餐</td><td id="safari1PriceAddonPhotoTime" data-c="@id" data-v-11edcee5>——</td><td data-v-11edcee5><strong style="color:#b01b1b;" id="safari1PriceAddonPhoto" data-c-num="@id" data-format="price-AED" data-v-11edcee5>AED 150</strong></td></tr><tr data-v-11edcee5><td id="safari1PriceAddonShishaTitle" data-c="@id" data-v-11edcee5>水烟 / 酒精饮品</td><td id="safari1PriceAddonShishaTime" data-c="@id" data-v-11edcee5>——</td><td data-v-11edcee5><strong style="color:#b01b1b;" id="safari1PriceAddonShisha" data-c="@id" data-v-11edcee5>详见菜单</strong></td></tr></tbody></table></div>',1)),m("div",xM,[m("div",NM,[m("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...o)=>i.copyEmail&&i.copyEmail(...o)),id:"safari1CTAEmail","data-c":"@id"}," 邮件联系我们 "),m("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...o)=>i.openWhatsappModal&&i.openWhatsappModal(...o)),id:"safari1CTAWhatsApp","data-c":"@id"}," WhatsApp 联系我们 "),m("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...o)=>i.openWechatModal&&i.openWechatModal(...o)),id:"safari1CTAWechat","data-c":"@id"}," 微信联系我们 "),m("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...o)=>i.bookNow&&i.bookNow(...o)),id:"safari1CTACart","data-c":"@id"}," 万德购物车 ")])]),s.showEmailToast?(W(),B("div",MM,[...e[6]||(e[6]=[m("div",{class:"center-toast-box"},[m("p",{id:"safari1EmailCopiedText","data-c-html":"@id"},[m("strong",null,"info@wanderwonderworlddubai.com"),we(" 已复制到您的剪贴板 ")])],-1)])])):ae("",!0),s.showWhatsappModal?(W(),B("div",VM,[m("div",OM,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.whatsappQR,alt:"WhatsApp 二维码",id:"safari1WhatsappQR","data-c-src":"@id"},null,8,LM)])])):ae("",!0),s.showWechatModal?(W(),B("div",FM,[m("div",UM,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.wechatQR,alt:"微信二维码",id:"safari1WechatQR","data-c-src":"@id"},null,8,WM)])])):ae("",!0),m("div",qM,[e[7]||(e[7]=m("h2",{id:"safari1FaqTitle","data-c":"@id"},"常见问题",-1)),(W(!0),B(je,null,Ut(s.faqs,(o,l)=>(W(),B("div",{key:l,class:"faq-item"},[m("div",{class:"faq-question",onClick:d=>i.toggleFaq(l)},[m("span",{id:`safari1FaqQ${l+1}`,"data-c":"@id"},oe(o.question),9,HM),m("span",jM,oe(o.open?"▲":"▼"),1)],8,BM),o.open?(W(),B("div",$M,[m("p",{id:`safari1FaqA${l+1}`,"data-c-html":"@id"},oe(o.answer),9,zM)])):ae("",!0)]))),128))]),e[10]||(e[10]=Te('<div class="text-card" data-v-11edcee5><h2 id="safari1S1Title" data-c="@id" data-v-11edcee5>难忘之旅：我们的迪拜沙漠体验</h2><p id="safari1S1P1" data-c-html="@id" data-v-11edcee5> 万德假日以安全、舒适且富有激情的方式，带您体验不同层次的沙漠之旅。从清晨温和的金色沙丘穿越到日落时分的越野冲沙，我们将刺激与文化融合。全程配备私人四驱座驾、专业司机兼中文讲解与甄选营地，为亲子、情侣与团队打造高品质、真实而不失高级感的体验。 </p></div><div class="text-card" data-v-11edcee5><h2 id="safari1S2Title" data-c="@id" data-v-11edcee5>定制沙漠行程：私人团可选方案</h2><p id="safari1S2P1" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>晨曦沙丘越野 | 经典系列：</strong> 半日行程，适合亲子、长者与短途旅客。清凉早晨冲沙、骆驼骑乘、沙板体验与简易茶点。</p><p id="safari1S2P2" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>日落沙丘优选 | 臻选系列：</strong> 人气之选。下午冲沙、日落打卡、骆驼骑乘、营地文化表演与 BBQ 自助晚餐。</p><p id="safari1S2P3" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>加长版沙丘刺激 | 尊尚系列：</strong> 为探险控而设。深入沙海的加长冲沙、尊贵营地 VIP 区、升级餐食与限定演出。</p><p id="safari1S2P4" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>皇家沙漠过夜营 | 皇室系列：</strong> 终极奢享。高级 SUV 接送，私享冲沙、香槟迎宾（仅限持牌营地）、精致晚宴与豪华帐篷过夜，观星体验并含次日早餐。</p></div><div class="text-card" data-v-11edcee5><h2 id="safari1S3Title" data-c="@id" data-v-11edcee5>条款与细则</h2><p id="safari1S3P1" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>名额与资源：</strong> 所有行程以车辆、司机与营地当日可用为准，建议提前预订以锁定日期与套餐。</p><p id="safari1S3P2" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>车辆与安全：</strong> 行程使用保养良好的四驱车辆；为安全起见，车内禁止饮食与吸烟，请遵循司机指引。</p><p id="safari1S3P3" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>取消规则：</strong> 取消需遵循预订政策，费用将依取消时间而定；详细规则以预订时说明为准。</p><p id="safari1S3P4" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>未到场政策：</strong> 如未提前通知并未在约定地点集合，可能视为未到场并收取相应费用。</p><p id="safari1S3P5" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>超时费用：</strong> 超出原定时间的加时将按车型与预订时长计费。</p><p id="safari1S3P6" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>旺季附加：</strong> 旺季或节假日可能产生附加费，确认前会明确告知。</p><p id="safari1S3P7" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>安全提示：</strong> 冲沙等活动请遵从司机指示；携带儿童与长者请提前告知，以便推荐合适行程；可按需提供儿童座椅。</p><p id="safari1S3P8" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>加选项目与酒水：</strong> 全地形车/沙滩车、旅拍、水烟等可提前预订；含酒精饮品仅在持牌营地供应并遵守阿联酋法规。</p><p id="safari1S3P9" data-c-html="@id" data-v-11edcee5><strong data-v-11edcee5>导游说明：</strong> 司机并非持证导游；如需持证中文导游，可按需另行安排并收取费用。</p></div><div class="text-card" data-v-11edcee5><h2 id="safari1S4Title" data-c="@id" data-v-11edcee5>万德假日 · 沙漠探险服务</h2><p id="safari1S4P1" data-c-html="@id" data-v-11edcee5> 我们提供从刺激冲沙到奢华过夜的全系沙漠产品，兼顾安全、文化与服务品质。无论初访或高端定制，我们的方案均以国际标准执行，可靠专业。 </p><p id="safari1S4P2" data-c-html="@id" data-v-11edcee5> 行程覆盖早晨、傍晚、加长与皇室过夜等多种选择；均配备现代四驱车辆与持证、经验丰富的司机团队，放心与尽兴并重。针对家庭、情侣、团队或企业团建，我们可为您定制专属线路与时间表。 </p></div>',4))])}const KM=pt(EM,[["render",GM],["__scopeId","data-v-11edcee5"]]),QM={name:"City",components:{CarCard:fn},data(){return{banner:In,logoGold:Nt,logoText:Wt,car1:fl,car2:pl,car3:ml,car4:gl,faqs:[{question:"价格包含哪些内容？",answer:"私人车辆 + 司机兼中文讲解；迪拜线路含约2小时老迪拜徒步（持证中文导游）；阿布拉船票（迪拜线路）；瓶装水、萨利克过路费与官方停车费。除特别说明外，门票与餐食为自选加购。",open:!1},{question:"费用是按车还是按人计算？",answer:"按车计价，7座车型最多6位乘客。依法须为儿童配备儿童/增高座椅，可在预订时提出。可加价升级更大车型（海狮/中巴/豪华SUV）。",open:!1},{question:"观光顺序可以调整吗？",answer:"可以。为私人灵活线路，我们会结合航班、季节、路况与门票时段优化安排。高峰日期可能需调整以获得更佳时段。",open:!1},{question:"阿布扎比清真寺的着装要求会严格执行吗？",answer:"会。女士需遮盖头发、肩膀与腿部；男士需穿长裤。安检严格，着装不合规可能被拒入。周五访客时段有限。",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:jn,wechatQR:hn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){$t().open()}}},ZM={class:"city"},YM={class:"banner-container"},JM=["src"],XM={class:"floating-logos"},e5=["src"],t5=["src"],n5={class:"cards-container"},r5={class:"cta-row-wrapper"},s5={class:"cta-row"},i5={key:0,class:"center-toast",role:"status","aria-live":"polite"},a5={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},o5={class:"qr-modal-box"},c5=["src"],l5={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},d5={class:"qr-modal-box"},u5=["src"],h5={class:"faq-card"},f5=["onClick"],p5={class:"faq-icon"},m5={key:0,class:"faq-answer"};function g5(t,e,n,r,s,i){const a=lt("CarCard");return W(),B("div",ZM,[m("div",YM,[m("img",{src:s.banner,alt:"城市观光横幅",class:"banner",id:"cityZhBanner","data-c-src":"@id"},null,8,JM),m("div",XM,[m("img",{src:s.logoGold,alt:"金色标志",class:"logo",id:"cityZhLogoGold","data-c-src":"@id"},null,8,e5),m("img",{src:s.logoText,alt:"文字标志",class:"logo-text",id:"cityZhLogoText","data-c-src":"@id"},null,8,t5)])]),e[8]||(e[8]=Te('<div class="intro" data-v-4df90d56><h1 id="cityZhIntroTitle" data-c="@id" data-v-4df90d56>迪拜城市观光 — 弹性安排 · 深度发现</h1><p id="cityZhIntroP1" data-c-html="@id" data-v-4df90d56> 以四款<strong data-v-4df90d56>私人（按车计价）</strong>城市观光，自由玩转迪拜。我们采用「防暑节奏」设计行程： 早晚户外，中午室内；迪拜线路标配<strong data-v-4df90d56>老迪拜徒步</strong> + <em data-v-4df90d56>阿布拉</em> 摆渡（徒步段由持证中文导游带领，其余时段由<strong data-v-4df90d56>司机兼中文讲解</strong>随行）。 明晰的「价值优先」定价、每车最多6位（7座）、车载瓶装水与合规认证车辆，让您从酒店接到送一路顺畅。 </p></div><div class="whatsapp-wrapper" data-v-4df90d56><a id="cityZhWhatsappLink" data-c-src="@id" href="https://wa.me/971589831967?text=Hello%20WanderWonderWorld%20Dubai!%20I%20am%20interested%20in%20your%20services." class="whatsapp-button hover-reveal" data-v-4df90d56><img src="'+pn+'" alt="WhatsApp" id="cityZhWhatsappIcon" data-c-src="@id" data-v-4df90d56><span class="whatsapp-text" id="cityZhWhatsappText" data-c="@id" data-v-4df90d56>需要帮助？点击咨询！</span></a></div>',2)),m("div",n5,[V(a,{"key-id":"cityZhCardHalfDay",image:s.car1,title:"半日迪拜精华",subtitle:"城市观光服务",tour:"迪拜市区",duration:"5小时",price:"AED 325 起",link:"/city/city121"},null,8,["image"]),V(a,{"key-id":"cityZhCardFullDay",image:s.car2,title:"全日迪拜全景",subtitle:"城市观光服务",tour:"迪拜市区",duration:"10小时",price:"AED 559 起",link:"/city/city121"},null,8,["image"]),V(a,{"key-id":"cityZhCardAbuDhabi",image:s.car3,title:"阿布扎比文化一日游",subtitle:"城市观光服务",tour:"阿布扎比",duration:"10–11小时",price:"AED 659 起",link:"/city/city341"},null,8,["image"]),V(a,{"key-id":"cityZhCardHatta",image:s.car4,title:"哈塔山谷度假一日游",subtitle:"城市观光服务",tour:"哈塔",duration:"10–11小时",price:"AED 710 起",link:"/city/city341"},null,8,["image"])]),e[9]||(e[9]=Te('<div class="text-card" data-v-4df90d56><h2 id="cityZhPriceTitle" data-c="@id" data-v-4df90d56>迪拜城市观光价目表</h2><table class="price-table" data-v-4df90d56><thead data-v-4df90d56><tr data-v-4df90d56><th id="cityZhPriceThTour" data-c="@id" data-v-4df90d56>城市观光</th><th id="cityZhPriceThTime" data-c="@id" data-v-4df90d56>时间/时长</th><th id="cityZhPriceThPrice" data-c="@id" data-v-4df90d56>价格</th></tr></thead><tbody data-v-4df90d56><tr data-v-4df90d56><td id="cityZhPriceHalfTitle" data-c="@id" data-v-4df90d56>半日迪拜精华</td><td id="cityZhPriceHalfTime" data-c="@id" data-v-4df90d56>5小时</td><td data-v-4df90d56><strong style="color:#b01b1b;" data-v-4df90d56> AED <span id="cityZhPriceHalfFrom" data-c-num="@id" data-format="price-AED" data-v-4df90d56>325</span> 起 </strong></td></tr><tr data-v-4df90d56><td id="cityZhPriceFullTitle" data-c="@id" data-v-4df90d56>全日迪拜全景</td><td id="cityZhPriceFullTime" data-c="@id" data-v-4df90d56>10小时</td><td data-v-4df90d56><strong style="color:#b01b1b;" data-v-4df90d56> AED <span id="cityZhPriceFullFrom" data-c-num="@id" data-format="price-AED" data-v-4df90d56>559</span> 起 </strong></td></tr><tr data-v-4df90d56><td id="cityZhPriceADTitle" data-c="@id" data-v-4df90d56>阿布扎比文化一日游</td><td id="cityZhPriceADTime" data-c="@id" data-v-4df90d56>10–11小时</td><td data-v-4df90d56><strong style="color:#b01b1b;" data-v-4df90d56> AED <span id="cityZhPriceADFrom" data-c-num="@id" data-format="price-AED" data-v-4df90d56>659</span> 起 </strong></td></tr><tr data-v-4df90d56><td id="cityZhPriceHattaTitle" data-c="@id" data-v-4df90d56>哈塔山谷度假一日游</td><td id="cityZhPriceHattaTime" data-c="@id" data-v-4df90d56>10–11小时</td><td data-v-4df90d56><strong style="color:#b01b1b;" data-v-4df90d56> AED <span id="cityZhPriceHattaFrom" data-c-num="@id" data-format="price-AED" data-v-4df90d56>710</span> 起 </strong></td></tr></tbody></table><p id="cityZhPriceNote" data-c-html="@id" style="margin-top:8px;font-size:0.95rem;color:#555;" data-v-4df90d56> * 以上为<strong data-v-4df90d56>按车计价</strong>（7座，最多载6位）。超时<strong data-v-4df90d56>AED <span id="cityZhOvertimeRate" data-c-num="@id" data-format="price-AED" data-v-4df90d56>75</span>/小时</strong>。 迪拜线路含老迪拜徒步 + 阿布拉摆渡。除特别说明外，景点门票与餐食为自选加购。 依法须使用儿童/增高座椅，可在预订时提出需求。 </p></div>',1)),m("div",r5,[m("div",s5,[m("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...o)=>i.copyEmail&&i.copyEmail(...o)),id:"cityZhCTAEmail","data-c":"@id"},"邮件联系我们"),m("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...o)=>i.openWhatsappModal&&i.openWhatsappModal(...o)),id:"cityZhCTAWhatsApp","data-c":"@id"},"WhatsApp 联系我们"),m("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...o)=>i.openWechatModal&&i.openWechatModal(...o)),id:"cityZhCTAWechat","data-c":"@id"},"微信联系我们"),m("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...o)=>i.bookNow&&i.bookNow(...o)),id:"cityZhCTACart","data-c":"@id"},"万德购物车")])]),s.showEmailToast?(W(),B("div",i5,[...e[6]||(e[6]=[m("div",{class:"center-toast-box"},[m("p",{id:"cityZhEmailCopiedText","data-c-html":"@id"},[m("strong",null,"info@wanderwonderworlddubai.com"),we(" 已复制到您的剪贴板 ")])],-1)])])):ae("",!0),s.showWhatsappModal?(W(),B("div",a5,[m("div",o5,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[4]||(e[4]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.whatsappQR,alt:"WhatsApp 二维码",id:"cityZhWhatsappQR","data-c-src":"@id"},null,8,c5)])])):ae("",!0),s.showWechatModal?(W(),B("div",l5,[m("div",d5,[m("button",{class:"qr-close","aria-label":"Close",onClick:e[5]||(e[5]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.wechatQR,alt:"微信二维码",id:"cityZhWechatQR","data-c-src":"@id"},null,8,u5)])])):ae("",!0),m("div",h5,[e[7]||(e[7]=m("h2",{id:"cityZhFaqTitle","data-c":"@id"},"常见问题",-1)),(W(!0),B(je,null,Ut(s.faqs,(o,l)=>(W(),B("div",{key:l,class:"faq-item"},[m("div",{class:"faq-question",onClick:d=>i.toggleFaq(l)},[m("span",null,oe(o.question),1),m("span",p5,oe(o.open?"▲":"▼"),1)],8,f5),o.open?(W(),B("div",m5,[m("p",null,oe(o.answer),1)])):ae("",!0)]))),128))]),e[10]||(e[10]=Te('<div class="text-card" data-v-4df90d56><h2 id="cityZhS1Title" data-c="@id" data-v-4df90d56>按你的方式探索迪拜：私人城市观光</h2><p id="cityZhS1P1" data-c-html="@id" data-v-4df90d56><strong data-v-4df90d56>半日迪拜精华：</strong> 老迪拜徒步（持证中文导游）+ 阿布拉横渡，畅游市集（香料/黄金），前往朱美拉海滨拍照，最后抵达迪拜购物中心/音乐喷泉（或未来博物馆 MoTF 外观）。紧凑5小时，避暑避堵。</p><p id="cityZhS1P2" data-c-html="@id" data-v-4df90d56><strong data-v-4df90d56>全日迪拜全景：</strong> 一整天的「防暑节奏」：上午老迪拜徒步 + 阿布拉；中午转入室内（迪拜之框或棕榈塔观景台 The View，或哈利法塔124/125层）；黄金时段在市集古堡 Souk Madinat 及迪拜码头/蓝水岛/ JBR 一带拍照。</p><p id="cityZhS1P3" data-c-html="@id" data-v-4df90d56><strong data-v-4df90d56>阿布扎比文化日：</strong> 谢赫扎耶德大清真寺入内参观（须遵守着装），车览总统府与海滨大道，二选一：阿布扎比卢浮宫或总统府 Qasr Al Watan（视购票时段而定）。我们将根据周五礼拜与路况调整时间。</p><p id="cityZhS1P4" data-c-html="@id" data-v-4df90d56><strong data-v-4df90d56>哈塔山地休闲日：</strong> 水坝观景台（可选皮划艇）、哈塔遗产村、Wadi Hub 活动区与哈塔山顶公园。建议使用四驱车型。天气与路况可能为安全起见调整顺序。</p></div><div class="text-card" data-v-4df90d56><h2 id="cityZhS2Title" data-c="@id" data-v-4df90d56>条款与细则（城市观光）</h2><p id="cityZhS2P1" data-c-html="@id" data-v-4df90d56><strong data-v-4df90d56>价格与座位：</strong> 费用按车计（7座，最多6位）。超时 AED <span id="cityZhSurchargeOvertime" data-c-num="@id" data-format="price-AED" data-v-4df90d56>75</span>/小时。偏远接送点（如杰贝阿里/DWC/沙迦交界）或收取小额附加费。固定出发有助错峰；亦可应需定制时间。</p><p id="cityZhS2P2" data-c-html="@id" data-v-4df90d56><strong data-v-4df90d56>包含：</strong> 私人车辆 + 司机兼中文讲解；迪拜线路含约2小时老迪拜徒步配持证中文导游；阿布拉船票（迪拜线路）；瓶装水、萨利克过路费与官方停车费。</p><p id="cityZhS2P3" data-c-html="@id" data-v-4df90d56><strong data-v-4df90d56>不含：</strong> 除说明外之门票与餐食；自选活动费用（如皮划艇、观景台等）；全日持证导游加配；旺季/活动附加；小费；个人旅行保险。</p><p id="cityZhS2P4" data-c-html="@id" data-v-4df90d56><strong data-v-4df90d56>儿童座椅与安全：</strong> 阿联酋法律要求按龄使用儿童/增高座椅并单独占座；请在预订时提出数量。车辆内禁止饮食与吸烟。</p><p id="cityZhS2P5" data-c-html="@id" data-v-4df90d56><strong data-v-4df90d56>阿布扎比大清真寺：</strong> 女士需遮盖头发、肩膀与腿部；男士须穿长裤。安检严格，着装不合规可能被拒入。周五访客时段有限。</p><p id="cityZhS2P6" data-c-html="@id" data-v-4df90d56><strong data-v-4df90d56>斋月与旺季：</strong> 沙漠营地表演暂停；酒精供应受限；景点时段或有调整。新年夜与大型活动可能有强制性附加与道路管制。</p><p id="cityZhS2P7" data-c-html="@id" data-v-4df90d56><strong data-v-4df90d56>改期与取消：</strong> ≥24小时免费改/退；12–24小时收取50%；&lt;12小时或未到场收取100%。不可退门票按供应商政策执行。不可抗力（沙尘暴/暴雨/临时关闭）优先改期；无法改期时仅收取不可追回成本。</p></div><div class="text-card" data-v-4df90d56><h2 id="cityZhS3Title" data-c="@id" data-v-4df90d56>万德假日 · 城市观光服务</h2><p id="cityZhS3P1" data-c-html="@id" data-v-4df90d56> 我们以「防暑节奏」规划行程，迪拜线路标配老迪拜徒步 + 阿布拉，并保持自选项目透明。 提供 WhatsApp 礼宾（08:00–22:00）、认证司机与车辆、干净安全的停靠点、按需儿童座椅， 以及一次（≥24小时）免费改期，让您的当天接送与游览更省心。 </p></div>',3))])}const v5=pt(QM,[["render",g5],["__scopeId","data-v-4df90d56"]]),y5={name:"Packages",components:{CarCard:fn},data(){return{banner:In,logoGold:Nt,logoText:Wt,car1:vl,car2:yl,car3:_l,car4:bl,faqs:[{question:"票价包含哪些内容？",answer:"包含船上座位、自助晚餐（清真；可选素/荤；耆那/纯素需提前告知）、瓶装水/软饮，以及在法律/季节允许时的表演。已含税。接送、酒水（限持牌船只）、座位升级与节日布置为自选加购。",open:!1},{question:"在哪里登船？何时到达？",answer:"电子确认单会显示具体码头与地图链接。河/码头/运河航线：20:00 登船、20:30 开航。Lotus 超级游艇：19:00 报到，19:30 开航，全程 3 小时。请准时抵达——迟到将由船方视作未到场。",open:!1},{question:"是否提供酒店接送？",answer:"提供——迪拜市区私家往返：轿车 1–4 人 AED 180，MPV 5–7 人 AED 220，面包车 10–14 人 AED 350。Jebel Ali/JVC/DIP 额外 +AED 40–60；从沙迦出发 +AED 100。儿童座椅可免费预留（数量有限）。",open:!1},{question:"船上是否提供酒水？",answer:"仅在持牌船只/许可日期提供（如 Lotus 可加购 Premium Drinks）。斋月及官方禁酒日不供应含酒精饮品，遵循阿联酋相关法规。",open:!1},{question:"取消/改期政策是什么？",answer:"河/码头/运河：≥24h 免费；12–24h 收 50%；<12h 或未到场收 100%。Lotus/VIP：≥48h 免费；24–48h 收 50%；<24h 收 100%。节庆夜条款更严。",open:!1}],showEmailToast:!1,showWhatsappModal:!1,showWechatModal:!1,whatsappQR:jn,wechatQR:hn,emailToCopy:"info@wanderwonderworlddubai.com",toastTimer:null}},methods:{toggleFaq(t){this.faqs[t].open=!this.faqs[t].open},async copyEmail(){try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(this.emailToCopy);else{const t=document.createElement("textarea");t.value=this.emailToCopy,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}this.showToast()}catch{this.showToast()}},showToast(){this.showEmailToast=!0,clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.showEmailToast=!1},3e3)},openWhatsappModal(){this.showWhatsappModal=!0},openWechatModal(){this.showWechatModal=!0},closeModals(){this.showWhatsappModal=!1,this.showWechatModal=!1},bookNow(){$t().open()}}},_5={class:"safari"},b5={class:"banner-container"},w5=["src"],T5={class:"floating-logos"},E5=["src"],A5=["src"],I5={class:"cards-container"},C5={class:"cta-row-wrapper"},k5={class:"cta-row"},P5={key:0,class:"center-toast",role:"status","aria-live":"polite"},S5={key:1,class:"qr-modal","aria-modal":"true",role:"dialog"},R5={class:"qr-modal-box"},D5=["src"],x5={key:2,class:"qr-modal","aria-modal":"true",role:"dialog"},N5={class:"qr-modal-box"},M5=["src"],V5={class:"faq-card"},O5=["onClick"],L5={class:"faq-icon"},F5={key:0,class:"faq-answer"};function U5(t,e,n,r,s,i){const a=lt("CarCard");return W(),B("div",_5,[m("div",b5,[m("img",{src:s.banner,alt:"产品横幅",class:"banner",id:"cruiseZhBanner","data-c-src":"@id"},null,8,w5),m("div",T5,[m("img",{src:s.logoGold,alt:"金色徽标",class:"logo",id:"cruiseZhLogoGold","data-c-src":"@id"},null,8,E5),m("img",{src:s.logoText,alt:"文字徽标",class:"logo-text",id:"cruiseZhLogoText","data-c-src":"@id"},null,8,A5)])]),e[8]||(e[8]=Te('<div class="intro" data-v-2c003ba9><h1 id="cruiseZhIntroTitle" data-c="@id" data-v-2c003ba9>迪拜游船晚宴 — 夜色臻享与品质之选</h1><p id="cruiseZhIntroP1" data-c-html="@id" data-v-2c003ba9> 提供四条经典夜游航线可选：迪拜河传统木船、Marina 码头天际线、迪拜水运河玻璃游船，以及 Lotus 超级游艇。价格透明，升级清晰（上层甲板/靠窗座、VIP 休息区），酒店私家接送可选。 可按需提供素食/耆那教餐；船上文娱遵循当地法规。电子确认单含登船码头地图与 24/7 紧急联系人， 全程顺畅无忧。 </p></div><div class="whatsapp-wrapper" data-v-2c003ba9><a id="cruiseZhWhatsappLink" data-c-src="@id" href="https://wa.me/971589831967?text=你好，万德假日迪拜！我想咨询游船晚宴。" class="whatsapp-button hover-reveal" data-v-2c003ba9><img src="'+pn+'" alt="WhatsApp 图标" id="cruiseZhWhatsappIcon" data-c-src="@id" data-v-2c003ba9><span class="whatsapp-text" id="cruiseZhWhatsappText" data-c="@id" data-v-2c003ba9>需要帮助？立即咨询！</span></a></div>',2)),m("div",I5,[V(a,{"key-id":"cruiseZhCardCreek",image:s.car1,title:"迪拜溪传统独桅帆船晚餐",subtitle:"游船观光",tour:"迪拜溪（Al Seef）",duration:"1.5–2 小时",price:"AED 85 起",link:"/city/sndcruise1"},null,8,["image"]),V(a,{"key-id":"cruiseZhCardMarina",image:s.car2,title:"迪拜码头独桅帆船晚餐",subtitle:"游船观光",tour:"迪拜码头",duration:"2 小时",price:"AED 115 起",link:"/city/sndcruise1"},null,8,["image"]),V(a,{"key-id":"cruiseZhCardCanal",image:s.car3,title:"水道玻璃游船晚餐",subtitle:"游船观光",tour:"迪拜运河",duration:"2–2.5 小时",price:"AED 149 起",link:"/city/sndcruise1"},null,8,["image"]),V(a,{"key-id":"cruiseZhCardLotus",image:s.car4,title:"Lotus 巨型游艇晚餐",subtitle:"游船观光",tour:"迪拜码头 / 港湾",duration:"3 小时",price:"AED 239 起",link:"/city/sndcruise1"},null,8,["image"])]),e[9]||(e[9]=Te('<div class="text-card" data-v-2c003ba9><h2 id="cruiseZhPriceTitle" data-c="@id" data-v-2c003ba9>迪拜游船晚宴价格表</h2><table class="price-table" data-v-2c003ba9><thead data-v-2c003ba9><tr data-v-2c003ba9><th id="cruiseZhPriceThProduct" data-c="@id" data-v-2c003ba9>游船产品</th><th id="cruiseZhPriceThTime" data-c="@id" data-v-2c003ba9>时间/时长</th><th id="cruiseZhPriceThTicket" data-c="@id" data-v-2c003ba9>仅门票价格</th></tr></thead><tbody data-v-2c003ba9><tr data-v-2c003ba9><td id="cruiseZhPriceCreekTitle" data-c="@id" data-v-2c003ba9>迪拜溪传统独桅帆船晚餐</td><td id="cruiseZhPriceCreekTime" data-c="@id" data-v-2c003ba9>90–120 分钟</td><td data-v-2c003ba9><strong style="color:#b01b1b;" data-v-2c003ba9> 成人 <span id="cruiseZhPriceCreekAdult" data-c-num="@id" data-format="price-AED" data-v-2c003ba9>85</span> | 儿童 <span id="cruiseZhPriceCreekChild" data-c-num="@id" data-format="price-AED" data-v-2c003ba9>70</span></strong></td></tr><tr data-v-2c003ba9><td id="cruiseZhPriceMarinaTitle" data-c="@id" data-v-2c003ba9>迪拜码头独桅帆船晚餐</td><td id="cruiseZhPriceMarinaTime" data-c="@id" data-v-2c003ba9>2 小时</td><td data-v-2c003ba9><strong style="color:#b01b1b;" data-v-2c003ba9> 成人 <span id="cruiseZhPriceMarinaAdult" data-c-num="@id" data-format="price-AED" data-v-2c003ba9>115</span> | 儿童 <span id="cruiseZhPriceMarinaChild" data-c-num="@id" data-format="price-AED" data-v-2c003ba9>95</span></strong></td></tr><tr data-v-2c003ba9><td id="cruiseZhPriceCanalTitle" data-c="@id" data-v-2c003ba9>水道玻璃游船晚餐</td><td id="cruiseZhPriceCanalTime" data-c="@id" data-v-2c003ba9>约 2 小时</td><td data-v-2c003ba9><strong style="color:#b01b1b;" data-v-2c003ba9> 成人 <span id="cruiseZhPriceCanalAdult" data-c-num="@id" data-format="price-AED" data-v-2c003ba9>149</span> | 儿童 <span id="cruiseZhPriceCanalChild" data-c-num="@id" data-format="price-AED" data-v-2c003ba9>119</span></strong></td></tr><tr data-v-2c003ba9><td id="cruiseZhPriceLotusTitle" data-c="@id" data-v-2c003ba9>Lotus 巨型游艇晚餐</td><td id="cruiseZhPriceLotusTime" data-c="@id" data-v-2c003ba9>3 小时</td><td data-v-2c003ba9><strong style="color:#b01b1b;" data-v-2c003ba9> 成人 <span id="cruiseZhPriceLotusAdult" data-c-num="@id" data-format="price-AED" data-v-2c003ba9>239</span> | 儿童 <span id="cruiseZhPriceLotusChild" data-c-num="@id" data-format="price-AED" data-v-2c003ba9>189</span></strong></td></tr></tbody></table><p id="cruiseZhPriceNote" data-c-html="@id" style="margin-top:8px;font-size:0.95rem;color:#555;" data-v-2c003ba9> * 以上价格为<strong data-v-2c003ba9>每人</strong>计。婴儿（0–2 岁）免费。仅门票不含酒店接送与座位升级。 可选私家往返接送（迪拜城区）：轿车 1–4 人 AED 180 / MPV 5–7 人 AED 220 / 面包车 10–14 人 AED 350 （Jebel Ali/JVC/DIP 额外 +AED 40–60；从沙迦出发 +AED 100）。可按需免费提供儿童安全座椅（数量有限；依据阿联酋法规）。 </p></div>',1)),m("div",C5,[m("div",k5,[m("button",{class:"cta-btn cta-gray",onClick:e[0]||(e[0]=(...o)=>i.copyEmail&&i.copyEmail(...o)),id:"cruiseZhCTAEmail","data-c":"@id"},"邮件咨询"),m("button",{class:"cta-btn cta-green",onClick:e[1]||(e[1]=(...o)=>i.openWhatsappModal&&i.openWhatsappModal(...o)),id:"cruiseZhCTAWhatsApp","data-c":"@id"},"WhatsApp 咨询"),m("button",{class:"cta-btn cta-green",onClick:e[2]||(e[2]=(...o)=>i.openWechatModal&&i.openWechatModal(...o)),id:"cruiseZhCTAWechat","data-c":"@id"},"微信咨询"),m("button",{class:"cta-btn cta-red",onClick:e[3]||(e[3]=(...o)=>i.bookNow&&i.bookNow(...o)),id:"cruiseZhCTACart","data-c":"@id"},"万德购物车")])]),s.showEmailToast?(W(),B("div",P5,[...e[6]||(e[6]=[m("div",{class:"center-toast-box"},[m("p",{id:"cruiseZhEmailCopiedText","data-c-html":"@id"},[m("strong",null,"info@wanderwonderworlddubai.com"),we(" 已复制到剪贴板 ")])],-1)])])):ae("",!0),s.showWhatsappModal?(W(),B("div",S5,[m("div",R5,[m("button",{class:"qr-close","aria-label":"关闭",onClick:e[4]||(e[4]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.whatsappQR,alt:"WhatsApp 二维码",id:"cruiseZhWhatsappQR","data-c-src":"@id"},null,8,D5)])])):ae("",!0),s.showWechatModal?(W(),B("div",x5,[m("div",N5,[m("button",{class:"qr-close","aria-label":"关闭",onClick:e[5]||(e[5]=(...o)=>i.closeModals&&i.closeModals(...o))},"×"),m("img",{src:s.wechatQR,alt:"微信二维码",id:"cruiseZhWechatQR","data-c-src":"@id"},null,8,M5)])])):ae("",!0),m("div",V5,[e[7]||(e[7]=m("h2",{id:"cruiseZhFaqTitle","data-c":"@id"},"常见问题",-1)),(W(!0),B(je,null,Ut(s.faqs,(o,l)=>(W(),B("div",{key:l,class:"faq-item"},[m("div",{class:"faq-question",onClick:d=>i.toggleFaq(l)},[m("span",null,oe(o.question),1),m("span",L5,oe(o.open?"▲":"▼"),1)],8,O5),o.open?(W(),B("div",F5,[m("p",null,oe(o.answer),1)])):ae("",!0)]))),128))]),e[10]||(e[10]=Te('<div class="text-card" data-v-2c003ba9><h2 id="cruiseZhS1Title" data-c="@id" data-v-2c003ba9>水上良宵，从这里挑选：航线总览</h2><p id="cruiseZhS1P1" data-c-html="@id" data-v-2c003ba9><strong data-v-2c003ba9>迪拜河传统木船晚宴：</strong>乘坐阿拉伯多乌木船（Dhow），欣赏老迪拜天际线；国际自助晚餐，含瓶装水/软饮；按规定开放时有 <em data-v-2c003ba9>Tanoura</em> 民俗表演。亲民价位、氛围轻松。可付费锁定<em data-v-2c003ba9>上层甲板</em>或<em data-v-2c003ba9>靠窗座</em>，加购登船前老城迷你步行＋阿布拉小船，或私家酒店接送。</p><p id="cruiseZhS1P2" data-c-html="@id" data-v-2c003ba9><strong data-v-2c003ba9>迪拜码头 Marina 木船晚宴：</strong>人气夜景航线——Marina、JBR 与 Bluewaters 一线尽收眼底。船型可能为传统木船或现代玻璃船（由运营方安排）。含自助晚餐与软饮，按规定开放文娱。可选上层/靠窗座位与生日/纪念日桌面布置。</p><p id="cruiseZhS1P3" data-c-html="@id" data-v-2c003ba9><strong data-v-2c003ba9>迪拜水运河玻璃游船晚宴：</strong>高端玻璃全景船，途经水运河与商务湾桥群，大片落地视野，安静而带“轻法餐”氛围；有机会优先安排窗景位（以当日情况为准）。可加购登船前速览 Dubai Frame 门票。</p><p id="cruiseZhS1P4" data-c-html="@id" data-v-2c003ba9><strong data-v-2c003ba9>Lotus 超级游艇晚宴：</strong>畅游 3 小时，迪拜大型游艇之一；现场 DJ、多层甲板、开放式料理台与休闲沙发区。可选 VIP 沙发区；在许可日期可加购 Premium Drinks 酒水套餐。</p></div><div class="text-card" data-v-2c003ba9><h2 id="cruiseZhS2Title" data-c="@id" data-v-2c003ba9>条款与细则（游船晚宴）</h2><p id="cruiseZhS2P1" data-c-html="@id" data-v-2c003ba9><strong data-v-2c003ba9>登船与时间：</strong>标准航线（河/码头/水运河）20:00 登船、20:30 开航，航行约 90–120 分钟。Lotus 超级游艇 19:00 报到，19:30–22:30 航行。迟到将视作未到场，由船方认定。</p><p id="cruiseZhS2P2" data-c-html="@id" data-v-2c003ba9><strong data-v-2c003ba9>费用包含：</strong>仅门票包含船上座位、自助晚餐（清真；可选素/荤；耆那/纯素需提前告知）、瓶装水/软饮，以及在允许时段的演出。含税。酒精饮品仅在持牌船只与非斋月/非禁酒日提供。</p><p id="cruiseZhS2P3" data-c-html="@id" data-v-2c003ba9><strong data-v-2c003ba9>接送服务：</strong>酒店私家往返接送可按价目表加购。可按需免费提供儿童/增高座椅（数量有限）。车辆内禁止饮食与吸烟。</p><p id="cruiseZhS2P4" data-c-html="@id" data-v-2c003ba9><strong data-v-2c003ba9>座位安排：</strong>先到先得或由运营方统筹。付费升级保证区域（上层/靠窗/VIP），不保证具体桌号。同行家庭尽量安排同桌。</p><p id="cruiseZhS2P5" data-c-html="@id" data-v-2c003ba9><strong data-v-2c003ba9>天气/航线：</strong>海事管控、风力或水路交通可能调整航线/泊位（如运河瀑布临时关闭）。如运营方取消，可改期或全额退款；若仅变更航线但照常航行，则不予退款。</p><p id="cruiseZhS2P6" data-c-html="@id" data-v-2c003ba9><strong data-v-2c003ba9>改期与取消：</strong>河/码头/运河：≥24 小时免费；12–24 小时收 50%；&lt;12 小时或未到场收 100%。Lotus/VIP：≥48 小时免费；24–48 小时收 50%；&lt;24 小时收 100%。节庆夜（跨年/国庆/大型活动）条款更严且可能加价。</p><p id="cruiseZhS2P7" data-c-html="@id" data-v-2c003ba9><strong data-v-2c003ba9>合规与安全：</strong>船只持 DMCA/RTA 执照，配备救生衣与专业船员；接送车辆已投保并由 RTA 持证司机驾驶。</p></div><div class="text-card" data-v-2c003ba9><h2 id="cruiseZhS3Title" data-c="@id" data-v-2c003ba9>为何选择在万德假日预订游船</h2><p id="cruiseZhS3P1" data-c-html="@id" data-v-2c003ba9> 票价有竞争力，升级选项清晰，客服响应及时。提供 08:00–22:00 WhatsApp 礼宾服务，可选私家酒店接送（免费儿童座椅按需预留），节日/纪念日加项（蛋糕、桌面布置、摄影），并在规则时窗内提供一次免费改期（视余位而定）， 让您的夜晚从确认到登船都更省心。 </p></div>',3))])}const W5=pt(y5,[["render",U5],["__scopeId","data-v-2c003ba9"]]),q5=[{path:"/",name:"Home",component:$9},{path:"/transfers",name:"Transfers",component:px},{path:"/packages",name:"Packages",component:Ux},{path:"/safari",name:"Safari",component:u3},{path:"/city",name:"City",component:M3},{path:"/cruise",name:"Cruise",component:rN},{path:"/cn",name:"HomeZh",component:CN},{path:"/cn/transfers",name:"TransfersZh",component:YN},{path:"/cn/packages",name:"PackagesZh",component:TM},{path:"/cn/safari",name:"SafariZh",component:KM},{path:"/cn/city",name:"CityZh",component:v5},{path:"/cn/cruise",name:"CruiseZh",component:W5},{path:"/contact",name:"Contact",component:oN},{path:"/transfers/short",name:"TransferShort",component:()=>nt(()=>import("./short-B0PTVPXE.js"),__vite__mapDeps([0,1,2]))},{path:"/transfers/long",name:"TransferLong",component:()=>nt(()=>import("./long-jD3DKlYB.js"),__vite__mapDeps([3,4,5]))},{path:"/safari/regsafari",name:"SafariReg",component:()=>nt(()=>import("./regsafari-2mK85YtY.js"),__vite__mapDeps([6,7]))},{path:"/safari/upsafari",name:"SafariUp",component:()=>nt(()=>import("./upsafari-CcMuoZ7A.js"),__vite__mapDeps([8,9]))},{path:"/safari/addon",name:"Addon",component:()=>nt(()=>import("./addon-D7AX6mXJ.js"),__vite__mapDeps([10,11]))},{path:"/package/34nights",name:"34Nights",component:()=>nt(()=>import("./34nights-DtoV-x-6.js"),__vite__mapDeps([12,13]))},{path:"/package/56nights",name:"56Nights",component:()=>nt(()=>import("./56nights-D-0LW1D9.js"),__vite__mapDeps([14,15]))},{path:"/city/city12",name:"City12",component:()=>nt(()=>import("./city12-BA3Us99r.js"),__vite__mapDeps([16,17]))},{path:"/city/city34",name:"City34",component:()=>nt(()=>import("./city34-D3_Jn_G6.js"),__vite__mapDeps([18,19]))},{path:"/city/sndcruise",name:"Sndcruise",component:()=>nt(()=>import("./sndcruise-DwgzJ8Nf.js"),__vite__mapDeps([20,21]))},{path:"/city/sndcruise1",name:"Sndcruise1",component:()=>nt(()=>import("./sndcruise1-BdUpmoBm.js"),__vite__mapDeps([22,23]))},{path:"/city/city121",name:"City121",component:()=>nt(()=>import("./city121-BpEISzmS.js"),__vite__mapDeps([24,25]))},{path:"/city/city341",name:"City341",component:()=>nt(()=>import("./city341-CRbnXdZN.js"),__vite__mapDeps([26,27]))},{path:"/transfers/short1",name:"TransferShort1",component:()=>nt(()=>import("./short1-BRBIujAd.js"),__vite__mapDeps([28,1,29]))},{path:"/transfers/long1",name:"TransferLong1",component:()=>nt(()=>import("./long1-7ycQxYQO.js"),__vite__mapDeps([30,4,31]))},{path:"/safari/addon1",name:"Addon1",component:()=>nt(()=>import("./addon1-Hhe4xMD7.js"),__vite__mapDeps([32,33]))},{path:"/safari/regsafari1",name:"SafariReg1",component:()=>nt(()=>import("./regsafari1-CYc6QNUA.js"),__vite__mapDeps([34,35]))},{path:"/safari/upsafari1",name:"SafariUp1",component:()=>nt(()=>import("./upsafari1-DgqMkwWs.js"),__vite__mapDeps([36,37]))},{path:"/package/34nights1",name:"34Nights1",component:()=>nt(()=>import("./34nights1-d_Vqsmnl.js"),__vite__mapDeps([38,39]))},{path:"/package/56nights1",name:"56Nights1",component:()=>nt(()=>import("./56nights1-Cqhg0aIH.js"),__vite__mapDeps([40,41]))},{path:"/admin",name:"Admin",component:()=>nt(()=>import("./Admin-DQeVdjxd.js"),[])}],B5=t9({history:R4(),routes:q5,scrollBehavior(t,e,n){return n||{left:0,top:0}}}),qh=hR(YD),ob=gR();qh.use(ob);qh.use(B5);$t(ob).hydrate();qh.mount("#app");export{$5 as $,ib as A,ab as B,il as C,al as D,ol as E,je as F,cl as G,fl as H,pl as I,ml as J,gl as K,vl as L,yl as M,_l as N,bl as O,G5 as P,ri as Q,z5 as R,Ye as S,u1 as T,Z5 as U,h1 as V,Qt as W,on as X,e6 as Y,t6 as Z,pt as _,m as a,j5 as a0,K5 as a1,Q5 as a2,J5 as a3,X5 as a4,Y5 as a5,B5 as a6,ae as b,B as c,Te as d,we as e,jn as f,pn as g,Nt as h,nl as i,In as j,rl as k,Wt as l,V as m,Ge as n,W as o,lt as p,ll as q,Ut as r,dl as s,oe as t,$t as u,ul as v,hn as w,hl as x,rb as y,sb as z};
